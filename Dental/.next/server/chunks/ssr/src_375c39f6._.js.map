{"version":3,"sources":["../../../../node_modules/clsx/dist/clsx.mjs","../../../../src/components/ui/Card.tsx","../../../../src/app/dashboard/page.tsx"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import { ReactNode, HTMLAttributes } from 'react';\nimport { clsx } from 'clsx';\n\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function Card({ children, className, ...props }: CardProps) {\n  return (\n    <div className={clsx('rounded-lg border bg-white p-6 shadow-sm', className)} {...props}>\n      {children}\n    </div>\n  );\n}\n\nexport function CardHeader({ children, className }: CardProps) {\n  return <div className={clsx('mb-4', className)}>{children}</div>;\n}\n\nexport function CardTitle({ children, className }: CardProps) {\n  return <h3 className={clsx('text-lg font-semibold text-gray-900', className)}>{children}</h3>;\n}\n\nexport function CardContent({ children, className }: CardProps) {\n  return <div className={clsx(className)}>{children}</div>;\n}\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { dashboardAPI, DashboardSummary } from '@/lib/api';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';\nimport { format } from 'date-fns';\n\nexport default function DashboardPage() {\n  const router = useRouter();\n  const { user } = useAuth();\n  const [summary, setSummary] = useState<DashboardSummary | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Redirect admin users to super-admin dashboard\n    if (user && user.role === 'admin') {\n      router.push('/dashboard/super-admin');\n      return;\n    }\n  }, [user, router]);\n\n  useEffect(() => {\n    let cancelled = false;\n    const loadSummary = async () => {\n      try {\n        const response = await dashboardAPI.summary();\n        if (!cancelled) {\n          setSummary(response.data);\n        }\n      } catch (err) {\n        console.error('Failed to load summary:', err);\n      } finally {\n        if (!cancelled) {\n          setIsLoading(false);\n        }\n      }\n    };\n    loadSummary();\n    return () => { cancelled = true; };\n  }, []);\n\n  if (isLoading) return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h2 className=\"text-3xl font-bold text-gray-900\">Dashboard</h2>\n        <p className=\"text-gray-600 mt-1\">Welcome back! Here's your overview</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <Card className=\"bg-gradient-to-br from-blue-500 to-blue-600 border-0 shadow-xl hover:shadow-2xl transition-shadow\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-blue-100 text-sm font-medium\">Total Patients</p>\n                <p className=\"text-5xl font-bold text-white mt-2\">{summary?.patientsCount || 0}</p>\n              </div>\n              <div className=\"bg-white bg-opacity-20 p-4 rounded-xl\">\n                <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                </svg>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gradient-to-br from-green-500 to-emerald-600 border-0 shadow-xl hover:shadow-2xl transition-shadow\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-green-100 text-sm font-medium\">Upcoming Appointments</p>\n                <p className=\"text-5xl font-bold text-white mt-2\">{summary?.upcomingAppointmentsCount || 0}</p>\n              </div>\n              <div className=\"bg-white bg-opacity-20 p-4 rounded-xl\">\n                <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card className=\"shadow-lg border-gray-200 hover:shadow-xl transition-shadow\">\n          <CardHeader className=\"border-b bg-gray-50\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n              </svg>\n              Recent Patients\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-4\">\n            <div className=\"space-y-1\">\n              {summary?.recentPatients.slice(0, 5).map((patient) => (\n                <div key={patient._id} className=\"flex justify-between items-center py-3 px-3 hover:bg-gray-50 rounded-lg transition-colors\">\n                  <div>\n                    <p className=\"font-semibold text-gray-900\">{patient.name}</p>\n                    <p className=\"text-sm text-gray-600\">{patient.disease || 'No diagnosis'}</p>\n                  </div>\n                  <a\n                    href={`/dashboard/patients/${patient._id}`}\n                    className=\"text-blue-600 text-sm font-medium hover:text-blue-700 flex items-center gap-1\"\n                  >\n                    View\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                    </svg>\n                  </a>\n                </div>\n              ))}\n              {(!summary?.recentPatients || summary.recentPatients.length === 0) && (\n                <p className=\"text-gray-500 text-sm text-center py-8\">No patients yet</p>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"shadow-lg border-gray-200 hover:shadow-xl transition-shadow\">\n          <CardHeader className=\"border-b bg-gray-50\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n              Upcoming Appointments\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-4\">\n            <div className=\"space-y-1\">\n              {summary?.upcomingAppointments.slice(0, 5).map((appt) => (\n                <div key={appt._id} className=\"flex justify-between items-center py-3 px-3 hover:bg-gray-50 rounded-lg transition-colors\">\n                  <div>\n                    <p className=\"text-sm font-semibold text-gray-900\">\n                      {format(new Date(appt.startAt), 'MMM d, h:mm a')}\n                    </p>\n                    <p className=\"text-xs text-gray-600 mt-0.5\">{appt.status}</p>\n                  </div>\n                  <span className=\"text-xs px-3 py-1.5 bg-green-100 text-green-700 rounded-full font-medium\">\n                    {appt.status}\n                  </span>\n                </div>\n              ))}\n              {(!summary?.upcomingAppointments || summary.upcomingAppointments.length === 0) && (\n                <p className=\"text-gray-500 text-sm\">No upcoming appointments</p>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"8DAAwP,SAAS,IAAO,IAAI,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,UAAU,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,SAAS,CAAC,EAAA,AAAE,GAAI,EAAD,CAAG,AAA7U,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,GAAG,UAAU,OAAO,GAAG,UAAU,OAAO,EAAE,GAAG,OAAO,GAAG,UAAU,OAAO,EAAE,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE,GAAG,CAAD,CAAG,EAAE,CAAC,CAAC,GAAE,CAAC,GAAI,EAAD,EAAK,CAAD,EAAI,GAAA,CAAG,CAAE,IAAG,CAAC,AAAC,MAAM,IAAI,KAAK,EAAE,CAAC,CAAC,EAAE,GAAG,CAAD,GAAK,CAAD,EAAI,GAAA,CAAG,CAAE,GAAG,CAAC,EAAE,OAAO,CAAC,EAA+F,EAAA,CAAE,GAAI,EAAD,EAAK,CAAD,EAAI,GAAA,CAAG,CAAE,IAAG,CAAC,CAAE,OAAO,CAAC,CCQxW,SAAS,EAAK,UAAE,CAAQ,CAAE,WAAS,CAAE,GAAG,EAAkB,EAC/D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAK,2CAA4C,GAAa,GAAG,CAAK,UACnF,GAGP,CAEO,SAAS,EAAW,UAAE,CAAQ,CAAE,WAAS,CAAa,EAC3D,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAK,OAAQ,YAAa,GACnD,CAEO,SAAS,EAAU,UAAE,CAAQ,WAAE,CAAS,CAAa,EAC1D,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAK,sCAAuC,YAAa,GACjF,CAEO,SAAS,EAAY,UAAE,CAAQ,WAAE,CAAS,CAAa,EAC5D,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAK,YAAa,GAC3C,uJCxBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA0B,MAC1D,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SA8B3C,CA5BA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,GAAI,GAAsB,UAAd,EAAK,IAAI,CAAc,YACjC,EAAO,IAAI,CAAC,yBAGhB,EAAG,CAAC,EAAM,EAAO,EAEjB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,GAAY,EAgBhB,MADA,CAdoB,UAClB,GAAI,CACF,IAAM,EAAW,MAAM,EAAA,YAAY,CAAC,OAAO,EACvC,CAAC,GACH,EAAW,EAAS,IADN,AACU,CAE5B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,0BAA2B,EAC3C,QAAU,CACJ,AAAC,GACH,GAAa,EAEjB,EACF,CAJoB,GAMb,KAAQ,GAAY,CAAM,CACnC,EAAG,EAAE,EAED,GAAkB,CAAA,EAAA,EAAA,GAAP,AAAO,EAAC,MAAA,CAAI,UAAU,yDAAgD,eAGnF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,cACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,0CAGpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,6GACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,mBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,GAAS,eAAiB,OAE/E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,sRAO/E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iHACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,0BAClD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,GAAS,2BAA6B,OAE3F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,yGAQjF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wEACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,+BACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,oHACjE,uBAIV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,GAAS,eAAe,MAAM,EAAG,GAAG,IAAK,AAAD,GACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAsB,UAAU,sGAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAQ,IAAI,GACxD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,EAAQ,OAAO,EAAI,oBAE3D,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,CAAC,oBAAoB,EAAE,EAAQ,GAAG,CAAA,CAAE,CAC1C,UAAU,0FACX,OAEC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,wBAXjE,EAAQ,GAAG,GAgBtB,CAAC,CAAC,GAAS,gBAAkB,MAAQ,cAAc,CAAC,MAAM,AAAK,CAAC,EAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,4BAM9D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wEACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,+BACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAChF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6FACjE,6BAIV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,GAAS,qBAAqB,MAAM,EAAG,GAAG,IAAK,AAAD,GAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmB,UAAU,sGAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CACV,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,IAAI,KAAK,EAAK,OAAO,EAAG,mBAElC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wCAAgC,EAAK,MAAM,MAE1D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oFACb,EAAK,MAAM,KARN,EAAK,GAAG,GAYnB,CAAC,CAAC,GAAS,0BAAwB,EAAQ,oBAAoB,CAAC,MAAM,AAAK,CAAC,EAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,0CAQrD","ignoreList":[0]}