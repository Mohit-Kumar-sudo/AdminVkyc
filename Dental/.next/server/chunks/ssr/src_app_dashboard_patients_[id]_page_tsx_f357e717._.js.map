{"version":3,"sources":["../../../../src/app/dashboard/patients/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { patientsAPI, Patient } from '@/lib/api';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { Modal } from '@/components/ui/Modal';\n\nexport default function PatientDetailPage() {\n  const params = useParams<{ id: string }>();\n  const router = useRouter();\n  const [patient, setPatient] = useState<Patient | null>(null);\n  const [beforePhotoFile, setBeforePhotoFile] = useState<File | null>(null);\n  const [afterPhotoFile, setAfterPhotoFile] = useState<File | null>(null);\n  const [uploadMessage, setUploadMessage] = useState('');\n  const [generatedAfterImage, setGeneratedAfterImage] = useState<string | null>(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [uploadedBeforeImage, setUploadedBeforeImage] = useState<string | null>(null);\n  const [uploadedImagePath, setUploadedImagePath] = useState<string | null>(null);\n  const [uploadedImageId, setUploadedImageId] = useState<string | null>(null);\n  const [selectedTreatment, setSelectedTreatment] = useState<string>('IMPLANTS');\n  const [photoAnalysis, setPhotoAnalysis] = useState<string>('');\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [showAnalysis, setShowAnalysis] = useState(false);\n  const [progressImages, setProgressImages] = useState<Array<{month: number, percentage: number, description: string, originalImage: string}>>([]);\n  const [isGeneratingProgress, setIsGeneratingProgress] = useState(false);\n  const [showProgressImages, setShowProgressImages] = useState(false);\n  const [progressPlan, setProgressPlan] = useState<string>('');\n  const [showTestimonialForm, setShowTestimonialForm] = useState(false);\n  const [testimonialForm, setTestimonialForm] = useState({ rating: 5, feedback: '', treatmentType: 'SMILE DESIGNING', isPublished: false });\n\n  // Modal state\n  const [modal, setModal] = useState<{\n    isOpen: boolean;\n    title: string;\n    message: string;\n    type: 'success' | 'error' | 'warning' | 'info' | 'confirm';\n    onConfirm?: () => void;\n  }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    type: 'info'\n  });\n\n  const showModal = (\n    title: string,\n    message: string,\n    type: 'success' | 'error' | 'warning' | 'info' | 'confirm' = 'info',\n    onConfirm?: () => void\n  ) => {\n    setModal({ isOpen: true, title, message, type, onConfirm });\n  };\n\n  const closeModal = () => {\n    setModal({ ...modal, isOpen: false });\n  };\n\n  useEffect(() => {\n    let cancelled = false;\n    const loadPatient = async () => {\n      const res = await patientsAPI.get(params.id);\n      if (!cancelled) {\n        setPatient(res.data);\n      }\n    };\n    loadPatient();\n    \n    // Clear uploaded and generated images on component mount (page load/refresh)\n    setUploadedBeforeImage(null);\n    setGeneratedAfterImage(null);\n    setUploadMessage('');\n    setUploadedImagePath(null);\n    setUploadedImageId(null);\n    \n    // Cleanup function - clear images when navigating away\n    return () => { \n      cancelled = true;\n      setUploadedBeforeImage(null);\n      setGeneratedAfterImage(null);\n      setUploadedImagePath(null);\n      setUploadedImageId(null);\n    };\n  }, [params.id]);\n\n  const handleFileUpload = async (file: File, type: 'before' | 'after') => {\n    if (!file) return;\n    const fd = new FormData();\n    fd.append('images', file);\n    fd.append('type', type);\n    \n    try {\n      // Upload the image first\n      const uploadResponse = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/before-after`, { \n        method: 'POST', \n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }, \n        body: fd \n      });\n      \n      const uploadData = await uploadResponse.json();\n      \n      // Refresh patient data\n      const res = await patientsAPI.get(params.id); \n      setPatient(res.data);\n      \n      // Store upload info for Before photos (for later generation)\n      if (type === 'before') {\n        const imagePath = uploadData.imagePath || uploadData.path;\n        setUploadedBeforeImage(`${process.env.NEXT_PUBLIC_API_URL?.replace('/api', '')}/${imagePath}`);\n        setUploadedImagePath(imagePath);\n        setUploadedImageId(uploadData.imageId || uploadData._id);\n        setUploadMessage('Before photo uploaded successfully. Click \"Generate After Photo\" to create AI enhancement.');\n      } else {\n        setUploadMessage('After photo uploaded successfully!');\n      }\n      \n      if (type === 'before') setBeforePhotoFile(null);\n      else setAfterPhotoFile(null);\n      setTimeout(() => setUploadMessage(''), 5000);\n    } catch (e) { \n      setUploadMessage(`Failed to upload ${type} photo`);\n      setTimeout(() => setUploadMessage(''), 3000);\n    }\n  };\n\n  const handleGenerateAfterPhoto = async () => {\n    if (!uploadedImagePath) {\n      setUploadMessage('Please upload a Before photo first.');\n      setTimeout(() => setUploadMessage(''), 3000);\n      return;\n    }\n\n    setUploadMessage('Generating enhanced After photo...');\n    setIsGenerating(true);\n    \n    try {\n      const generateResponse = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/generate-image`, {\n        method: 'POST',\n        headers: { \n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ \n          type: 'before',\n          imageId: uploadedImageId,\n          imagePath: uploadedImagePath,\n          treatmentType: selectedTreatment\n        })\n      });\n      \n      const generatedData = await generateResponse.json();\n      \n      // Check if limit exceeded\n      if (!generateResponse.ok) {\n        if (generateResponse.status === 403) {\n          showModal(\n            'Limit Exceeded',\n            generatedData.error || 'You have exceeded your monthly image conversion limit. Please contact your administrator.',\n            'warning'\n          );\n        } else {\n          setUploadMessage('AI generation failed. Please try again.');\n        }\n        setIsGenerating(false);\n        setTimeout(() => setUploadMessage(''), 5000);\n        return;\n      }\n      \n      if (generatedData.generatedImage) {\n        setGeneratedAfterImage(generatedData.generatedImage);\n        setUploadMessage('enhanced After photo generated successfully!');\n      } else {\n        setUploadMessage('AI generation failed. Please try again.');\n      }\n    } catch (genError) {\n      console.error('Image generation error:', genError);\n      setUploadMessage('AI generation failed. Please try again.');\n    } finally {\n      setIsGenerating(false);\n      setTimeout(() => setUploadMessage(''), 5000);\n    }\n  };\n\n  const handleRemoveBeforeImage = () => {\n    setUploadedBeforeImage(null);\n    setGeneratedAfterImage(null);\n    setBeforePhotoFile(null);\n    setUploadedImagePath(null);\n    setUploadedImageId(null);\n    setUploadMessage('Images cleared. You can upload a new Before photo.');\n    setTimeout(() => setUploadMessage(''), 3000);\n  };\n\n  const handleRemoveAfterImage = () => {\n    setGeneratedAfterImage(null);\n    setUploadMessage('After photo cleared.');\n    setTimeout(() => setUploadMessage(''), 3000);\n  };\n\n  const handleDeleteSavedPhoto = async (imagePath: string, type: 'before' | 'after') => {\n    showModal(\n      'Confirm Delete',\n      `Are you sure you want to delete this ${type} photo?`,\n      'confirm',\n      async () => {\n        try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/delete-image`, {\n        method: 'DELETE',\n        headers: { \n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ imagePath, type })\n      });\n\n      if (response.ok) {\n        setUploadMessage(`${type === 'before' ? 'Before' : 'After'} photo deleted successfully.`);\n        // Refresh patient data\n        const res = await patientsAPI.get(params.id);\n        setPatient(res.data);\n      } else {\n        setUploadMessage(`Failed to delete ${type} photo.`);\n      }\n    } catch (error) {\n      console.error('Delete photo error:', error);\n      setUploadMessage(`Failed to delete ${type} photo.`);\n        }\n        setTimeout(() => setUploadMessage(''), 3000);\n      }\n    );\n  };\n\n  const handleAnalyzePhoto = async () => {\n    if (!uploadedImagePath) {\n      showModal('Upload Required', 'Please upload a photo first', 'warning');\n      return;\n    }\n\n    setIsAnalyzing(true);\n    setPhotoAnalysis('');\n    \n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/analyze-photo`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ imagePath: uploadedImagePath })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setPhotoAnalysis(data.analysis);\n        setShowAnalysis(true);\n      } else {\n        const error = await response.json();\n        showModal('Error', `Failed to analyze photo: ${error.error || 'Unknown error'}`, 'error');\n      }\n    } catch (error) {\n      console.error('Analyze photo error:', error);\n      showModal('Error', 'Failed to analyze photo', 'error');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const handleGenerateProgressImages = async () => {\n    if (!uploadedImagePath) {\n      showModal('Upload Required', 'Please upload a photo first', 'warning');\n      return;\n    }\n\n    setIsGeneratingProgress(true);\n    setProgressImages([]);\n    \n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/generate-progress`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ \n          imagePath: uploadedImagePath,\n          treatmentType: selectedTreatment\n        })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setProgressImages(data.progressData || []);\n        setProgressPlan(data.progressPlan || '');\n        setShowProgressImages(true);\n        setShowAnalysis(false); // Hide text analysis when showing images\n      } else {\n        const error = await response.json();\n        // Check if limit exceeded\n        if (response.status === 403) {\n          showModal(\n            'Limit Exceeded',\n            error.error || 'You have exceeded your monthly image conversion limit. Please contact your administrator.',\n            'warning'\n          );\n        } else {\n          showModal('Error', `Failed to generate progress images: ${error.error || 'Unknown error'}`, 'error');\n        }\n      }\n    } catch (error) {\n      console.error('Generate progress images error:', error);\n      showModal('Error', 'Failed to generate progress images', 'error');\n    } finally {\n      setIsGeneratingProgress(false);\n    }\n  };\n\n  const handleSaveAfterPhoto = async () => {\n    if (!generatedAfterImage) {\n      setUploadMessage('No generated image to save.');\n      setTimeout(() => setUploadMessage(''), 3000);\n      return;\n    }\n\n    try {\n      setUploadMessage('Saving After photo...');\n      \n      // Convert base64 or URL to blob\n      const response = await fetch(generatedAfterImage);\n      const blob = await response.blob();\n      \n      // Create FormData and append the image\n      const formData = new FormData();\n      formData.append('images', blob, `after-${Date.now()}.jpg`);\n      formData.append('type', 'after');\n      \n      // Upload to backend\n      const uploadResponse = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/before-after`, {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` },\n        body: formData\n      });\n\n      if (uploadResponse.ok) {\n        setUploadMessage('After photo saved successfully!');\n        // Clear the temporary generated image\n        setGeneratedAfterImage(null);\n        // Refresh patient data to show in saved photos\n        const res = await patientsAPI.get(params.id);\n        setPatient(res.data);\n      } else {\n        setUploadMessage('Failed to save After photo.');\n      }\n    } catch (error) {\n      console.error('Save after photo error:', error);\n      setUploadMessage('Failed to save After photo.');\n    }\n    setTimeout(() => setUploadMessage(''), 3000);\n  };\n\n  const handleSaveTestimonial = async () => {\n    if (!testimonialForm.feedback.trim()) {\n      showModal('Required Field', 'Please provide feedback', 'warning');\n      return;\n    }\n\n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/testimonial`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(testimonialForm)\n      });\n\n      if (response.ok) {\n        const updatedPatient = await response.json();\n        setPatient(updatedPatient);\n        setTestimonialForm({ rating: 5, feedback: '', treatmentType: 'SMILE DESIGNING', isPublished: false });\n        setShowTestimonialForm(false);\n        showModal('Success', 'Testimonial added successfully!', 'success');\n      } else {\n        const error = await response.json();\n        showModal('Error', `Failed to add testimonial: ${error.error || 'Unknown error'}`, 'error');\n      }\n    } catch (error) {\n      console.error('Save testimonial error:', error);\n      showModal('Error', 'Failed to add testimonial', 'error');\n    }\n  };\n\n  const handleDeleteTestimonial = async (testimonialId: string) => {\n    showModal(\n      'Confirm Delete',\n      'Are you sure you want to delete this testimonial?',\n      'confirm',\n      async () => {\n        try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/patients/${params.id}/testimonial/${testimonialId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        }\n      });\n\n      if (response.ok) {\n        const res = await patientsAPI.get(params.id);\n        setPatient(res.data);\n        showModal('Success', 'Testimonial deleted successfully!', 'success');\n      } else {\n        showModal('Error', 'Failed to delete testimonial', 'error');\n      }\n        } catch (error) {\n          console.error('Delete testimonial error:', error);\n          showModal('Error', 'Failed to delete testimonial', 'error');\n        }\n      }\n    );\n  };\n\n  const calculateAge = (dob?: string) => {\n    if (!dob) return patient?.age || null;\n    const birthDate = new Date(dob);\n    const today = new Date();\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n    return age;\n  };\n\n  const formatDate = (dateStr?: string) => {\n    if (!dateStr) return 'N/A';\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });\n  };\n\n  if (!patient) return (\n    <div className=\"flex items-center justify-center min-h-[400px]\">\n      <div className=\"text-center\">\n        <div className=\"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n        <p className=\"text-gray-600\">Loading patient information...</p>\n      </div>\n    </div>\n  );\n\n  const age = calculateAge(patient.dob);\n  const beforeImages = (patient.beforeAfterImages || []).filter(img => img.type === 'before');\n  const afterImages = (patient.beforeAfterImages || []).filter(img => img.type === 'after');\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-3 space-y-3\">\n      {/* Patient Header Card */}\n      <Card className=\"shadow-lg border-gray-200 bg-white\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-start gap-6\">\n            {/* Profile Photo */}\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-24 h-24 rounded-full overflow-hidden bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg\">\n                {patient.images && patient.images[0] ? (\n                  <img \n                    src={`${process.env.NEXT_PUBLIC_API_URL?.replace('/api', '')}/${patient.images[0].path}`} \n                    alt={patient.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  patient.name.charAt(0).toUpperCase()\n                )}\n              </div>\n            </div>\n\n            {/* Patient Info */}\n            <div className=\"flex-grow\">\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-1\">{patient.name}</h1>\n              {age && <p className=\"text-gray-600 text-base mb-4\">Age {age}</p>}\n\n              {/* Contact Info Grid */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                {/* Phone */}\n                {patient.contact && (\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                      </svg>\n                    </div>\n                    <span className=\"text-gray-700\">{patient.contact}</span>\n                  </div>\n                )}\n\n                {/* Email */}\n                {patient.email && (\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                      </svg>\n                    </div>\n                    <span className=\"text-gray-700\">{patient.email}</span>\n                  </div>\n                )}\n\n                {/* Address */}\n                {patient.address && (\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                      </svg>\n                    </div>\n                    <span className=\"text-gray-700\">{patient.address}</span>\n                  </div>\n                )}\n\n                {/* Last Visit */}\n                {(patient.lastVisit || patient.updatedAt) && (\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                      </svg>\n                    </div>\n                    <span className=\"text-gray-700\">Last visit: {formatDate(patient.lastVisit || patient.updatedAt)}</span>\n                  </div>\n                )}\n              </div>\n\n              {/* Treatment History */}\n              {patient.treatmentHistory && patient.treatmentHistory.length > 0 && (\n                <div className=\"mb-4\">\n                  <h3 className=\"text-sm font-semibold text-gray-900 mb-2\">Treatment History</h3>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {patient.treatmentHistory.map((treatment, idx) => (\n                      <span key={idx} className=\"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium\">\n                        {treatment}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Next Appointment */}\n              {patient.nextAppointment && (\n                <div className=\"flex items-center gap-2 p-3 bg-blue-50 rounded-lg\">\n                  <svg className=\"w-5 h-5 text-blue-600 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n                  <span className=\"text-blue-700 font-medium\">\n                    Next Appointment: {patient.nextAppointment.date} at {patient.nextAppointment.time}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Patient Photography Section */}\n      <Card className=\"shadow-lg border-gray-200 bg-white\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center\">\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n              </svg>\n            </div>\n            <h2 className=\"text-xl font-bold text-gray-900\">Patient Photography</h2>\n          </div>\n\n          <div>\n\n            {/* Treatment Type Selection */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-bold text-gray-800 mb-3 uppercase tracking-wide\">Select Treatment Type</label>\n              <div className=\"flex flex-wrap gap-3\">\n                {['IMPLANTS', 'SMILE DESIGNING', 'TEETH WHITENING', 'BRACES'].map((treatment) => (\n                  <button\n                    key={treatment}\n                    onClick={() => setSelectedTreatment(treatment)}\n                    className={`px-6 py-2.5 rounded-full font-semibold text-sm transition-all transform hover:scale-105 ${\n                      selectedTreatment === treatment\n                        ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg'\n                        : 'bg-white text-gray-600 border-2 border-gray-300 hover:border-blue-500 hover:text-blue-600'\n                    }`}\n                  >\n                    {treatment}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Before Photo */}\n              <div>\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center\">\n                    <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-base font-bold text-gray-900 uppercase tracking-wide\">Before Photo</h3>\n                </div>\n              \n              {/* Show uploaded before image if exists */}\n              {uploadedBeforeImage && (\n                <div className=\"mb-3\">\n                  <div className=\"relative aspect-square overflow-hidden rounded-lg border-2 border-gray-200 group\">\n                    <img \n                      src={uploadedBeforeImage} \n                      alt=\"Before\"\n                      className=\"w-full h-full object-cover\" \n                    />\n                    <div className=\"absolute top-2 left-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-xs px-3 py-1.5 rounded-full font-bold shadow-lg\">\n                      Before Photo\n                    </div>\n                    {/* Delete Button */}\n                    <button\n                      onClick={handleRemoveBeforeImage}\n                      className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-all opacity-0 group-hover:opacity-100\"\n                      title=\"Remove image\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                  {/* Generate Button - Show only if no generated image yet */}\n                  {!generatedAfterImage && !isGenerating && (\n                    <div className=\"mt-3 space-y-2\">\n                      <button\n                        onClick={handleGenerateAfterPhoto}\n                        className=\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center justify-center gap-2\"\n                      >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                        </svg>\n                        Generate After Photo\n                      </button>\n                      \n                      <button\n                        onClick={handleAnalyzePhoto}\n                        disabled={isAnalyzing}\n                        className=\"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {isAnalyzing ? (\n                          <>\n                            <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                            Analyzing...\n                          </>\n                        ) : (\n                          <>\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                            </svg>\n                            Analyze & Suggest Treatments\n                          </>\n                        )}\n                      </button>\n                      \n                      <button\n                        onClick={handleGenerateProgressImages}\n                        disabled={isGeneratingProgress}\n                        className=\"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {isGeneratingProgress ? (\n                          <>\n                            <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                            Generating Progress...\n                          </>\n                        ) : (\n                          <>\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                            </svg>\n                            Show Monthly Progress Images\n                          </>\n                        )}\n                      </button>\n                    </div>\n                  )}\n                </div>\n              )}\n              \n              {/* Upload area - only show if no uploaded image */}\n                {!uploadedBeforeImage && (\n                  <div className=\"border-2 border-dashed border-blue-300 rounded-xl p-10 text-center hover:border-blue-500 hover:bg-blue-50 transition-all bg-gradient-to-br from-blue-50 to-indigo-50\">\n                  <input\n                    type=\"file\"\n                    id=\"before-photo\"\n                    accept=\"image/*\"\n                    disabled={isGenerating}\n                    onChange={(e) => {\n                      const file = e.target.files?.[0];\n                      if (file) {\n                        setBeforePhotoFile(file);\n                        handleFileUpload(file, 'before');\n                      }\n                    }}\n                    className=\"hidden\"\n                  />\n                    <label htmlFor=\"before-photo\" className={`block ${isGenerating ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}>\n                      <div className=\"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg\">\n                        <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                        </svg>\n                      </div>\n                      <p className=\"text-gray-700 font-medium mb-3\">Drag & drop or click to upload</p>\n                      <span className=\"inline-block px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg transform hover:scale-105\">\n                        Select File\n                      </span>\n                    </label>\n                  </div>\n                )}\n            </div>\n\n              {/* After Photo */}\n              <div>\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-indigo-600 to-blue-600 rounded-lg flex items-center justify-center\">\n                    <svg className=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-base font-bold text-gray-900 uppercase tracking-wide\">After Photo</h3>\n                </div>\n              \n              {/* Show AI-generated after image */}\n                {generatedAfterImage && (\n                  <div className=\"mb-4\">\n                    <div className=\"relative aspect-square overflow-hidden rounded-lg border-2 border-blue-500 shadow-xl group\">\n                    <img \n                      src={generatedAfterImage} \n                      alt=\"Generated After\"\n                      className=\"w-full h-full object-cover\" \n                    />\n                      <div className=\"absolute top-2 left-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white text-xs px-3 py-1.5 rounded-full font-bold flex items-center gap-1 shadow-lg\">\n                      <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\" clipRule=\"evenodd\" />\n                      </svg>\n                      Generated\n                    </div>\n                    {/* Delete Button */}\n                    <button\n                      onClick={handleRemoveAfterImage}\n                      className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-all opacity-0 group-hover:opacity-100\"\n                      title=\"Remove generated image\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                    </div>\n                    {/* Save Button */}\n                  <button\n                    onClick={handleSaveAfterPhoto}\n                    className=\"mt-3 w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\n                    </svg>\n                    Save After Photo\n                  </button>                </div>\n              )}\n              \n              {/* Loading State - Show in After section when generating */}\n              {isGenerating && (\n                <div className=\"mb-4 p-8 border-2 border-blue-300 rounded-lg bg-blue-50\">\n                  <div className=\"flex flex-col items-center\">\n                    <div className=\"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-3\"></div>\n                    <p className=\"text-blue-700 font-medium\">Generating enhanced After photo...</p>\n                    <p className=\"text-blue-600 text-sm mt-2\">This may take a few moments</p>\n                  </div>\n                </div>\n              )}\n              \n              {/* Upload area - only show if no generated image and not generating */}\n                {!generatedAfterImage && !isGenerating && (\n                  <div className=\"border-2 border-dashed border-indigo-300 rounded-xl p-10 text-center hover:border-indigo-500 hover:bg-indigo-50 transition-all bg-gradient-to-br from-indigo-50 to-blue-50\">\n                  <input\n                    type=\"file\"\n                    id=\"after-photo\"\n                    accept=\"image/*\"\n                    disabled={isGenerating}\n                    onChange={(e) => {\n                      const file = e.target.files?.[0];\n                      if (file) {\n                        setAfterPhotoFile(file);\n                        handleFileUpload(file, 'after');\n                      }\n                    }}\n                    className=\"hidden\"\n                  />\n                  <label htmlFor=\"after-photo\" className={`block ${isGenerating ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}>\n                    <div className=\"w-16 h-16 bg-gradient-to-br from-indigo-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg\">\n                      <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                      </svg>\n                    </div>\n                    <p className=\"text-gray-700 font-medium mb-3\">Drag & drop or click to upload</p>\n                    <span className=\"inline-block px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-blue-600 text-white rounded-lg font-semibold hover:from-indigo-700 hover:to-blue-700 transition-all shadow-md hover:shadow-lg transform hover:scale-105\">\n                      Select File\n                    </span>\n                  </label>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* AI Analysis Section */}\n          {showAnalysis && photoAnalysis && (\n            <div className=\"mt-6 border border-purple-200 rounded-lg overflow-hidden bg-gradient-to-br from-purple-50 to-pink-50\">\n              <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-3 flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                  </svg>\n                  <h3 className=\"text-white font-bold text-lg\">AI Analysis & Treatment Suggestions</h3>\n                </div>\n                <button\n                  onClick={() => setShowAnalysis(false)}\n                  className=\"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-all\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              <div className=\"p-6\">\n                <div className=\"prose prose-sm max-w-none\">\n                  {photoAnalysis.split('\\n').map((line, index) => {\n                    const trimmed = line.trim();\n                    if (!trimmed) return <br key={index} />;\n                    \n                    // Headers (lines starting with ##, ###, or bold **)\n                    if (trimmed.startsWith('##') || trimmed.startsWith('**')) {\n                      const text = trimmed.replace(/^#+\\s*/, '').replace(/\\*\\*/g, '');\n                      return (\n                        <h3 key={index} className=\"text-lg font-bold text-purple-900 mt-4 mb-2 flex items-center gap-2\">\n                          <span className=\"w-2 h-2 bg-purple-600 rounded-full\"></span>\n                          {text}\n                        </h3>\n                      );\n                    }\n                    \n                    // List items\n                    if (trimmed.match(/^[\\d\\-\\*]\\./)) {\n                      return (\n                        <p key={index} className=\"text-gray-700 mb-2 ml-4 flex items-start gap-2\">\n                          <span className=\"text-purple-600 font-bold\">â€¢</span>\n                          <span>{trimmed.replace(/^[\\d\\-\\*]\\.\\s*/, '')}</span>\n                        </p>\n                      );\n                    }\n                    \n                    // Regular paragraph\n                    return <p key={index} className=\"text-gray-700 mb-2\">{trimmed}</p>;\n                  })}\n                </div>\n                \n\n              </div>\n            </div>\n          )}\n\n          {/* Progress Images Timeline */}\n          {showProgressImages && progressImages.length > 0 && (\n            <div className=\"mt-6 border border-green-200 rounded-lg overflow-hidden bg-gradient-to-br from-green-50 to-teal-50\">\n              <div className=\"bg-gradient-to-r from-green-600 to-teal-600 px-4 py-3 flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                  </svg>\n                  <h3 className=\"text-white font-bold text-lg\">Monthly Treatment Progress Timeline</h3>\n                </div>\n                <button\n                  onClick={() => setShowProgressImages(false)}\n                  className=\"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-all\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              <div className=\"p-6\">\n                <div className=\"space-y-6\">\n                  {progressImages.map((step, index) => (\n                    <div key={index} className=\"relative\">\n                      {/* Timeline connector */}\n                      {index < progressImages.length - 1 && (\n                        <div className=\"absolute left-6 top-32 bottom-0 w-1 bg-gradient-to-b from-green-400 to-teal-400 transform translate-y-4\"></div>\n                      )}\n                      \n                      <div className=\"flex items-start gap-4\">\n                        {/* Timeline dot with percentage */}\n                        <div className=\"flex-shrink-0 flex flex-col items-center\">\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-green-600 to-teal-600 rounded-full flex items-center justify-center shadow-lg z-10\">\n                            <span className=\"text-white font-bold text-lg\">{step.month}</span>\n                          </div>\n                          <div className=\"mt-1 text-xs font-semibold text-green-700 bg-green-100 px-2 py-1 rounded-full\">\n                            {step.percentage}%\n                          </div>\n                        </div>\n                        \n                        {/* Content */}\n                        <div className=\"flex-grow bg-white rounded-lg border border-green-200 shadow-md overflow-hidden\">\n                          <div className=\"p-4 bg-gradient-to-r from-green-100 to-teal-100 border-b border-green-200\">\n                            <h4 className=\"font-bold text-gray-900 text-lg\">Month {step.month}</h4>\n                            <p className=\"text-sm text-gray-700 mt-1\">{step.description}</p>\n                          </div>\n                          <div className=\"p-4\">\n                            <img \n                              src={step.originalImage} \n                              alt={`Progress Month ${step.month}`}\n                              className=\"w-full rounded-lg shadow-md\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                \n                <div className=\"mt-6 p-4 bg-white rounded-lg border border-green-200\">\n                  <p className=\"text-sm text-gray-700 text-center\">\n                    <span className=\"font-semibold text-green-700\">ðŸ“Š Progress Overview:</span> These generated images show the expected treatment progression over time. Actual results may vary based on individual response to treatment.\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Upload Message */}\n          {uploadMessage && (\n            <div className={`mt-4 px-4 py-3 rounded-lg text-sm font-medium ${\n              uploadMessage.includes('Failed') ? 'bg-red-50 text-red-700 border border-red-200' : 'bg-green-50 text-green-700 border border-green-200'\n            }`}>\n              {uploadMessage}\n            </div>\n          )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Saved Before & After Images Section */}\n      {(beforeImages.length > 0 || afterImages.length > 0) && (\n        <Card className=\"shadow-lg border-gray-200 bg-white\">\n          <CardContent className=\"p-8\">\n            <div className=\"flex items-center gap-2 mb-6\">\n              <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n              <h2 className=\"text-xl font-semibold text-gray-900\">Saved Treatment Photos</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              {/* Saved Before Photos */}\n              {beforeImages.length > 0 && (\n                <div>\n                  <h3 className=\"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n                    <span className=\"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm\">Before Photos ({beforeImages.length})</span>\n                  </h3>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    {beforeImages.map((img, idx) => (\n                      <div key={idx} className=\"relative aspect-square overflow-hidden rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow group\">\n                        <img \n                          src={`${process.env.NEXT_PUBLIC_API_URL?.replace('/api', '')}/${img.path}`} \n                          alt={`Before ${idx + 1}`}\n                          className=\"w-full h-full object-cover\" \n                        />\n                        <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2\">\n                          <p className=\"text-white text-xs font-medium\">Before</p>\n                        </div>\n                        {/* Delete Button */}\n                        <button\n                          onClick={() => handleDeleteSavedPhoto(img.path, 'before')}\n                          className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-all opacity-0 group-hover:opacity-100\"\n                          title=\"Delete photo\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                          </svg>\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Saved After Photos */}\n              {afterImages.length > 0 && (\n                <div>\n                  <h3 className=\"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n                    <span className=\"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm\">After Photos ({afterImages.length})</span>\n                  </h3>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    {afterImages.map((img, idx) => (\n                      <div key={idx} className=\"relative aspect-square overflow-hidden rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow group\">\n                        <img \n                          src={`${process.env.NEXT_PUBLIC_API_URL?.replace('/api', '')}/${img.path}`} \n                          alt={`After ${idx + 1}`}\n                          className=\"w-full h-full object-cover\" \n                        />\n                        <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2\">\n                          <p className=\"text-white text-xs font-medium\">After</p>\n                        </div>\n                        {/* Delete Button */}\n                        <button\n                          onClick={() => handleDeleteSavedPhoto(img.path, 'after')}\n                          className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-all opacity-0 group-hover:opacity-100\"\n                          title=\"Delete photo\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                          </svg>\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {beforeImages.length === 0 && afterImages.length === 0 && (\n              <div className=\"text-center py-8 text-gray-500\">\n                <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n                <p className=\"text-lg font-medium\">No saved photos yet</p>\n                <p className=\"text-sm mt-1\">Upload photos in the section above to save them</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Testimonials Section */}\n      <Card className=\"shadow-lg border-gray-200 bg-white\">\n        <CardContent className=\"p-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center gap-2\">\n              <svg className=\"w-6 h-6 text-amber-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\n              </svg>\n              <h2 className=\"text-xl font-semibold text-gray-900\">Patient Testimonials</h2>\n            </div>\n            <Button\n              onClick={() => setShowTestimonialForm(!showTestimonialForm)}\n              className=\"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white px-4 py-2 rounded-lg shadow-md\"\n            >\n              {showTestimonialForm ? 'Cancel' : '+ Add Testimonial'}\n            </Button>\n          </div>\n\n          {/* Testimonial Form */}\n          {showTestimonialForm && (\n            <div className=\"mb-6 p-6 bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-lg\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Add New Testimonial</h3>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Rating</label>\n                  <div className=\"flex gap-2\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <button\n                        key={star}\n                        onClick={() => setTestimonialForm({ ...testimonialForm, rating: star })}\n                        className=\"focus:outline-none\"\n                      >\n                        <svg\n                          className={`w-8 h-8 ${star <= testimonialForm.rating ? 'text-amber-500' : 'text-gray-300'}`}\n                          fill=\"currentColor\"\n                          viewBox=\"0 0 20 20\"\n                        >\n                          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                        </svg>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Treatment Type</label>\n                  <select\n                    value={testimonialForm.treatmentType}\n                    onChange={(e) => setTestimonialForm({ ...testimonialForm, treatmentType: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-gray-900 bg-white\"\n                  >\n                    <option value=\"SMILE DESIGNING\">Smile Designing</option>\n                    <option value=\"IMPLANTS\">Implants</option>\n                    <option value=\"TEETH WHITENING\">Teeth Whitening</option>\n                    <option value=\"BRACES\">Braces</option>\n                    <option value=\"OTHER\">Other</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Feedback</label>\n                  <textarea\n                    value={testimonialForm.feedback}\n                    onChange={(e) => setTestimonialForm({ ...testimonialForm, feedback: e.target.value })}\n                    placeholder=\"Share your experience with the treatment...\"\n                    rows={4}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-gray-900 bg-white\"\n                  />\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"isPublished\"\n                    checked={testimonialForm.isPublished}\n                    onChange={(e) => setTestimonialForm({ ...testimonialForm, isPublished: e.target.checked })}\n                    className=\"w-4 h-4 text-amber-600 rounded focus:ring-amber-500\"\n                  />\n                  <label htmlFor=\"isPublished\" className=\"text-sm text-gray-700\">\n                    Make this testimonial public\n                  </label>\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <Button\n                    onClick={handleSaveTestimonial}\n                    className=\"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white px-6 py-2 rounded-lg\"\n                  >\n                    Save Testimonial\n                  </Button>\n                  <Button\n                    onClick={() => setShowTestimonialForm(false)}\n                    className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-2 rounded-lg\"\n                  >\n                    Cancel\n                  </Button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Testimonials List */}\n          {patient.testimonials && patient.testimonials.length > 0 ? (\n            <div className=\"space-y-4\">\n              {patient.testimonials.map((testimonial: any) => (\n                <div key={testimonial._id} className=\"p-6 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <div className=\"flex\">\n                          {[1, 2, 3, 4, 5].map((star) => (\n                            <svg\n                              key={star}\n                              className={`w-5 h-5 ${star <= testimonial.rating ? 'text-amber-500' : 'text-gray-300'}`}\n                              fill=\"currentColor\"\n                              viewBox=\"0 0 20 20\"\n                            >\n                              <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                            </svg>\n                          ))}\n                        </div>\n                        <span className=\"text-xs font-medium px-2 py-1 bg-amber-100 text-amber-700 rounded-full\">\n                          {testimonial.treatmentType.replace('_', ' ')}\n                        </span>\n                        {testimonial.isPublished && (\n                          <span className=\"text-xs font-medium px-2 py-1 bg-green-100 text-green-700 rounded-full\">\n                            Published\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-gray-700 leading-relaxed\">{testimonial.feedback}</p>\n                      <p className=\"text-xs text-gray-500 mt-2\">\n                        {new Date(testimonial.createdAt).toLocaleDateString('en-US', { \n                          year: 'numeric', \n                          month: 'long', \n                          day: 'numeric' \n                        })}\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => handleDeleteTestimonial(testimonial._id)}\n                      className=\"ml-4 text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-all\"\n                      title=\"Delete testimonial\"\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-gray-500\">\n              <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\n              </svg>\n              <p className=\"text-lg font-medium\">No testimonials yet</p>\n              <p className=\"text-sm mt-1\">Click &quot;Add Testimonial&quot; to collect patient feedback</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Custom Modal */}\n      <Modal\n        isOpen={modal.isOpen}\n        onClose={closeModal}\n        title={modal.title}\n        message={modal.message}\n        type={modal.type}\n        onConfirm={modal.onConfirm}\n        confirmText={modal.type === 'confirm' ? 'Yes, Delete' : 'OK'}\n        cancelText=\"Cancel\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,UACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IACT,CAAA,EAAA,EAAA,SAAA,AAAS,IACxB,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,MACjD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAsB,MAC9D,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,MAC5D,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7C,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACxE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACxE,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACpE,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAChE,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,YAC7D,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACrD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACzC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyF,EAAE,EACzI,CAAC,EAAsB,EAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3D,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACnD,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAE,OAAQ,EAAG,SAAU,GAAI,cAAe,kBAAmB,aAAa,CAAM,GAGjI,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAMvB,CACD,QAAQ,EACR,MAAO,GACP,QAAS,GACT,KAAM,MACR,GAEM,EAAY,CAChB,EACA,EACA,EAA6D,MAAM,CACnE,KAEA,EAAS,CAAE,QAAQ,QAAM,EAAO,eAAS,YAAM,CAAU,EAC3D,EAMA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,GAAY,EAiBhB,MAVA,CANoB,UAClB,IAAM,EAAM,MAAM,EAAA,WAAW,CAAC,GAAG,CAAC,EAAO,EAAE,CACvC,CAAC,GACH,EAAW,EAAI,IAAI,AADL,EAGlB,IAIA,EAAuB,MACvB,EAAuB,MACvB,EAAiB,IACjB,EAAqB,MACrB,EAAmB,MAGZ,KACL,GAAY,EACZ,EAAuB,MACvB,EAAuB,MACvB,EAAqB,MACrB,EAAmB,KACrB,CACF,EAAG,CAAC,EAAO,EAAE,CAAC,EAEd,IAAM,EAAmB,MAAO,EAAY,KAC1C,GAAI,CAAC,EAAM,OACX,IAAM,EAAK,IAAI,SACf,EAAG,MAAM,CAAC,SAAU,GACpB,EAAG,MAAM,CAAC,OAAQ,GAElB,GAAI,CAEF,IAAM,EAAiB,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,aAAa,CAAC,CAAE,CAC1G,MADoE,CAC5D,OACR,EAF8E,MAErE,CAAE,cAAe,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,AAAC,EACpE,KAAM,CACR,GAEM,EAAa,MAAM,EAAe,IAAI,GAGtC,EAAM,MAAM,EAAA,WAAW,CAAC,GAAG,CAAC,EAAO,EAAE,EAI3C,GAHA,EAAW,EAAI,IAAI,EAGN,WAAT,EAAmB,CACrB,IAAM,EAAY,EAAW,SAAS,EAAI,EAAW,IAAI,CACzD,EAAuB,CAAA,EAAA,6BAAoC,OAAA,CAAQ,OAAQ,IAAI,CAAC,EAAE,EAAA,CAAW,EAC7F,EAAqB,GACrB,EAAmB,EAAW,OAAO,EAAI,EAAW,GAAG,EACvD,EAAiB,6FACnB,MACE,CADK,CACY,qCAGf,CAAS,aAAU,EAAmB,MACrC,EAAkB,MACvB,WAAW,IAAM,EAAiB,IAAK,IACzC,CAAE,MAAO,EAAG,CACV,EAAiB,CAAC,iBAAiB,EAAE,EAAK,MAAM,CAAC,EACjD,WAAW,IAAM,EAAiB,IAAK,IACzC,CACF,EAEM,EAA2B,UAC/B,GAAI,CAAC,EAAmB,CACtB,EAAiB,uCACjB,WAAW,IAAM,EAAiB,IAAK,KACvC,MACF,CAEA,EAAiB,sCACjB,GAAgB,GAEhB,GAAI,CACF,IAAM,EAAmB,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,eAAe,CAAC,CAAE,CAC9G,IADsE,GAC9D,OACR,AAFgF,QAEvE,CACP,cAAiB,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,CAC1D,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,KAAM,SACN,QAAS,EACT,UAAW,EACX,cAAe,CACjB,EACF,GAEM,EAAgB,MAAM,EAAiB,IAAI,GAGjD,GAAI,CAAC,EAAiB,EAAE,CAAE,CACQ,KAAK,CAAjC,EAAiB,MAAM,CACzB,EACE,iBACA,EAAc,KAAK,EAAI,4FACvB,WAGF,EAAiB,2CAEnB,GAAgB,GAChB,WAAW,IAAM,EAAiB,IAAK,KACvC,MACF,CAEI,EAAc,cAAc,EAAE,AAChC,EAAuB,EAAc,cAAc,EACnD,EAAiB,iDAEjB,EAAiB,0CAErB,CAAE,MAAO,EAAU,CACjB,QAAQ,KAAK,CAAC,0BAA2B,GACzC,EAAiB,0CACnB,QAAU,CACR,GAAgB,GAChB,WAAW,IAAM,EAAiB,IAAK,IACzC,CACF,EAkBM,EAAyB,MAAO,EAAmB,KACvD,EACE,iBACA,CAAC,qCAAqC,EAAE,EAAK,OAAO,CAAC,CACrD,UACA,UACE,GAAI,CAUN,GAAI,CATa,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,aAAa,CAAC,CAAE,CACpG,MAD8D,CACtD,SADgE,AAExE,QAAS,CACP,cAAiB,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,CAC1D,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,WAAE,OAAW,CAAK,EACzC,EAAA,EAEa,EAAE,CAAE,CACf,EAAiB,CAAA,EAAG,AAAS,aAAW,SAAW,QAAQ,4BAA4B,CAAC,EAExF,IAAM,EAAM,MAAM,EAAA,WAAW,CAAC,GAAG,CAAC,EAAO,EAAE,EAC3C,EAAW,EAAI,IAAI,CACrB,MACE,CADK,CACY,CAAC,iBAAiB,EAAE,EAAK,OAAO,CAAC,CAEtD,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sBAAuB,GACrC,EAAiB,CAAC,iBAAiB,EAAE,EAAK,OAAO,CAAC,CAChD,CACA,WAAW,IAAM,EAAiB,IAAK,IACzC,EAEJ,EAEM,EAAqB,UACzB,GAAI,CAAC,EAAmB,YACtB,EAAU,kBAAmB,8BAA+B,WAI9D,GAAe,GACf,EAAiB,IAEjB,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,cAAc,CAAC,CAAE,CACrG,KAD8D,EACtD,OACR,CAFwE,OAE/D,CACP,cAAiB,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,CAC1D,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,UAAW,CAAkB,EACtD,GAEA,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAiB,EAAK,QAAQ,EAC9B,GAAgB,EAClB,KAAO,CACL,IAAM,EAAQ,MAAM,EAAS,IAAI,GACjC,EAAU,QAAS,CAAC,yBAAyB,EAAE,EAAM,KAAK,EAAI,gBAAA,CAAiB,CAAE,QACnF,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,uBAAwB,GACtC,EAAU,QAAS,0BAA2B,QAChD,QAAU,CACR,GAAe,EACjB,CACF,EAEM,GAA+B,UACnC,GAAI,CAAC,EAAmB,YACtB,EAAU,kBAAmB,8BAA+B,WAI9D,GAAwB,GACxB,EAAkB,EAAE,EAEpB,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,kBAAkB,CAAC,CAAE,CACzG,CAD8D,MACtD,IADgE,GAExE,QAAS,CACP,cAAiB,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,CAC1D,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,UAAW,EACX,cAAe,CACjB,EACF,GAEA,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAkB,EAAK,YAAY,EAAI,EAAE,EACzC,EAAgB,EAAK,YAAY,EAAI,IACrC,GAAsB,GACtB,EAAgB,GAClB,KAD0B,AACnB,CACL,IAAM,EAAQ,MAAM,EAAS,IAAI,GAET,KAAK,CAAzB,EAAS,MAAM,CACjB,EACE,EAN6D,eAO7D,EAAM,KAAK,EAAI,4FACf,WAGF,EAAU,QAAS,CAAC,oCAAoC,EAAE,EAAM,KAAK,EAAI,gBAAA,CAAiB,CAAE,QAEhG,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,kCAAmC,GACjD,EAAU,QAAS,qCAAsC,QAC3D,QAAU,CACR,GAAwB,EAC1B,CACF,EAEM,GAAuB,UAC3B,GAAI,CAAC,EAAqB,CACxB,EAAiB,+BACjB,WAAW,IAAM,EAAiB,IAAK,KACvC,MACF,CAEA,GAAI,CACF,EAAiB,yBAGjB,IAAM,EAAW,MAAM,MAAM,GACvB,EAAO,MAAM,EAAS,IAAI,GAG1B,EAAW,IAAI,SAWrB,GAVA,EAAS,MAAM,CAAC,SAAU,EAAM,CAAC,MAAM,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC,EACzD,EAAS,MAAM,CAAC,OAAQ,SASpB,CANmB,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,aAAa,CAAC,CAAE,CAC1G,MADoE,CAC5D,OACR,EAF8E,MAErE,CAAE,cAAiB,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,AAAC,EACtE,KAAM,CACR,EAAA,EAEmB,EAAE,CAAE,CACrB,EAAiB,mCAEjB,EAAuB,MAEvB,IAAM,EAAM,MAAM,EAAA,WAAW,CAAC,GAAG,CAAC,EAAO,EAAE,EAC3C,EAAW,EAAI,IAAI,CACrB,MACE,CADK,CACY,8BAErB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,0BAA2B,GACzC,EAAiB,8BACnB,CACA,WAAW,IAAM,EAAiB,IAAK,IACzC,EAEM,GAAwB,UAC5B,GAAI,CAAC,EAAgB,QAAQ,CAAC,IAAI,GAAI,YACpC,EAAU,iBAAkB,0BAA2B,WAIzD,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,YAAY,CAAC,CAAE,CACnG,OAD8D,AACtD,OACR,GAFwE,KAE/D,CACP,cAAiB,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,CAC1D,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,EACvB,GAEA,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAiB,MAAM,EAAS,IAAI,GAC1C,EAAW,GACX,EAAmB,CAAE,OAAQ,EAAG,SAAU,GAAI,cAAe,kBAAmB,aAAa,CAAM,GACnG,GAAuB,GACvB,EAAU,UAAW,kCAAmC,UAC1D,KAAO,CACL,IAAM,EAAQ,MAAM,EAAS,IAAI,GACjC,EAAU,QAAS,CAAC,2BAA2B,EAAE,EAAM,KAAK,EAAI,gBAAA,CAAiB,CAAE,QACrF,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,0BAA2B,GACzC,EAAU,QAAS,4BAA6B,QAClD,CACF,EAEM,GAA0B,MAAO,IACrC,EACE,iBACA,oDACA,UACA,UACE,GAAI,CAQN,GAAI,CAPa,MAAM,MAAM,uCAA+C,EAAO,EAAE,CAAC,aAAa,EAAE,GAAe,CAAE,CACpH,EAD8D,KACtD,KADgE,IAExE,QAAS,CACP,cAAiB,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,SAAA,CAAU,AAC5D,CACF,EAAA,EAEa,EAAE,CAAE,CACf,IAAM,EAAM,MAAM,EAAA,WAAW,CAAC,GAAG,CAAC,EAAO,EAAE,EAC3C,EAAW,EAAI,IAAI,EACnB,EAAU,UAAW,oCAAqC,UAC5D,MACE,CADK,CACK,QAAS,+BAAgC,QAEnD,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,4BAA6B,GAC3C,EAAU,QAAS,+BAAgC,QACrD,CACF,EAEJ,EAoBA,GAAI,CAAC,EAAS,MACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mGACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,wCAKnC,IAAM,GAAM,CA3BS,AAAC,IACpB,GAAI,CAAC,EAAK,OAAO,GAAS,KAAO,KACjC,IAAM,EAAY,IAAI,KAAK,GACrB,EAAQ,IAAI,KACd,EAAM,EAAM,WAAW,GAAK,EAAU,WAAW,GAC/C,EAAY,EAAM,QAAQ,GAAK,EAAU,QAAQ,GAIvD,OAHI,EAAY,GAAM,AAAc,OAAK,EAAM,OAAO,GAAK,EAAU,OAAO,EAAA,GAAK,AAC/E,IAEK,EACT,EAiByB,EAAQ,GAAG,EAC9B,GAAe,CAAC,EAAQ,iBAAiB,EAAI,EAAA,AAAE,EAAE,MAAM,CAAC,GAAoB,WAAb,EAAI,IAAI,EACvE,GAAe,AAAD,GAAS,iBAAiB,EAAI,EAAA,AAAE,EAAE,MAAM,CAAC,GAAO,AAAa,YAAT,IAAI,EAE5E,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8CACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,eACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uKACZ,EAAQ,MAAM,EAAI,EAAQ,MAAM,CAAC,EAAE,CAClC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,CAAA,EAAA,6BAAoC,OAAA,CAAQ,OAAQ,IAAI,CAAC,EAAE,EAAQ,MAAM,CAAC,EAAE,CAAC,IAAI,CAAA,CAAE,CACxF,IAAK,EAAQ,IAAI,CACjB,UAAU,+BAGZ,EAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,OAMxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAyC,EAAQ,IAAI,GAClE,IAAO,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yCAA+B,OAAK,MAGzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDAEZ,EAAQ,OAAO,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8NAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,EAAQ,OAAO,MAKnD,EAAQ,KAAK,EACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6GAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,EAAQ,KAAK,MAKjD,EAAQ,OAAO,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,sBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uFACrE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,0CAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,EAAQ,OAAO,MAKnD,CAAC,EAAQ,SAAS,EAAI,EAAQ,SAAA,AAAS,GACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,+FAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BAAgB,eA3FhD,CADkB,EA4FsD,CA3FpE,CAAC,AA2F2E,SA3FlE,AA2F2E,EAAI,EAAQ,SAAS,EA1FjG,AACN,IADU,KAAK,GACV,kBAAkB,CAAC,QAAS,CAAE,KAAM,UAAW,MAAO,OAAQ,IAAK,SAAU,GAFpE,eAiGV,EAAQ,gBAAgB,EAAI,EAAQ,gBAAgB,CAAC,MAAM,CAAG,GAC7D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,sBACzD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAQ,gBAAgB,CAAC,GAAG,CAAC,CAAC,EAAW,IACxC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAe,UAAU,+EACvB,GADQ,SASlB,EAAQ,eAAe,EACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAAsC,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC7F,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6FAEvE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA4B,qBACvB,EAAQ,eAAe,CAAC,IAAI,CAAC,OAAK,EAAQ,eAAe,CAAC,IAAI,iBAU/F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8CACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,sBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,qKACrE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,0CAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAAkC,2BAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAGC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,8EAAqE,0BACtF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,CAAC,WAAY,kBAAmB,kBAAmB,SAAS,CAAC,GAAG,CAAC,AAAC,GACjE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAqB,GACpC,UAAW,CAAC,wFAAwF,EAClG,IAAsB,EAClB,oEACA,4FAAA,CACJ,UAED,GARI,SAcb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8FAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,oBAI7E,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,IAAI,SACJ,UAAU,+BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8IAAqI,iBAIpJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QArbY,CAqbH,IApb3B,EAAuB,MACvB,EAAuB,MACvB,EAAmB,MACnB,EAAqB,MACrB,EAAmB,MACnB,EAAiB,sDACjB,WAAW,IAAM,EAAiB,IAAK,IACzC,EA8aoB,UAAU,8IACV,MAAM,wBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gCAK1E,CAAC,GAAuB,CAAC,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,4PAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,iCACjE,0BAIR,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,2SAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFAAqF,kBAItG,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uNACjE,oCAMZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GACT,SAAU,EACV,UAAU,ySAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFAAqF,4BAItG,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,2MACjE,0CAWjB,CAAC,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iLACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,GAAG,eACH,OAAO,UACP,SAAU,EACV,SAAU,AAAC,IACT,IAAM,EAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,CAC5B,IACF,EADQ,AACW,GACnB,EAAiB,EAAM,UAE3B,EACA,UAAU,WAEV,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,QAAQ,eAAe,UAAW,CAAC,MAAM,EAAE,EAAe,gCAAkC,iBAAA,CAAkB,WACnH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wIACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8FAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,mCAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gOAAuN,yBAS/O,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,eAAe,QAAQ,qBAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,mHAAmH,SAAS,gBAG3J,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,mBAI3E,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uGACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,IAAI,kBACJ,UAAU,+BAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uKACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,eAAe,QAAQ,qBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,mHAAmH,SAAS,cACnJ,eAIR,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAziBW,CAyiBF,IAxiB3B,EAAuB,MACvB,EAAiB,wBACjB,WAAW,IAAM,EAAiB,IAAK,IACzC,EAsiBoB,UAAU,8IACV,MAAM,kCAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gCAK3E,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,2OAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,kGACjE,sBAEC,sBAIZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,uCACzC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,qCAM7C,CAAC,GAAuB,CAAC,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uLACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,GAAG,cACH,OAAO,UACP,SAAU,EACV,SAAU,AAAC,IACT,IAAM,EAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,CAC5B,IACF,EADQ,AACU,GAClB,EAAiB,EAAM,SAE3B,EACA,UAAU,WAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,QAAQ,cAAc,UAAW,CAAC,MAAM,EAAE,EAAe,gCAAkC,iBAAA,CAAkB,WAClH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wIACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8FAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,mCAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gOAAuN,4BAUhP,GAAgB,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iHACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uNAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wCAA+B,2CAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,GAC/B,UAAU,yFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gCAI3E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAc,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAM,KACpC,IAAM,EAAU,EAAK,IAAI,GACzB,GAAI,CAAC,EAAS,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAA,EAAQ,GAG9B,GAAI,EAAQ,UAAU,CAAC,OAAS,EAAQ,UAAU,CAAC,MAAO,CACxD,IAAM,EAAO,EAAQ,OAAO,CAAC,SAAU,IAAI,OAAO,CAAC,QAAS,IAC5D,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAe,UAAU,gFACxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCACf,IAFM,EAKb,QAGI,AAAJ,EAAY,KAAK,CAAC,eAEd,CAF8B,AAE9B,EAAA,EAAA,IAAA,EAAC,IAAA,CAAc,UAAU,2DACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,MAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAQ,OAAO,CAAC,iBAAkB,QAFnC,GAQL,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAc,UAAU,8BAAsB,GAAvC,EACjB,UASP,GAAsB,EAAe,MAAM,CAAG,GAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+GACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,2MAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wCAA+B,2CAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAsB,GACrC,UAAU,yFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gCAI3E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAe,GAAG,CAAC,CAAC,EAAM,IACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,qBAExB,EAAQ,EAAe,MAAM,CAAG,GAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4GAGjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+HACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAgC,EAAK,KAAK,KAE5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0FACZ,EAAK,UAAU,CAAC,UAKrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sFACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4CAAkC,SAAO,EAAK,KAAK,IACjE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAK,WAAW,MAE7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,aAAa,CACvB,IAAK,CAAC,eAAe,EAAE,EAAK,KAAK,CAAA,CAAE,CACnC,UAAU,0CA3BV,MAoCd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,8CACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,0BAA4B,2JAQpF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,8CAA8C,EAC7D,EAAc,QAAQ,CAAC,UAAY,+CAAiD,qDAAA,CACpF,UACC,YAQR,AAAC,IAAa,MAAM,CAAG,GAAK,GAAY,MAAM,EAAG,CAAC,EACjD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8CACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BAA0B,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gKAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CAAsC,8BAGtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEZ,GAAa,MAAM,CAAG,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8EACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,yEAA+D,kBAAgB,GAAa,MAAM,CAAC,SAErH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,GAAa,GAAG,CAAC,CAAC,EAAK,IACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAc,UAAU,yIACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,CAAA,EAAA,6BAAoC,OAAA,CAAQ,OAAQ,IAAI,CAAC,EAAE,EAAI,IAAI,CAAA,CAAE,CAC1E,IAAK,CAAC,OAAO,EAAE,EAAM,EAAA,CAAG,CACxB,UAAU,+BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8FACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,aAGhD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAuB,EAAI,IAAI,CAAE,UAChD,UAAU,8IACV,MAAM,wBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uIAhBjE,SA0BjB,GAAY,MAAM,CAAG,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8EACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uEAA6D,iBAAe,GAAY,MAAM,CAAC,SAEjH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,GAAY,GAAG,CAAC,CAAC,EAAK,IACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAc,UAAU,yIACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,CAAA,EAAA,6BAAoC,OAAA,CAAQ,OAAQ,IAAI,CAAC,EAAE,EAAI,IAAI,CAAA,CAAE,CAC1E,IAAK,CAAC,MAAM,EAAE,EAAM,EAAA,CAAG,CACvB,UAAU,+BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8FACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,YAGhD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAuB,EAAI,IAAI,CAAE,SAChD,UAAU,8IACV,MAAM,wBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uIAhBjE,YA0BK,IAAxB,GAAa,MAAM,EAAiC,IAAvB,GAAY,MAAM,EAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAAuC,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC9F,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gKAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAsB,wBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wBAAe,4DAQtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8CACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAChF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8WAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CAAsC,4BAEtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAuB,CAAC,GACvC,UAAU,4IAET,EAAsB,SAAW,yBAKrC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qGACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,wBAEzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,WAChE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CAAC,GAAG,CAAE,AAAD,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAmB,CAAE,GAAG,CAAe,CAAE,OAAQ,CAAK,GACrE,UAAU,8BAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,QAAQ,EAAE,GAAQ,EAAgB,MAAM,CAAG,iBAAmB,gBAAA,CAAiB,CAC3F,KAAK,eACL,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,gWATL,SAgBb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,mBAChE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EAAgB,aAAa,CACpC,SAAU,AAAC,GAAM,EAAmB,CAAE,GAAG,CAAe,CAAE,cAAe,EAAE,MAAM,CAAC,KAAK,AAAC,GACxF,UAAU,iJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,2BAAkB,oBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,aACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,2BAAkB,oBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kBAAS,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,gBAI1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,aAChE,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EAAgB,QAAQ,CAC/B,SAAU,AAAC,GAAM,EAAmB,CAAE,GAAG,CAAe,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,AAAC,GACnF,YAAY,8CACZ,KAAM,EACN,UAAU,4IAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,GAAG,cACH,QAAS,EAAgB,WAAW,CACpC,SAAU,AAAC,GAAM,EAAmB,CAAE,GAAG,CAAe,CAAE,YAAa,EAAE,MAAM,CAAC,OAAO,AAAC,GACxF,UAAU,wDAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,cAAc,UAAU,iCAAwB,oCAKjE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,GACT,UAAU,kIACX,qBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAuB,IACtC,UAAU,4EACX,oBASR,EAAQ,YAAY,EAAI,EAAQ,YAAY,CAAC,MAAM,CAAG,EACrD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAQ,YAAY,CAAC,GAAG,CAAC,AAAC,GACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAA0B,UAAU,sGACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,UAAW,CAAC,QAAQ,EAAE,GAAQ,EAAY,MAAM,CAAG,iBAAmB,gBAAA,CAAiB,CACvF,KAAK,eACL,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,8VALH,MASX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kFACb,EAAY,aAAa,CAAC,OAAO,CAAC,IAAK,OAEzC,EAAY,WAAW,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kFAAyE,iBAK7F,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAY,QAAQ,GAClE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,IAAI,KAAK,EAAY,SAAS,EAAE,kBAAkB,CAAC,QAAS,CAC3D,KAAM,UACN,MAAO,OACP,IAAK,SACP,QAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAwB,EAAY,GAAG,EACtD,UAAU,uFACV,MAAM,8BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,yIAxCnE,EAAY,GAAG,KAgD7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAAuC,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC9F,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8WAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAsB,wBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wBAAe,gEAOpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,OAAQ,EAAM,MAAM,CACpB,QAhoCa,CAgoCJ,IA/nCb,EAAS,CAAE,GAAG,CAAK,CAAE,QAAQ,CAAM,EACrC,EA+nCM,MAAO,EAAM,KAAK,CAClB,QAAS,EAAM,OAAO,CACtB,KAAM,EAAM,IAAI,CAChB,UAAW,EAAM,SAAS,CAC1B,YAAa,AAAe,cAAT,IAAI,CAAiB,cAAgB,KACxD,WAAW,aAInB"}