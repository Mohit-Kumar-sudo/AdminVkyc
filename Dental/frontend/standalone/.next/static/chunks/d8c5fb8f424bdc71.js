(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return o}});let o=e=>{}},32341,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(9165);let l=(0,r.createContext)(void 0);function a(e){let{children:a}=e,[u,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[c,g]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(i(e),n(JSON.parse(t))),g(!1)},[]);let d=async(e,t)=>{let{user:r,token:l}=(await o.authAPI.login(e,t)).data;n(r),i(l),localStorage.setItem("token",l),localStorage.setItem("user",JSON.stringify(r))},S=async(e,t,r,l)=>{let{user:a,token:u}=(await o.authAPI.register(e,t,r,l)).data;n(a),i(u),localStorage.setItem("token",u),localStorage.setItem("user",JSON.stringify(a))};return(0,t.jsx)(l.Provider,{value:{user:u,token:s,login:d,register:S,logout:()=>{n(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isLoading:c},children:a})}function u(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>a,"useAuth",()=>u])}]);