(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32341,e=>{"use strict";var t=e.i(43476),o=e.i(71645),r=e.i(9165);let l=(0,o.createContext)(void 0);function a(e){let{children:a}=e,[u,s]=(0,o.useState)(null),[i,n]=(0,o.useState)(null),[c,g]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(n(e),s(JSON.parse(t))),g(!1)},[]);let S=async(e,t)=>{let{user:o,token:l}=(await r.authAPI.login(e,t)).data;s(o),n(l),localStorage.setItem("token",l),localStorage.setItem("user",JSON.stringify(o))},m=async(e,t,o,l)=>{let{user:a,token:u}=(await r.authAPI.register(e,t,o,l)).data;s(a),n(u),localStorage.setItem("token",u),localStorage.setItem("user",JSON.stringify(a))};return(0,t.jsx)(l.Provider,{value:{user:u,token:i,login:S,register:m,logout:()=>{s(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isLoading:c},children:a})}function u(){let e=(0,o.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>a,"useAuth",()=>u])}]);