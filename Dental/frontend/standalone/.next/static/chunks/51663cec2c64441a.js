(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39964,7670,e=>{"use strict";var t=e.i(43476);function s(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}(e))&&(a&&(a+=" "),a+=t);return a}function a(e){let{children:a,className:r,...l}=e;return(0,t.jsx)("div",{className:s("rounded-lg border bg-white p-6 shadow-sm",r),...l,children:a})}function r(e){let{children:a,className:r}=e;return(0,t.jsx)("div",{className:s("mb-4",r),children:a})}function l(e){let{children:a,className:r}=e;return(0,t.jsx)("h3",{className:s("text-lg font-semibold text-gray-900",r),children:a})}function o(e){let{children:a,className:r}=e;return(0,t.jsx)("div",{className:s(r),children:a})}e.s(["clsx",()=>s],7670),e.s(["Card",()=>a,"CardContent",()=>o,"CardHeader",()=>r,"CardTitle",()=>l],39964)},59544,e=>{"use strict";var t=e.i(43476),s=e.i(7670);function a(e){let{variant:a="primary",size:r="md",className:l,children:o,...n}=e;return(0,t.jsx)("button",{className:(0,s.clsx)("inline-flex items-center justify-center rounded-lg font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"primary"===a,"bg-gray-200 text-gray-900 hover:bg-gray-300":"secondary"===a,"border-2 border-gray-300 bg-transparent hover:bg-gray-100":"outline"===a,"hover:bg-gray-100":"ghost"===a,"h-8 px-3 text-sm":"sm"===r,"h-10 px-4":"md"===r,"h-12 px-6 text-lg":"lg"===r},l),...n,children:o})}e.s(["Button",()=>a])},3812,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(7670);let r=(0,s.forwardRef)((e,s)=>{let{label:r,error:l,className:o,required:n,...i}=e;return(0,t.jsxs)("div",{className:"w-full",children:[r&&(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:[r,n&&(0,t.jsx)("span",{className:"text-red-600 ml-1",children:"*"})]}),(0,t.jsx)("input",{ref:s,className:(0,a.clsx)("w-full rounded-lg border border-gray-500 px-3 py-2 text-gray-900 placeholder-gray-500","focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","disabled:bg-gray-100 disabled:cursor-not-allowed",l&&"border-red-500",o),...i}),l&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l})]})});r.displayName="Input",e.s(["Input",0,r])},56666,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(32341),r=e.i(18566),l=e.i(39964),o=e.i(59544),n=e.i(3812);function i(){let{user:e}=(0,a.useAuth)(),i=(0,r.useRouter)(),[c,d]=(0,s.useState)([]),[x,m]=(0,s.useState)(null),[h,u]=(0,s.useState)(!0),[g,p]=(0,s.useState)(!1),[j,f]=(0,s.useState)({name:"",email:"",password:"",role:"doctor"}),[b,v]=(0,s.useState)("");(0,s.useEffect)(()=>{e&&"admin"!==e.role?i.push("/dashboard"):e&&"admin"===e.role&&N()},[e,i]);let N=async()=>{try{u(!0);let e=await fetch("".concat("http://103.192.199.158/api","/users?role=doctor"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json(),s=await Promise.all(t.map(async e=>{let t=await fetch("".concat("http://103.192.199.158/api","/patients?doctorId=").concat(e.id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),s=await t.json();return{...e,patientsCount:s.length}}));d(s)}catch(e){console.error("Failed to load doctors:",e)}finally{u(!1)}},y=async e=>{try{let[t,s]=await Promise.all([fetch("".concat("http://103.192.199.158/api","/users?role=doctor"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),fetch("".concat("http://103.192.199.158/api","/patients?doctorId=").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})]),a=await t.json(),r=await s.json(),l=a.find(t=>t.id===e);console.log("Doctor:",l),console.log("Patients:",r),l&&m({...l,patientsCount:r.length,patients:r||[]})}catch(e){console.error("Failed to load doctor patients:",e),v("Failed to load doctor patients"),setTimeout(()=>v(""),3e3)}},w=async e=>{e.preventDefault();try{let e=await fetch("".concat("http://103.192.199.158/api","/users"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(j)});if(e.ok)v("Doctor created successfully!"),p(!1),f({name:"",email:"",password:"",role:"doctor"}),N();else{let t=await e.json();v(t.error||"Failed to create doctor")}}catch(e){console.error("Create doctor error:",e),v("Failed to create doctor")}setTimeout(()=>v(""),3e3)};return h?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Super Admin Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage doctors and monitor their patients"})]}),(0,t.jsxs)(o.Button,{onClick:()=>p(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Doctor"]})]}),b&&(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(b.includes("success")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:b}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(l.Card,{className:"bg-gradient-to-br from-blue-500 to-blue-600 border-0 shadow-xl",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Total Doctors"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:c.length})]}),(0,t.jsx)("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})}),(0,t.jsx)(l.Card,{className:"bg-gradient-to-br from-green-500 to-green-600 border-0 shadow-xl",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-green-100 text-sm font-medium",children:"Total Patients"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:c.reduce((e,t)=>e+(t.patientsCount||0),0)})]}),(0,t.jsx)("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})}),(0,t.jsx)(l.Card,{className:"bg-gradient-to-br from-purple-500 to-purple-600 border-0 shadow-xl",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-purple-100 text-sm font-medium",children:"Avg Patients/Doctor"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:c.length>0?Math.round(c.reduce((e,t)=>e+(t.patientsCount||0),0)/c.length):0})]}),(0,t.jsx)("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Doctors"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Click on a doctor to view patients"})]}),0===c.length?(0,t.jsx)(l.Card,{children:(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No doctors found. Create your first doctor to get started."})}):c.map(e=>(0,t.jsx)(l.Card,{className:"transition-all cursor-pointer ".concat((null==x?void 0:x.id)===e.id?"ring-2 ring-blue-500 shadow-xl bg-blue-50":"hover:shadow-lg hover:bg-gray-50"),onClick:()=>y(e.id),children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat((null==x?void 0:x.id)===e.id?"bg-gradient-to-br from-blue-600 to-indigo-600 ring-2 ring-blue-300":"bg-gradient-to-br from-blue-500 to-indigo-500"),children:(0,t.jsx)("span",{className:"text-white text-lg font-bold",children:e.name.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold ".concat((null==x?void 0:x.id)===e.id?"text-blue-700":"text-gray-900"),children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-3xl font-bold ".concat((null==x?void 0:x.id)===e.id?"text-blue-700":"text-blue-600"),children:e.patientsCount||0}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Patients"})]})]})})},e.id))]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:x?(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-blue-600",children:[x.name,"'s"]})," Patients",(0,t.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",x.patients.length,")"]})]}):"Select a Doctor"}),x?0===x.patients.length?(0,t.jsx)(l.Card,{children:(0,t.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,t.jsx)("p",{className:"font-semibold text-gray-600",children:"No patients yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This doctor hasn't been assigned any patients."})]})}):x.patients.map((e,s)=>{var a;return(0,t.jsx)(l.Card,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold",children:(null==(a=e.name)?void 0:a.charAt(0).toUpperCase())||"?"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900",children:e.name||"Unknown Patient"}),e.email&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),e.contact&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.contact})]})]})})},e._id||e.id||s)}):(0,t.jsx)(l.Card,{children:(0,t.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[(0,t.jsx)("svg",{className:"w-20 h-20 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No doctor selected"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"ðŸ‘ˆ Click on a doctor from the left to view their patients"})]})})]})]}),g&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,t.jsx)(l.Card,{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Doctor"}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,t.jsx)(n.Input,{type:"text",value:j.name,onChange:e=>f({...j,name:e.target.value}),placeholder:"Doctor's full name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)(n.Input,{type:"email",value:j.email,onChange:e=>f({...j,email:e.target.value}),placeholder:"doctor@example.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,t.jsx)(n.Input,{type:"password",value:j.password,onChange:e=>f({...j,password:e.target.value}),placeholder:"Secure password",required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)(o.Button,{type:"button",onClick:()=>p(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800",children:"Cancel"}),(0,t.jsx)(o.Button,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:"Create Doctor"})]})]})]})})})]})}e.s(["default",()=>i])}]);