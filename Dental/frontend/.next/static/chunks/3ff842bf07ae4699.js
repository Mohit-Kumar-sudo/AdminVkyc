(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86051,(e,t,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},53904,e=>{"use strict";var t=e.i(48277),o=e.i(30668),r=e.i(1831);let a=(0,o.createContext)(void 0);function l(e){let{children:l}=e,[n,u]=(0,o.useState)(null),[s,i]=(0,o.useState)(null),[c,g]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(i(e),u(JSON.parse(t)))};return e(),g(!1),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);let d=async(e,t)=>{let{user:o,token:a}=(await r.authAPI.login(e,t)).data;u(o),i(a),localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(o))},S=async(e,t,o,a,l)=>{let{user:n,token:s}=(await r.authAPI.register(e,t,o,a,l)).data;u(n),i(s),localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(n))},m=async e=>{let{user:t,token:o}=(await r.authAPI.loginWithGoogle(e)).data;u(t),i(o),localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(t))};return(0,t.jsx)(a.Provider,{value:{user:n,token:s,login:d,register:S,loginWithGoogle:m,logout:()=>{u(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isLoading:c},children:l})}function n(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>l,"useAuth",()=>n])}]);