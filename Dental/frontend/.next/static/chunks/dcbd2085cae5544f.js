(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50002,e=>{"use strict";var t=e.i(39057),a=e.i(48277),r=e.i(30668),s=e.i(18033),l=e.i(53904),n=e.i(96086);e.s(["default",0,()=>{let[e,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[d,x]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),{user:u,token:p}=(0,l.useAuth)(),g=(0,n.useRouter)();(0,r.useEffect)(()=>{u&&"admin"===u.role?g.push("/dashboard/admin/pricing"):f()},[u]);let f=async()=>{try{let e=await s.default.get("".concat("https://smilify.ai/api","/plans")),t=Array.isArray(e.data)?e.data:e.data.data||[];i(t),x(null)}catch(e){console.error("Failed to fetch plans:",e),x("Failed to load plans. Please try again later.")}finally{c(!1)}},b=async e=>{if(!u||!p)return void g.push("/login?redirect=/dashboard/pricing");h(!0);try{if(!await new Promise(e=>{var t;if(null==(t=window)?void 0:t.Razorpay)return void e(!0);let a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.async=!0,a.onload=()=>e(!0),a.onerror=()=>e(!1),document.body.appendChild(a)})){alert("Payment gateway failed to load"),h(!1);return}let{orderId:a,amount:r,currency:l,key:n}=(await s.default.post("".concat("https://smilify.ai/api","/payments/create-order"),{userId:u._id,planId:e},{headers:{Authorization:"Bearer ".concat(p)}})).data;new window.Razorpay({key:n||t.default.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,amount:r,currency:l,order_id:a,handler:()=>g.push("/dashboard/subscription"),prefill:{name:(null==u?void 0:u.name)||"",email:(null==u?void 0:u.email)||"",contact:(null==u?void 0:u.phone)||""},theme:{color:"#2563eb"}}).open()}catch(e){var a,r;alert((null==e||null==(r=e.response)||null==(a=r.data)?void 0:a.error)||"Payment failed")}finally{h(!1)}};return o?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading plans..."})]})}):d?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("p",{className:"text-red-600 font-medium text-lg",children:d})]})}):0===e.length?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,a.jsx)("p",{className:"text-gray-600 font-medium text-lg",children:"No plans available at the moment"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please check back later or contact support"})]})}):(0,a.jsx)("div",{className:"bg-white min-h-screen p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-2",children:["Simple, Transparent ",(0,a.jsx)("span",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent",children:"Pricing"})]}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Choose the perfect plan for your practice. Upgrade or downgrade anytime."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto pt-8",children:e.map((t,r)=>{let s=1===r&&e.length>=3;return(0,a.jsxs)("div",{className:"relative group ".concat(s?"transform scale-105":""),children:[s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-400 rounded-3xl blur opacity-50 group-hover:opacity-75 transition"}),(0,a.jsx)("div",{className:"absolute -top-5 left-1/2 transform -translate-x-1/2 z-10",children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white text-sm font-bold px-6 py-2 rounded-full shadow-lg",children:"MOST POPULAR"})})]}),(0,a.jsxs)("div",{className:"relative bg-white p-8 rounded-3xl ".concat(s?"shadow-2xl border-2 border-transparent":"shadow-lg border border-gray-200"),children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.name}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("span",{className:"text-5xl font-extrabold ".concat(s?"bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent":"text-gray-900"),children:[t.currency,t.price]}),(0,a.jsxs)("span",{className:"text-gray-600 text-lg",children:["/",t.interval||"month"]})]}),(0,a.jsx)("ul",{className:"space-y-4 mb-8",children:(t.features||[]).map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ".concat(s?"bg-gradient-to-r from-blue-500 to-cyan-400":"bg-green-100"),children:(0,a.jsx)("svg",{className:"w-4 h-4 ".concat(s?"text-white":"text-green-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("span",{className:"text-gray-700",children:e})]},t))}),(0,a.jsx)("button",{disabled:m,onClick:()=>b(t._id),className:"group/btn relative block w-full text-center py-4 rounded-xl font-bold transition overflow-hidden disabled:opacity-50 disabled:cursor-not-allowed ".concat(s?"bg-gradient-to-r from-blue-500 to-cyan-400 text-white hover:shadow-lg":"bg-gray-100 text-gray-900 hover:bg-gray-200"),children:m?(0,a.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,a.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Get Started",(0,a.jsx)("svg",{className:"w-4 h-4 group-hover/btn:translate-x-1 transition",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]},t._id)})})]})})}])}]);