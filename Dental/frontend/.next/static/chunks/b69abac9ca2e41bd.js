(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72015,99325,e=>{"use strict";var r=e.i(48277);function t(){for(var e,r,t=0,s="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=function e(r){var t,s,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r)if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(s=e(r[t]))&&(a&&(a+=" "),a+=s)}else for(s in r)r[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=r);return s}function s(e){let{children:s,className:a,...l}=e;return(0,r.jsx)("div",{className:t("rounded-lg border bg-white p-6 shadow-sm",a),...l,children:s})}function a(e){let{children:s,className:a}=e;return(0,r.jsx)("div",{className:t("mb-4",a),children:s})}function l(e){let{children:s,className:a}=e;return(0,r.jsx)("h3",{className:t("text-lg font-semibold text-gray-900",a),children:s})}function o(e){let{children:s,className:a}=e;return(0,r.jsx)("div",{className:t(a),children:s})}e.s(["clsx",()=>t],99325),e.s(["Card",()=>s,"CardContent",()=>o,"CardHeader",()=>a,"CardTitle",()=>l],72015)},9693,e=>{"use strict";var r=e.i(48277),t=e.i(99325);function s(e){let{variant:s="primary",size:a="md",className:l,children:o,...n}=e;return(0,r.jsx)("button",{className:(0,t.clsx)("inline-flex items-center justify-center rounded-lg font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"primary"===s,"bg-gray-200 text-gray-900 hover:bg-gray-300":"secondary"===s,"border-2 border-gray-300 bg-transparent hover:bg-gray-100":"outline"===s,"hover:bg-gray-100":"ghost"===s,"h-8 px-3 text-sm":"sm"===a,"h-10 px-4":"md"===a,"h-12 px-6 text-lg":"lg"===a},l),...n,children:o})}e.s(["Button",()=>s])},26550,e=>{"use strict";var r=e.i(48277),t=e.i(30668),s=e.i(99325);let a=(0,t.forwardRef)((e,t)=>{let{label:a,error:l,className:o,required:n,...i}=e;return(0,r.jsxs)("div",{className:"w-full",children:[a&&(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:[a,n&&(0,r.jsx)("span",{className:"text-red-600 ml-1",children:"*"})]}),(0,r.jsx)("input",{ref:t,className:(0,s.clsx)("w-full rounded-lg border border-gray-500 px-3 py-2 text-gray-900 placeholder-gray-500","focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","disabled:bg-gray-100 disabled:cursor-not-allowed",l&&"border-red-500",o),...i}),l&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l})]})});a.displayName="Input",e.s(["Input",0,a])},68698,e=>{"use strict";var r=e.i(48277),t=e.i(30668),s=e.i(1831),a=e.i(72015),l=e.i(26550),o=e.i(9693);function n(){var e;let n,[i,d]=(0,t.useState)(null),[c,h]=(0,t.useState)(!0),[u,x]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(""),[b,j]=(0,t.useState)({}),[f,y]=(0,t.useState)({currentPassword:"",newPassword:""}),[w,N]=(0,t.useState)("Free"),[k,C]=(0,t.useState)("active"),[P,L]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{let e=(await s.usersAPI.me.getDetails()).data;d(e),j({name:e.name,phone:e.phone||"",city:e.city||"",state:e.state||"",pincode:e.pincode||""}),N(e.subscriptionPlan||"Free"),C(e.subscriptionStatus||"active")}catch(e){v("Failed to load settings")}finally{h(!1)}})()},[]);let S=async()=>{try{x(!0),await s.usersAPI.me.update(b),v("Profile updated")}catch(t){var e,r;v((null==(r=t.response)||null==(e=r.data)?void 0:e.error)||"Failed to update")}finally{x(!1),setTimeout(()=>v(""),3e3)}},B=async()=>{try{m(!0),await s.usersAPI.me.changePassword(f),v("Password updated"),y({currentPassword:"",newPassword:""})}catch(t){var e,r;v((null==(r=t.response)||null==(e=r.data)?void 0:e.error)||"Failed to change password")}finally{m(!1),setTimeout(()=>v(""),3e3)}},M=async e=>{try{let r=await s.usersAPI.me.updatePlan(e);N(r.data.plan),C(r.data.status),v("Plan updated to ".concat(e))}catch(e){var r,t;v((null==(t=e.response)||null==(r=t.data)?void 0:r.error)||"Failed to update plan")}finally{setTimeout(()=>v(""),3e3)}},F=async e=>{try{L(!0);let r=await s.usersAPI.me.uploadPhoto(e);d(e=>e?{...e,photoUrl:r.data.photoUrl}:e);let t=localStorage.getItem("user");if(t){let e=JSON.parse(t);e.photoUrl=r.data.photoUrl,localStorage.setItem("user",JSON.stringify(e)),window.dispatchEvent(new StorageEvent("storage",{key:"user",newValue:JSON.stringify(e)}))}v("Profile photo updated")}catch(e){var r,t;v((null==(t=e.response)||null==(r=t.data)?void 0:r.error)||"Failed to upload photo")}finally{L(!1),setTimeout(()=>v(""),3e3)}};return c?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading settings..."})]})}):(0,r.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-2xl p-8 text-white shadow-xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-white text-3xl font-bold",children:"Account Settings"}),(0,r.jsx)("p",{className:"text-blue-100 mt-1",children:"Manage your profile, security, and subscription preferences"})]})]})}),g&&(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 text-blue-900 shadow-sm flex items-center gap-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"font-medium",children:g})]}),(0,r.jsxs)(a.Card,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[(0,r.jsx)(a.CardHeader,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.CardTitle,{className:"text-xl",children:"Profile Information"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:"Update your personal details and photo"})]})]})}),(0,r.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-6",children:[(0,r.jsxs)("div",{className:"relative group",children:[(n=(null==i?void 0:i.photoUrl)||"/images/new.png",(null==i||null==(e=i.photoUrl)?void 0:e.startsWith("/uploads/"))&&(n=("https://smilify.ai/api".replace("/api","")||"")+i.photoUrl),(0,r.jsx)("img",{src:n,alt:"avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200 shadow-lg group-hover:border-blue-400 transition-all"})),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Profile Photo"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"JPG, PNG or GIF. Max size 5MB."}),(0,r.jsx)("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:e=>e.target.files&&F(e.target.files[0]),disabled:P}),(0,r.jsx)("label",{htmlFor:"photo-upload",className:"inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg font-medium cursor-pointer transition-all shadow-md hover:shadow-lg ".concat(P?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 active:scale-95"),children:P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload New Photo"]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(l.Input,{label:"Full name",value:b.name||"",onChange:e=>j({...b,name:e.target.value})})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(l.Input,{label:"Phone",value:b.phone||"",onChange:e=>j({...b,phone:e.target.value.replace(/\D/g,"").slice(0,10)})})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(l.Input,{label:"City",value:b.city||"",onChange:e=>j({...b,city:e.target.value})})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(l.Input,{label:"State",value:b.state||"",onChange:e=>j({...b,state:e.target.value})})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(l.Input,{label:"Pincode",value:b.pincode||"",onChange:e=>j({...b,pincode:e.target.value.replace(/\D/g,"").slice(0,6)})})})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:(0,r.jsx)(o.Button,{onClick:S,disabled:u,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})})]})]}),(0,r.jsxs)(a.Card,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[(0,r.jsx)(a.CardHeader,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.CardTitle,{className:"text-xl",children:"Security"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:"Update your password to keep your account secure"})]})]})}),(0,r.jsxs)(a.CardContent,{className:"space-y-5 p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsx)(l.Input,{label:"Current Password",type:"password",value:f.currentPassword,onChange:e=>y({...f,currentPassword:e.target.value})}),(0,r.jsx)(l.Input,{label:"New Password",type:"password",value:f.newPassword,onChange:e=>y({...f,newPassword:e.target.value})})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:(0,r.jsx)(o.Button,{onClick:B,disabled:p,className:"px-6 py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Password"]})})})]})]}),(0,r.jsxs)(a.Card,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[(0,r.jsx)(a.CardHeader,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.CardTitle,{className:"text-xl",children:"Subscription Plan"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:"Choose the plan that fits your needs"})]})]})}),(0,r.jsxs)(a.CardContent,{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border border-purple-200",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("p",{className:"text-gray-700",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:"Current plan:"})," ",(0,r.jsx)("span",{className:"font-bold text-purple-700",children:w})," ",(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-700 ml-2",children:k})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(o.Button,{variant:"Free"===w?"primary":"outline",className:"Free"===w?"bg-blue-600 text-white border-transparent hover:bg-blue-700":"text-gray-800 border-gray-400 hover:border-gray-600 hover:text-gray-900",onClick:()=>M("Free"),children:"Free"}),(0,r.jsx)(o.Button,{variant:"Pro"===w?"primary":"outline",className:"Pro"===w?"bg-indigo-600 text-white border-transparent hover:bg-indigo-700":"text-gray-800 border-gray-400 hover:border-gray-600 hover:text-gray-900",onClick:()=>M("Pro"),children:"Pro"}),(0,r.jsx)(o.Button,{variant:"Enterprise"===w?"primary":"outline",className:"Enterprise"===w?"bg-purple-600 text-white border-transparent hover:bg-purple-700":"text-gray-800 border-gray-400 hover:border-gray-600 hover:text-gray-900",onClick:()=>M("Enterprise"),children:"Enterprise"})]})]})]})]})}e.s(["default",()=>n])}]);