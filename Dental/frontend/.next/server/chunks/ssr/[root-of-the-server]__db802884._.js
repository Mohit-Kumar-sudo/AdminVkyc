module.exports=[3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},87973,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},3445,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},76677,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(73951),e=a.i(98983),f=a.i(93609);a.s(["default",0,()=>{let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),{user:n,token:o,isLoading:p}=(0,e.useAuth)(),q=(0,f.useRouter)();(0,c.useEffect)(()=>{p||(n?"admin"===n.role?q.replace("/dashboard/admin/pricing"):q.replace("/dashboard/pricing"):r())},[n,p,q]);let r=async()=>{try{let a=await d.default.get("https://smilify.ai/api/plans");g(Array.isArray(a.data)?a.data:a.data.data||[])}catch(a){k(a?.response?.data?.error||"Failed to load plans")}finally{i(!1)}},s=async a=>{if(!n||!o)return void q.push("/login?redirect=/pricing");if(!n.id||!a)return void alert("Missing required information. Please try again.");m(a);try{if(!await new Promise(a=>{if(window?.Razorpay)return void a(!0);let b=document.createElement("script");b.src="https://checkout.razorpay.com/v1/checkout.js",b.async=!0,b.onload=()=>a(!0),b.onerror=()=>a(!1),document.body.appendChild(b)})){alert("Payment gateway failed to load"),m(null);return}console.log("Creating order with:",{userId:n.id,planId:a});let{orderId:b,amount:c,currency:e,key:f}=(await d.default.post("https://smilify.ai/api/payments/create-order",{userId:n.id,planId:a},{headers:{Authorization:`Bearer ${o}`}})).data;new window.Razorpay({key:f||process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,amount:c,currency:e,order_id:b,handler:async b=>{try{await d.default.post("https://smilify.ai/api/payments/verify",{razorpay_order_id:b?.razorpay_order_id,razorpay_payment_id:b?.razorpay_payment_id,razorpay_signature:b?.razorpay_signature,planId:a},{headers:{Authorization:`Bearer ${o}`}}),q.push("/dashboard/subscription")}catch(a){alert(a?.response?.data?.error||"Payment verified but failed to update subscription")}},prefill:{name:n?.name||"",email:n?.email||"",contact:n?.phone||""},theme:{color:"#2563eb"}}).open()}catch(a){console.error("Payment error:",a?.response?.data||a),alert(a?.response?.data?.error||a?.response?.data?.message||"Failed to create order. Please try again.")}finally{m(null)}};return p||n?null:h?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading plans..."})]})}):j?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[(0,b.jsx)("div",{className:"text-red-500 text-5xl mb-4",children:"âš ï¸"}),(0,b.jsx)("p",{className:"text-gray-700 text-lg mb-6",children:j}),(0,b.jsx)("button",{onClick:r,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold",children:"Try Again"})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 pt-16 pb-16",children:[(0,b.jsxs)("div",{className:"text-center mb-16",children:[(0,b.jsx)("div",{className:"inline-block px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold mb-4",children:"ðŸ’Ž Pricing Plans"}),(0,b.jsx)("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Choose Your Perfect Plan"}),(0,b.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Elevate your dental practice with our comprehensive management solutions"})]}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),(0,b.jsx)("p",{className:"text-xl text-gray-500",children:"No plans available"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-start",children:a.map((c,d)=>{let e,f,g,h=1===d&&a.length>=3;return(0,b.jsxs)("div",{className:`relative bg-white rounded-2xl border border-gray-200 
                shadow-[0_10px_30px_rgba(0,0,0,0.06)] 
                hover:shadow-[0_20px_50px_rgba(0,0,0,0.10)] 
                transition-all duration-300 transform hover:-translate-y-2 
                flex flex-col overflow-hidden`,children:[h&&(0,b.jsx)("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 z-10",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-md whitespace-nowrap",children:"â­ MOST POPULAR"})}),(0,b.jsxs)("div",{className:"p-8 flex flex-col flex-1",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${h?"bg-gradient-to-br from-blue-500 to-purple-600":"bg-gray-200"}`,children:(0,b.jsx)("span",{className:"text-3xl",children:0===d?"ðŸŒ±":1===d?"ðŸš€":"ðŸ‘‘"})}),(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:c.name})]}),(0,b.jsx)("div",{className:"text-center mb-8",children:(f=18*(e=c.price)/100,g=e+f,(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-center gap-2",children:[(0,b.jsx)("span",{className:"text-gray-500 text-2xl font-semibold",children:c.currency}),(0,b.jsx)("span",{className:`text-6xl font-extrabold ${h?"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent":"text-gray-900"}`,children:g.toFixed(0)}),(0,b.jsx)("span",{className:"text-gray-500 text-xl self-end mb-2",children:"/month"})]}),(0,b.jsxs)("div",{className:"mt-3 text-sm text-gray-600 space-y-1",children:[(0,b.jsxs)("div",{children:["Base: ",c.currency," ",e.toFixed(2)]}),(0,b.jsxs)("div",{className:"text-green-600 font-semibold",children:["+ GST (18%): ",c.currency," ",f.toFixed(2)]})]})]}))}),(0,b.jsx)("div",{className:"space-y-4 mb-8 flex-grow min-h-[260px]",children:(c.features||[]).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("span",{className:"text-gray-700",children:a})]},c))}),(0,b.jsx)("button",{disabled:null!==l,onClick:()=>s(c._id),className:`w-full py-4 px-6 rounded-xl font-bold text-lg 
                    transition-all duration-300 transform hover:scale-105 
                    disabled:opacity-50 disabled:cursor-not-allowed mt-auto 
                    ${h?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:shadow-lg":"bg-gray-900 text-white hover:bg-gray-800 shadow-sm"}`,children:l===c._id?"Processing...":"Get Started â†’"})]})]},c._id)})})]})})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__db802884._.js.map