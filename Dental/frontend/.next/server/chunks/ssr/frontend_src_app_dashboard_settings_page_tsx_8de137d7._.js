module.exports=[55010,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(34075),e=a.i(4600),f=a.i(29054),g=a.i(97867);function h(){let a,[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)({}),[t,u]=(0,c.useState)({currentPassword:"",newPassword:""}),[v,w]=(0,c.useState)("Free"),[x,y]=(0,c.useState)("active"),[z,A]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{try{let a=(await d.usersAPI.me.getDetails()).data;i(a),s({name:a.name,phone:a.phone||"",city:a.city||"",state:a.state||"",pincode:a.pincode||""}),w(a.subscriptionPlan||"Free"),y(a.subscriptionStatus||"active")}catch(a){q("Failed to load settings")}finally{k(!1)}})()},[]);let B=async()=>{try{m(!0),await d.usersAPI.me.update(r),q("Profile updated")}catch(a){q(a.response?.data?.error||"Failed to update")}finally{m(!1),setTimeout(()=>q(""),3e3)}},C=async()=>{try{o(!0),await d.usersAPI.me.changePassword(t),q("Password updated"),u({currentPassword:"",newPassword:""})}catch(a){q(a.response?.data?.error||"Failed to change password")}finally{o(!1),setTimeout(()=>q(""),3e3)}},D=async a=>{try{let b=await d.usersAPI.me.updatePlan(a);w(b.data.plan),y(b.data.status),q(`Plan updated to ${a}`)}catch(a){q(a.response?.data?.error||"Failed to update plan")}finally{setTimeout(()=>q(""),3e3)}},E=async a=>{try{A(!0);let b=await d.usersAPI.me.uploadPhoto(a);i(a=>a?{...a,photoUrl:b.data.photoUrl}:a);let c=localStorage.getItem("user");if(c){let a=JSON.parse(c);a.photoUrl=b.data.photoUrl,localStorage.setItem("user",JSON.stringify(a))}q("Profile photo updated")}catch(a){q(a.response?.data?.error||"Failed to upload photo")}finally{A(!1),setTimeout(()=>q(""),3e3)}};return j?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading settings..."})]})}):(0,b.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-2xl p-8 text-white shadow-xl",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:(0,b.jsxs)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-white text-3xl font-bold",children:"Account Settings"}),(0,b.jsx)("p",{className:"text-blue-100 mt-1",children:"Manage your profile, security, and subscription preferences"})]})]})}),p&&(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 text-blue-900 shadow-sm flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"font-medium",children:p})]}),(0,b.jsxs)(e.Card,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[(0,b.jsx)(e.CardHeader,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-xl",children:"Profile Information"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:"Update your personal details and photo"})]})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-6",children:[(0,b.jsxs)("div",{className:"relative group",children:[(a=h?.photoUrl||"/images/new.png",h?.photoUrl?.startsWith("/uploads/")&&(a=("https://smilify.ai/api".replace("/api","")||"")+h.photoUrl),(0,b.jsx)("img",{src:a,alt:"avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200 shadow-lg group-hover:border-blue-400 transition-all"})),(0,b.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:(0,b.jsxs)("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Profile Photo"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"JPG, PNG or GIF. Max size 5MB."}),(0,b.jsx)("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:a=>a.target.files&&E(a.target.files[0]),disabled:z}),(0,b.jsx)("label",{htmlFor:"photo-upload",className:`inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg font-medium cursor-pointer transition-all shadow-md hover:shadow-lg ${z?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 active:scale-95"}`,children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload New Photo"]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(f.Input,{label:"Full name",value:r.name||"",onChange:a=>s({...r,name:a.target.value})})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(f.Input,{label:"Phone",value:r.phone||"",onChange:a=>s({...r,phone:a.target.value.replace(/\D/g,"").slice(0,10)})})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(f.Input,{label:"City",value:r.city||"",onChange:a=>s({...r,city:a.target.value})})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(f.Input,{label:"State",value:r.state||"",onChange:a=>s({...r,state:a.target.value})})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(f.Input,{label:"Pincode",value:r.pincode||"",onChange:a=>s({...r,pincode:a.target.value.replace(/\D/g,"").slice(0,6)})})})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:(0,b.jsx)(g.Button,{onClick:B,disabled:l,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})})]})]}),(0,b.jsxs)(e.Card,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[(0,b.jsx)(e.CardHeader,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-xl",children:"Security"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:"Update your password to keep your account secure"})]})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-5 p-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,b.jsx)(f.Input,{label:"Current Password",type:"password",value:t.currentPassword,onChange:a=>u({...t,currentPassword:a.target.value})}),(0,b.jsx)(f.Input,{label:"New Password",type:"password",value:t.newPassword,onChange:a=>u({...t,newPassword:a.target.value})})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:(0,b.jsx)(g.Button,{onClick:C,disabled:n,className:"px-6 py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Password"]})})})]})]}),(0,b.jsxs)(e.Card,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[(0,b.jsx)(e.CardHeader,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-xl",children:"Subscription Plan"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:"Choose the plan that fits your needs"})]})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-6 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border border-purple-200",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("p",{className:"text-gray-700",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Current plan:"})," ",(0,b.jsx)("span",{className:"font-bold text-purple-700",children:v})," ",(0,b.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-700 ml-2",children:x})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(g.Button,{variant:"Free"===v?"primary":"outline",className:"Free"===v?"bg-blue-600 text-white border-transparent hover:bg-blue-700":"text-gray-800 border-gray-400 hover:border-gray-600 hover:text-gray-900",onClick:()=>D("Free"),children:"Free"}),(0,b.jsx)(g.Button,{variant:"Pro"===v?"primary":"outline",className:"Pro"===v?"bg-indigo-600 text-white border-transparent hover:bg-indigo-700":"text-gray-800 border-gray-400 hover:border-gray-600 hover:text-gray-900",onClick:()=>D("Pro"),children:"Pro"}),(0,b.jsx)(g.Button,{variant:"Enterprise"===v?"primary":"outline",className:"Enterprise"===v?"bg-purple-600 text-white border-transparent hover:bg-purple-700":"text-gray-800 border-gray-400 hover:border-gray-600 hover:text-gray-900",onClick:()=>D("Enterprise"),children:"Enterprise"})]})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=frontend_src_app_dashboard_settings_page_tsx_8de137d7._.js.map