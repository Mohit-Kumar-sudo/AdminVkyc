module.exports=[28593,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(73951),e=a.i(98983),f=a.i(93609);a.s(["default",0,()=>{let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1),{user:n,token:o}=(0,e.useAuth)(),p=(0,f.useRouter)();(0,c.useEffect)(()=>{n&&"admin"===n.role?p.push("/dashboard/admin/pricing"):q()},[n]);let q=async()=>{try{let a=await d.default.get("https://smilify.ai/api/plans"),b=Array.isArray(a.data)?a.data:a.data.data||[];g(b),k(null)}catch(a){console.error("Failed to fetch plans:",a),k("Failed to load plans. Please try again later.")}finally{i(!1)}},r=async a=>{if(!n||!o)return void p.push("/login?redirect=/dashboard/pricing");m(!0);try{if(!await new Promise(a=>{if(window?.Razorpay)return void a(!0);let b=document.createElement("script");b.src="https://checkout.razorpay.com/v1/checkout.js",b.async=!0,b.onload=()=>a(!0),b.onerror=()=>a(!1),document.body.appendChild(b)})){alert("Payment gateway failed to load"),m(!1);return}let{orderId:b,amount:c,currency:e,key:f}=(await d.default.post("https://smilify.ai/api/payments/create-order",{userId:n._id,planId:a},{headers:{Authorization:`Bearer ${o}`}})).data;new window.Razorpay({key:f||process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,amount:c,currency:e,order_id:b,handler:()=>p.push("/dashboard/subscription"),prefill:{name:n?.name||"",email:n?.email||"",contact:n?.phone||""},theme:{color:"#2563eb"}}).open()}catch(a){alert(a?.response?.data?.error||"Payment failed")}finally{m(!1)}};return h?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading plans..."})]})}):j?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsx)("p",{className:"text-red-600 font-medium text-lg",children:j})]})}):0===a.length?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,b.jsx)("p",{className:"text-gray-600 font-medium text-lg",children:"No plans available at the moment"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please check back later or contact support"})]})}):(0,b.jsx)("div",{className:"bg-white min-h-screen p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsxs)("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-2",children:["Simple, Transparent ",(0,b.jsx)("span",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent",children:"Pricing"})]}),(0,b.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Choose the perfect plan for your practice. Upgrade or downgrade anytime."})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto pt-8",children:a.map((c,d)=>{let e=1===d&&a.length>=3;return(0,b.jsxs)("div",{className:`relative group ${e?"transform scale-105":""}`,children:[e&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-400 rounded-3xl blur opacity-50 group-hover:opacity-75 transition"}),(0,b.jsx)("div",{className:"absolute -top-5 left-1/2 transform -translate-x-1/2 z-10",children:(0,b.jsx)("span",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white text-sm font-bold px-6 py-2 rounded-full shadow-lg",children:"MOST POPULAR"})})]}),(0,b.jsxs)("div",{className:`relative bg-white p-8 rounded-3xl ${e?"shadow-2xl border-2 border-transparent":"shadow-lg border border-gray-200"}`,children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:c.name}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("span",{className:`text-5xl font-extrabold ${e?"bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent":"text-gray-900"}`,children:[c.currency,c.price]}),(0,b.jsxs)("span",{className:"text-gray-600 text-lg",children:["/",c.interval||"month"]})]}),(0,b.jsx)("ul",{className:"space-y-4 mb-8",children:(c.features||[]).map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${e?"bg-gradient-to-r from-blue-500 to-cyan-400":"bg-green-100"}`,children:(0,b.jsx)("svg",{className:`w-4 h-4 ${e?"text-white":"text-green-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("span",{className:"text-gray-700",children:a})]},c))}),(0,b.jsx)("button",{disabled:l,onClick:()=>r(c._id),className:`group/btn relative block w-full text-center py-4 rounded-xl font-bold transition overflow-hidden disabled:opacity-50 disabled:cursor-not-allowed ${e?"bg-gradient-to-r from-blue-500 to-cyan-400 text-white hover:shadow-lg":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:l?(0,b.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[(0,b.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,b.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Get Started",(0,b.jsx)("svg",{className:"w-4 h-4 group-hover/btn:translate-x-1 transition",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]},c._id)})})]})})}])}];

//# sourceMappingURL=frontend_src_app_dashboard_pricing_page_tsx_5790d45c._.js.map