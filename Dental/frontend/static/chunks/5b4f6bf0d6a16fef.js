(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},32341,e=>{"use strict";var t=e.i(43476),o=e.i(71645),r=e.i(9165);let a=(0,o.createContext)(void 0);function l(e){let{children:l}=e,[u,n]=(0,o.useState)(null),[s,i]=(0,o.useState)(null),[c,g]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(i(e),n(JSON.parse(t))),g(!1)},[]);let S=async(e,t)=>{let{user:o,token:a}=(await r.authAPI.login(e,t)).data;n(o),i(a),localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(o))},d=async(e,t,o,a,l)=>{let{user:u,token:s}=(await r.authAPI.register(e,t,o,a,l)).data;n(u),i(s),localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(u))},m=async e=>{let{user:t,token:o}=(await r.authAPI.loginWithGoogle(e)).data;n(t),i(o),localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(t))};return(0,t.jsx)(a.Provider,{value:{user:u,token:s,login:S,register:d,loginWithGoogle:m,logout:()=>{n(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isLoading:c},children:l})}function u(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>l,"useAuth",()=>u])}]);