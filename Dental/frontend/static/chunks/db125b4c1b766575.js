(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32341,t=>{"use strict";var e=t.i(43476),o=t.i(71645),a=t.i(9165);let l=(0,o.createContext)(void 0);function r(t){let{children:r}=t,[u,s]=(0,o.useState)(null),[i,n]=(0,o.useState)(null),[c,g]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let t=localStorage.getItem("token"),e=localStorage.getItem("user");t&&e&&(n(t),s(JSON.parse(e))),g(!1)},[]);let S=async(t,e)=>{let{user:o,token:l}=(await a.authAPI.login(t,e)).data;s(o),n(l),localStorage.setItem("token",l),localStorage.setItem("user",JSON.stringify(o))},m=async(t,e,o,l,r)=>{let{user:u,token:i}=(await a.authAPI.register(t,e,o,l,r)).data;s(u),n(i),localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(u))},h=async t=>{let{user:e,token:o}=(await a.authAPI.loginWithGoogle(t)).data;s(e),n(o),localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(e))};return(0,e.jsx)(l.Provider,{value:{user:u,token:i,login:S,register:m,loginWithGoogle:h,logout:()=>{s(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isLoading:c},children:r})}function u(){let t=(0,o.useContext)(l);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>r,"useAuth",()=>u])}]);