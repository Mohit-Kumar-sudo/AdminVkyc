module.exports=[62067,98621,a=>{"use strict";var b=a.i(87924);function c(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}function d({children:a,className:d,...e}){return(0,b.jsx)("div",{className:c("rounded-lg border bg-white p-6 shadow-sm",d),...e,children:a})}function e({children:a,className:d}){return(0,b.jsx)("div",{className:c("mb-4",d),children:a})}function f({children:a,className:d}){return(0,b.jsx)("h3",{className:c("text-lg font-semibold text-gray-900",d),children:a})}function g({children:a,className:d}){return(0,b.jsx)("div",{className:c(d),children:a})}a.s(["clsx",()=>c],98621),a.s(["Card",()=>d,"CardContent",()=>g,"CardHeader",()=>e,"CardTitle",()=>f],62067)},96438,a=>{"use strict";var b=a.i(87924),c=a.i(98621);function d({variant:a="primary",size:d="md",className:e,children:f,...g}){return(0,b.jsx)("button",{className:(0,c.clsx)("inline-flex items-center justify-center rounded-lg font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"primary"===a,"bg-gray-200 text-gray-900 hover:bg-gray-300":"secondary"===a,"border-2 border-gray-300 bg-transparent hover:bg-gray-100":"outline"===a,"hover:bg-gray-100":"ghost"===a,"h-8 px-3 text-sm":"sm"===d,"h-10 px-4":"md"===d,"h-12 px-6 text-lg":"lg"===d},e),...g,children:f})}a.s(["Button",()=>d])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(98621);let e=(0,c.forwardRef)(({label:a,error:c,className:e,required:f,...g},h)=>(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:[a,f&&(0,b.jsx)("span",{className:"text-red-600 ml-1",children:"*"})]}),(0,b.jsx)("input",{ref:h,className:(0,d.clsx)("w-full rounded-lg border border-gray-500 px-3 py-2 text-gray-900 placeholder-gray-500","focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","disabled:bg-gray-100 disabled:cursor-not-allowed",c&&"border-red-500",e),...g}),c&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c})]}));e.displayName="Input",a.s(["Input",0,e])},48313,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({isOpen:a,onClose:d,title:e,message:f,type:g="info",onConfirm:h,confirmText:i="OK",cancelText:j="Cancel"}){return((0,c.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),a)?(0,b.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,b.jsxs)("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:d}),(0,b.jsx)("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:"â€‹"}),(0,b.jsxs)("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle animate-modal-in",children:[(0,b.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,b.jsxs)("div",{className:"sm:flex sm:items-start",children:[(()=>{switch(g){case"success":return(0,b.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,b.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});case"warning":case"confirm":return(0,b.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});default:return(0,b.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,b.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold leading-6 text-gray-900 mb-2",children:e}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("p",{className:"text-sm text-gray-600",children:f})})]})]})}),(0,b.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2",children:"confirm"===g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{type:"button",onClick:()=>{h&&h(),d()},className:"inline-flex w-full justify-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 sm:ml-3 sm:w-auto transition-colors",children:i}),(0,b.jsx)("button",{type:"button",onClick:d,className:"mt-3 inline-flex w-full justify-center rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto transition-colors",children:j})]}):(0,b.jsx)("button",{type:"button",onClick:d,className:"inline-flex w-full justify-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 sm:w-auto transition-colors",children:i})})]})]})}):null}a.s(["Modal",()=>d])},78838,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(62067),e=a.i(96438),f=a.i(94988),g=a.i(48313);let h=[{id:"dashboard",label:"Dashboard",description:"View dashboard and analytics"},{id:"patients",label:"Patients",description:"Manage patient records"},{id:"appointments",label:"Appointments",description:"Manage appointments"},{id:"users",label:"Users",description:"Manage users (admin only)"}];function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)({isOpen:!1,title:"",message:"",type:"info"}),v=(a,b,c="info")=>{u({isOpen:!0,title:a,message:b,type:c})};(0,c.useEffect)(()=>{w()},[l]);let w=async()=>{try{let a=localStorage.getItem("token"),b=await fetch(`https://smilify.ai/api/users${l?`?q=${l}`:""}`,{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();i(Array.isArray(c)?c:[])}catch(a){console.error("Failed to load users:",a),i([])}finally{o(!1)}},x=async()=>{if(j){q(!0);try{let a=localStorage.getItem("token"),b=await fetch(`https://smilify.ai/api/users/${j.id}/permissions`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({permissions:r})});if(b.ok){let a=await b.json();i(b=>b.map(b=>b.id===a.id?a:b)),k(a),v("Success","Permissions updated successfully!","success")}else{let a=await b.json();v("Error",`Failed to update permissions: ${a.error||"Unknown error"}`,"error")}}catch(a){console.error("Failed to save permissions:",a),v("Error","Failed to save permissions. Please try again.","error")}finally{q(!1)}}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Permission Management"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage user access to different modules"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Users"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(f.Input,{type:"text",placeholder:"Search users...",value:l,onChange:a=>m(a.target.value)})}),n?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading users..."}):0===a.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No users found"}):(0,b.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:a.map(a=>(0,b.jsx)("div",{onClick:()=>{k(a),s(a.permissions||[])},className:`p-4 border rounded-lg cursor-pointer transition-all ${j?.id===a.id?"bg-blue-50 border-blue-500":"bg-white border-gray-200 hover:border-blue-300"}`,children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.email}),(0,b.jsx)("span",{className:"inline-block mt-1 px-2 py-1 text-xs rounded bg-gray-100 text-gray-700",children:a.role})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[a.permissions?.length||0," permissions"]})})]})},a.id))})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:j?`Permissions for ${j.name}`:"Select a user"})}),(0,b.jsx)(d.CardContent,{children:j?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("strong",{children:"Note:"})," Control which modules this user can access. Unchecked modules will be hidden from their dashboard."]})}),(0,b.jsx)("div",{className:"space-y-3",children:h.map(a=>{let c=r.includes(a.id),d="admin"===j.role&&["users"].includes(a.id);return(0,b.jsx)("div",{onClick:()=>{var b;return!d&&(b=a.id,void s(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]))},className:`border rounded-lg p-4 transition-all cursor-pointer ${c?"bg-green-50 border-green-500":"bg-white border-gray-200 hover:border-gray-300"} ${d?"opacity-60 cursor-not-allowed":""}`,children:(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,b.jsx)("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${c?"bg-green-500 border-green-500":"bg-white border-gray-300"} ${d?"opacity-50":""}`,children:c&&(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),(0,b.jsxs)("div",{className:"ml-3 flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.description}),d&&(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1 italic",children:"Always enabled for admins"})]})]})},a.id)})}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)(e.Button,{onClick:x,disabled:p,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Permissions"}),(0,b.jsx)(e.Button,{onClick:()=>{k(null),s([])},className:"bg-gray-500 hover:bg-gray-600",children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,b.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,b.jsx)("p",{children:"Select a user from the list to manage their permissions"})]})})]})]}),(0,b.jsx)(g.Modal,{isOpen:t.isOpen,onClose:()=>{u({...t,isOpen:!1})},title:t.title,message:t.message,type:t.type})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_36c13deb._.js.map