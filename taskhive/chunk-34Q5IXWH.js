import{a as P,b as O}from"./chunk-NT55SWMJ.js";import{b as w}from"./chunk-T3PX6LUA.js";import{$ as f,Aa as b,Ab as C,Bb as M,Cb as _,D as s,Db as y,Eb as c,Fb as S,Gb as k,H as p,I as g,Kb as x,Ma as a,Mb as F,Ob as L,Sb as j,Tb as N,Ub as E,Vb as T,aa as i,ha as u,kb as h,qa as o,ra as e,sa as m,zb as v}from"./chunk-6CWG3VIL.js";var d=class r{constructor(t,n,l,I,G){this.fb=t;this.authService=n;this.tokenService=l;this.router=I;this.alertService=G;this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",c.required]})}loginForm;isLoading=!1;files=[];submit(){this.loginForm.valid&&(this.isLoading=!0,this.authService.login(this.loginForm.value).subscribe({next:t=>{this.isLoading=!1,t.success?(this.tokenService.setToken(t.accessToken,t.refreshToken),this.tokenService.setUser(t.user),this.router.navigate(["/admin/dashboard"]),alert("Login Successfully"),this.alertService.successToast("Login Successfully")):this.alertService.errorToast("Invalid Credentials")},error:t=>{this.isLoading=!1,console.error("Login error:",t),this.alertService.errorToast("Server connection failed. Please try again later.")}}))}static \u0275fac=function(n){return new(n||r)(i(N),i(O),i(w),i(v),i(P))};static \u0275cmp=p({type:r,selectors:[["app-login"]],decls:26,vars:1,consts:[[1,"account-pages","mt-5","mb-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-pattern"],[1,"card-body","p-4"],[1,"text-center","w-75","m-auto"],["routerLinkActive","active","routerLink","/login"],["src","assets/images/logo.png","alt","","height","100","width","150",2,"object-fit","contain"],[1,"text-muted","mb-4","mt-3"],["accept-charset","utf-8",3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","emailaddress"],["for","identity"],["id","loginEmail","formControlName","email","type","email","placeholder","User name / Email","required","",1,"login__input","form-control"],["for","password"],["id","loginPassword","formControlName","password","type","password","placeholder","Password","required","",1,"login__input","form-control"],[1,"form-group","mb-0","text-center"],["type","submit",1,"btn","btn-primary","btn-block"]],template:function(n,l){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7)(8,"span"),m(9,"img",8),e()(),o(10,"p",9),a(11,"Enter your email address and password to access admin panel."),e()(),o(12,"form",10),b("ngSubmit",function(){return l.submit()}),o(13,"div",11)(14,"label",12)(15,"label",13),a(16,"Email/Username:"),e()(),m(17,"input",14),e(),o(18,"div",11)(19,"label",15)(20,"label",15),a(21,"Password:"),e()(),m(22,"input",16),e(),o(23,"div",17)(24,"button",18),a(25," Log In "),e()()()()()()()()()),n&2&&(f(12),u("formGroup",l.loginForm))},dependencies:[x,y,S,k,j,F,L,C,M],styles:["body[_ngcontent-%COMP%]{font-family:Raleway,sans-serif!important}.bg-body-tertiary[_ngcontent-%COMP%]{--bs-bg-opacity: 0 !important}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2.5rem}.collapse[_ngcontent-%COMP%]{justify-content:end!important}.navbar-nav[_ngcontent-%COMP%]{margin:0 3rem 0 0!important;width:40%;display:flex;justify-content:space-between}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:600!important}.search-input[_ngcontent-%COMP%]{box-shadow:none!important;border:none!important;border-bottom:thin solid black!important;border-radius:0%!important}.search-btn[_ngcontent-%COMP%]{border:none!important;outline:none!important;padding:0!important;border-bottom:thin solid black!important;border-radius:0!important}.search-btn[_ngcontent-%COMP%]:hover{background-color:#fff!important;border-bottom:thin solid black!important}.search-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.5rem}.user-btn[_ngcontent-%COMP%]{width:fit-content;height:fit-content;padding:.2rem!important;margin-left:1rem}.btn.show[_ngcontent-%COMP%]{border:none!important}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu.show[_ngcontent-%COMP%]{background:#ff296b;left:-2rem!important}.after-login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;margin-left:1rem}.after-login[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{background:#46f7f7!important}.nav-cart-btn[_ngcontent-%COMP%]{background-color:#46f7f7!important;border:1px;margin-left:1rem;height:fit-content;width:fit-content;padding:.2rem!important}.user[_ngcontent-%COMP%]{height:1.7rem}.al-nav-cart-btn[_ngcontent-%COMP%]{background-color:#46f7f7!important;border:1px;height:fit-content;width:fit-content;padding:.2rem!important}.al-user[_ngcontent-%COMP%]{height:1.7rem;background-color:#46f7f7!important;border:1px;margin-left:1rem;height:fit-content;width:fit-content;padding:.2rem!important}.al-user-btn[_ngcontent-%COMP%]{width:fit-content;height:fit-content;padding:.2rem!important}@media (min-width: 710px) and (max-width: 980px){.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2rem}.navbar-nav[_ngcontent-%COMP%]{margin-right:1rem!important;width:100%;align-items:end;margin-bottom:0!important}.nav-link[_ngcontent-%COMP%]{padding:0!important}.dropdown-menu.show[_ngcontent-%COMP%]{left:-5rem!important}}@media (min-width: 500px) and (max-width: 700px){.search[_ngcontent-%COMP%]{display:none!important}.user-btn[_ngcontent-%COMP%]{margin-left:0}.dropdown-menu.show[_ngcontent-%COMP%]{background:#ff296b;left:0rem!important}.after-login[_ngcontent-%COMP%]{margin-left:0rem}}@media (min-width: 310px) and (max-width: 480px){.search[_ngcontent-%COMP%]{display:none!important}.user-btn[_ngcontent-%COMP%]{margin-left:0}.dropdown-menu.show[_ngcontent-%COMP%]{background:#ff296b;left:0rem!important}.after-login[_ngcontent-%COMP%]{margin-left:0rem}}"]})};var A=class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=g({type:r});static \u0275inj=s({imports:[h,T,E,_.forChild([{path:"",component:d}])]})};export{A as LoginModule};
