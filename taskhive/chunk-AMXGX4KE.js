import{Aa as l,Ja as d,i as s,k as o}from"./chunk-BUYAC3P6.js";var a={production:!1,url:"https://api.taskhive.co.in/"};var i=class extends Error{};i.prototype.name="InvalidTokenError";function v(r){return decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function k(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return v(e)}catch{return atob(e)}}function m(r,e){if(typeof r!="string")throw new i("Invalid token specified: must be a string");e||(e={});let t=e.header===!0?0:1,n=r.split(".")[t];if(typeof n!="string")throw new i(`Invalid token specified: missing part #${t+1}`);let u;try{u=k(n)}catch(p){throw new i(`Invalid token specified: invalid base64 for part #${t+1} (${p.message})`)}try{return JSON.parse(u)}catch(p){throw new i(`Invalid token specified: invalid json for part #${t+1} (${p.message})`)}}var c=class r{constructor(e){this.route=e}decodedToken;token;setToken(e,t){localStorage.setItem("Token",e),localStorage.setItem("refreshToken",t)}getToken(){let e=localStorage.getItem("Token");return this.token=e,e}getRefreshToken(){return localStorage.getItem("refershToken")}deleteToken(){localStorage.removeItem("Token"),localStorage.removeItem("refershToken"),this.route.navigate(["/login"])}setUser(e){localStorage.setItem("user",JSON.stringify(e))}getUser(){return JSON.parse(localStorage.getItem("user")||"{}")}decodeToken(){this.getToken()&&(this.decodedToken=m(this.token))}getDecodeToken(){return m(this.token)}getExpiryTime(){return this.decodeToken(),this.decodedToken?this.decodedToken.exp:null}isTokenExpired(){let e=this.getExpiryTime();return e?1e3*e-new Date().getTime()<5e3:!1}static \u0275fac=function(t){return new(t||r)(o(d))};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};var f=class r{constructor(e,t){this.httpClient=e;this.tokenService=t}apiUrl=`${a.url}/contact`;onContactSave(e){return console.log(e),this.httpClient.post(`${a.url}/contact`,e)}onContactGetAll(){return this.httpClient.get(this.apiUrl)}onContactDelete(e){return this.httpClient.delete(`${this.apiUrl}/${e}`)}onContactFindOne(e){return this.httpClient.get(`${this.apiUrl}/${e}`)}onContactUpdate(e,t){return this.httpClient.put(`${this.apiUrl}/${e}`,t)}onContactDeleteAll(){return this.httpClient.delete(this.apiUrl)}static \u0275fac=function(t){return new(t||r)(o(l),o(c))};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};var C=class r{constructor(e,t){this.httpClient=e;this.tokenService=t}apiUrl=`${a.url}/course-query`;onCourseSave(e){return console.log(e),this.httpClient.post(`${a.url}/course-query`,e)}onCourseGetAll(){return this.httpClient.get(this.apiUrl)}onCourseDelete(e){return this.httpClient.delete(`${this.apiUrl}/${e}`)}onCourseFindOne(e){return this.httpClient.get(`${this.apiUrl}/${e}`)}onCourseUpdate(e,t){return this.httpClient.put(`${this.apiUrl}/${e}`,t)}onCourseDeleteAll(){return this.httpClient.delete(this.apiUrl)}static \u0275fac=function(t){return new(t||r)(o(l),o(c))};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};export{a,c as b,f as c,C as d};
