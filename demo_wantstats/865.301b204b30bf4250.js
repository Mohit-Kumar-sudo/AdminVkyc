"use strict";(self.webpackChunkwantstats=self.webpackChunkwantstats||[]).push([[865],{9865:(Vc,Ot,T)=>{T.r(Ot),T.d(Ot,{ReportLayoutModule:()=>$c});var O=T(9808),k=T(1083),P=T(9614),H=T(4339),C=T(3094),x=T(4168),w=T(4159),M=T(7489),t=T(5e3),S=T(8966),I=T(2820),A=T(3116),L=T(5229),U=T(72),Z=T(7675),X=T(5337),y=T(4999),j=T(4829),Lt=T(1188),nt=T(429),Ut=T(509),Yt=T(1074),qt=T(620),Pt=T(8188),Ht=T(3952),gt=T(9125),ht=T(4383),mt=T(1125);const Tt=function(a,o,e){return{type:a,reportId:o,reportName:e}};function Jt(a,o){if(1&a&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.kEZ(7,Tt,e.section,e.report_id,e.report_name)),t.xp6(2),t.AsE(" ",t.lcZ(3,5,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function Qt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,3,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}const ut=function(a,o){return{reportId:a,reportName:o}};function zt(a,o){if(1&a&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.WLB(6,ut,e.report_id,e.report_name)),t.xp6(2),t.hij(" ",t.lcZ(3,4,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function Ft(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function Gt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," more Sections..."),t.qZA())}function Bt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," ...less Sections "),t.qZA())}function jt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",8)(1,"label",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(5);return i.moreStatus=!i.moreStatus}),t.YNc(2,Gt,2,0,"span",2),t.YNc(3,Bt,2,0,"span",2),t.qZA()()}if(2&a){const e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",!e.moreStatus),t.xp6(1),t.Q6J("ngIf",e.moreStatus)}}function $t(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Sections"),t.qZA(),t.YNc(5,Jt,6,11,"a",11),t.YNc(6,Qt,6,5,"a",12),t.YNc(7,zt,6,9,"a",11),t.YNc(8,Ft,6,4,"a",12),t.YNc(9,jt,4,2,"a",13),t.qZA()()()),2&a){const e=o.$implicit,n=o.index,i=t.oxw(4);t.xp6(5),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)!=i.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)==i.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)!=i.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)==i.reportId),t.xp6(1),t.Q6J("ngIf",i.interConnectsMore.length&&n==i.interConnects.length-1)}}function Vt(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,$t,10,5,"div",6),t.qZA()()),2&a){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.interConnects)}}function Kt(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Vt,3,1,"div",2),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isTopPlayer)}}const Wt=function(a){return{companyId:a,menu:"Financial Overview",id:"SBU",key:"financial_overview"}};function Xt(a,o){if(1&a&&(t.TgZ(0,"a",22)(1,"h6",15),t._uU(2),t.qZA()()),2&a){const e=t.oxw(2).$implicit;t.Q6J("queryParams",t.VKq(2,Wt,null==e?null:e._id)),t.xp6(2),t.Oqu(null==e?null:e.name)}}function te(a,o){if(1&a&&(t.TgZ(0,"a")(1,"h6",15),t._uU(2),t.qZA()()),2&a){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(null==e?null:e.name)}}function ee(a,o){if(1&a&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h6",10),t._uU(3,"Similar Companies"),t.qZA(),t.YNc(4,Xt,3,4,"a",19),t.YNc(5,te,3,1,"a",2),t.TgZ(6,"a",20)(7,"label",21),t._uU(8,"More Companies..."),t.qZA()()()()),2&a){const e=t.oxw(4);t.xp6(4),t.Q6J("ngIf","5f636e6394ef4c5219ac9cd1"!=e.reportId),t.xp6(1),t.Q6J("ngIf","5f636e6394ef4c5219ac9cd1"==e.reportId)}}function ne(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,ee,9,2,"div",13),t.qZA()),2&a){const e=o.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=e&&e<(null==n.suggestion||null==n.suggestion.interConnect?null:n.suggestion.interConnect.data.length))}}function ie(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,ne,2,1,"div",6),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",null==e.suggestion||null==e.suggestion.interConnect?null:e.suggestion.interConnect.data)}}function ae(a,o){if(1&a&&(t.TgZ(0,"a",24)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.kEZ(7,Tt,e.section,e.report_id,e.report_name)),t.xp6(2),t.AsE(" ",t.lcZ(3,5,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function oe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,3,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function re(a,o){if(1&a&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.WLB(6,ut,e.report_id,e.report_name)),t.xp6(2),t.hij(" ",t.lcZ(3,4,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function se(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function ce(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Sections"),t.qZA(),t.YNc(5,ae,6,11,"a",23),t.YNc(6,oe,6,5,"a",12),t.YNc(7,re,6,9,"a",11),t.YNc(8,se,6,4,"a",12),t.qZA()()()),2&a){const e=o.$implicit,n=t.oxw(4);t.xp6(5),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)!=n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)==n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)!=n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)==n.reportId)}}function le(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,ce,9,4,"div",6),t.qZA()()),2&a){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.interConnectsMore)}}function de(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,le,3,1,"div",2),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isTopPlayer)}}function pe(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",4),t.YNc(2,Kt,2,1,"div",2),t.YNc(3,ie,3,1,"div",2),t.YNc(4,de,2,1,"div",2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.interConnects&&(null==e.interConnects?null:e.interConnects.length)),t.xp6(1),t.Q6J("ngIf",e.isTopPlayer),t.xp6(1),t.Q6J("ngIf",e.moreStatus&&e.interConnectsMore&&(null==e.interConnectsMore?null:e.interConnectsMore.length))}}function ge(a,o){if(1&a&&(t.TgZ(0,"a",29)(1,"h6",15),t._uU(2),t.qZA()()),2&a){const e=t.oxw(2).$implicit;t.Q6J("queryParams",t.WLB(2,ut,null==e?null:e.report_id,null==e?null:e.report_name)),t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function he(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw(2).$implicit;t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function me(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," more Reports..."),t.qZA())}function ue(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," ...less Reports "),t.qZA())}function _e(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",8)(1,"label",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return i.moreReports=!i.moreReports}),t.YNc(2,me,2,0,"span",2),t.YNc(3,ue,2,0,"span",2),t.qZA()()}if(2&a){const e=t.oxw(2).index,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.moreReports&&5==e),t.xp6(1),t.Q6J("ngIf",n.moreReports&&5!=e)}}function fe(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Reports"),t.qZA(),t.YNc(5,ge,3,5,"a",28),t.YNc(6,he,3,1,"a",12),t.YNc(7,_e,4,2,"a",13),t.qZA()()()),2&a){const e=t.oxw(),n=e.$implicit,i=e.index,r=t.oxw(2);t.xp6(5),t.Q6J("ngIf",(null==n?null:n.report_id)!=r.reportId),t.xp6(1),t.Q6J("ngIf",(null==n?null:n.report_id)==r.reportId),t.xp6(1),t.Q6J("ngIf",(null==r.reportConnectData?null:r.reportConnectData.data.length)&&(null==r.reportConnectData?null:r.reportConnectData.data.length)>5&&(5==i||i==(null==r.reportConnectData?null:r.reportConnectData.data.length)-1))}}function ve(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,fe,8,3,"div",27),t.qZA()),2&a){const e=o.index,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.moreReports&&e<=5||n.moreReports)}}function Ce(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,ve,2,1,"div",25),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",null==e.reportConnectData?null:e.reportConnectData.data)}}function xe(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Reports"),t.qZA(),t.TgZ(5,"a",30)(6,"h6",15),t._uU(7),t.qZA()()()()()),2&a){const e=o.$implicit;t.xp6(5),t.Q6J("queryParams",t.WLB(2,ut,null==e?null:e.report_id,null==e?null:e.report_name)),t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function we(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,xe,8,5,"div",6),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",null==e.hardCodedReportConnectData?null:e.hardCodedReportConnectData.data)}}function ye(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return i.openYtDailog(i.youtubeContents[0])}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(3),t.Q6J("src",null==e.youtubeContents[0]?null:e.youtubeContents[0].imgUrl,t.LSH)}}function be(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",e.youtubeContents.length-1," more ")}}function Me(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("-",e.youtubeContents.length-1," ")}}function Oe(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,be,2,1,"span",2),t.YNc(2,Me,2,1,"span",2),t._uU(3,"Videos"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.videoStatus),t.xp6(1),t.Q6J("ngIf",e.videoStatus)}}function Pe(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"+4 more "),t.qZA())}function Te(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"-4 "),t.qZA())}function ke(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,Pe,2,0,"span",2),t.YNc(2,Te,2,0,"span",2),t._uU(3,"Videos"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.videoStatus),t.xp6(1),t.Q6J("ngIf",e.videoStatus)}}function Se(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).openYtDailog(i)}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&a){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("src",null==e?null:e.imgUrl,t.LSH)}}const it=function(a){return{searchQuery:a}};function De(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,Se,4,1,"div",33),t.TgZ(2,"div",9)(3,"h6",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openYtDailog(i)}),t._uU(4),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"a",42)(10,"label",21),t._uU(11,"More Videos..."),t.qZA()()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e?null:e.imgUrl),t.xp6(2),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.hij(" ",t.Dn7(5,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(8,9,null==e?null:e.publishedAt)),t.xp6(2),t.Q6J("queryParams",t.VKq(11,it,n.reportName))}}function Ae(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,De,12,13,"div",40),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function Ze(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.videoStatus=!i.videoStatus}),t.TgZ(2,"div",8),t.YNc(3,ye,4,1,"div",33),t.TgZ(4,"div",9)(5,"h6",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.openYtDailog(i.youtubeContents[0])}),t._uU(6),t.ALo(7,"slice"),t.qZA(),t.TgZ(8,"div",35),t._uU(9),t.ALo(10,"date"),t.qZA(),t.YNc(11,Oe,4,2,"label",36),t.YNc(12,ke,4,2,"label",36),t.qZA()()(),t.TgZ(13,"div",5),t.YNc(14,Ae,2,1,"div",25),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","110px")("expandedHeight","110px"),t.xp6(2),t.Q6J("ngIf",null==e.youtubeContents[0]?null:e.youtubeContents[0].imgUrl),t.xp6(2),t.Q6J("title",null==e.youtubeContents[0]?null:e.youtubeContents[0].title),t.xp6(1),t.hij(" ",t.Dn7(7,10,null==e.youtubeContents[0]?null:e.youtubeContents[0].title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(10,14,null==e.youtubeContents[0]?null:e.youtubeContents[0].publishedAt)),t.xp6(2),t.Q6J("ngIf",e.youtubeContents.length<5),t.xp6(1),t.Q6J("ngIf",e.youtubeContents.length>=5),t.xp6(2),t.Q6J("ngForOf",e.youtubeContents)}}function Re(a,o){if(1&a&&(t.TgZ(0,"a",46)(1,"label",21),t._uU(2,"More News..."),t.qZA()()),2&a){const e=t.oxw(2);t.Q6J("queryParams",t.VKq(1,it,e.reportName))}}function Ee(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",e.finalNews.length-1," more ")}}function Ne(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("-",e.finalNews.length-1," ")}}function Ie(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,Ee,2,1,"span",2),t.YNc(2,Ne,2,1,"span",2),t._uU(3,"News"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.newStat),t.xp6(1),t.Q6J("ngIf",e.newStat)}}function Le(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"+4 more "),t.qZA())}function Ue(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"-4 "),t.qZA())}function Ye(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,Le,2,0,"span",2),t.YNc(2,Ue,2,0,"span",2),t._uU(3,"News"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.newStat),t.xp6(1),t.Q6J("ngIf",e.newStat)}}function qe(a,o){if(1&a&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h6",10),t._uU(3,"News Stories"),t.qZA(),t.TgZ(4,"h6",43)(5,"a",44),t._uU(6),t.ALo(7,"slice"),t.qZA()(),t.TgZ(8,"div",35),t._uU(9),t.qZA(),t.TgZ(10,"a",46)(11,"label",21),t._uU(12,"More News..."),t.qZA()()()()),2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.Q6J("href",null==e?null:e.link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(7,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(null==e?null:e.source),t.xp6(1),t.Q6J("queryParams",t.VKq(9,it,n.reportName))}}function He(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,qe,13,11,"div",13),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function Je(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.newStat=!i.newStat}),t.TgZ(2,"div",8)(3,"div",9)(4,"h6",10),t._uU(5,"News Stories"),t.qZA(),t.TgZ(6,"h6",43)(7,"a",44),t._uU(8),t.ALo(9,"slice"),t.qZA()(),t.TgZ(10,"div",35),t._uU(11),t.qZA(),t.YNc(12,Re,3,3,"a",45),t.YNc(13,Ie,4,2,"label",36),t.YNc(14,Ye,4,2,"label",36),t.qZA()()(),t.TgZ(15,"div",5),t.YNc(16,He,2,1,"div",6),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","90px")("expandedHeight","90px"),t.xp6(5),t.Q6J("title",null==e.finalNews[0]?null:e.finalNews[0].title),t.xp6(1),t.Q6J("href",null==e.finalNews[0]?null:e.finalNews[0].link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(9,11,null==e.finalNews[0]?null:e.finalNews[0].title,0,45),"... "),t.xp6(3),t.Oqu(null==e.finalNews[0]?null:e.finalNews[0].source),t.xp6(1),t.Q6J("ngIf",1==e.finalNews.length),t.xp6(1),t.Q6J("ngIf",e.finalNews.length<5&&e.finalNews.length>1),t.xp6(1),t.Q6J("ngIf",e.finalNews.length>=5),t.xp6(2),t.Q6J("ngForOf",e.finalNews)}}function Qe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).openYtDailog(i)}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&a){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("src",null==e?null:e.imgUrl,t.LSH)}}function ze(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,Qe,4,1,"div",33),t.TgZ(2,"div",9)(3,"h6",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openYtDailog(i)}),t._uU(4),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"a",42)(10,"label",21),t._uU(11,"More Videos..."),t.qZA()()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e?null:e.imgUrl),t.xp6(2),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.hij(" ",t.Dn7(5,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(8,9,null==e?null:e.publishedAt)),t.xp6(2),t.Q6J("queryParams",t.VKq(11,it,n.reportName))}}function Fe(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,ze,12,13,"div",40),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",e<3)}}function Ge(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Fe,2,1,"div",25),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.youtubeContents)}}function Be(a,o){if(1&a&&(t.TgZ(0,"div",41)(1,"div",9)(2,"h6",10),t._uU(3,"News Stories"),t.qZA(),t.TgZ(4,"h6",43)(5,"a",44),t._uU(6),t.ALo(7,"slice"),t.qZA()(),t.TgZ(8,"div",35),t._uU(9),t.qZA(),t.TgZ(10,"a",46)(11,"label",21),t._uU(12,"More News..."),t.qZA()()()()),2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.Q6J("href",null==e?null:e.link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(7,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(null==e?null:e.source),t.xp6(1),t.Q6J("queryParams",t.VKq(9,it,n.searchText))}}function je(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,Be,13,11,"div",40),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",e<3)}}function $e(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,je,2,1,"div",25),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.finalNews)}}function Ve(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("+",e.leadsArray.length-1," more ")}}function Ke(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("-",e.leadsArray.length-1," ")}}const We=function(a){return{vertical:a}};function Xe(a,o){if(1&a&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Top Leads"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",48),t._uU(6),t.ALo(7,"titlecase"),t.qZA()(),t.TgZ(8,"a",50)(9,"label",21),t._uU(10,"More Leads..."),t.qZA()()()()),2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(5),t.MGl("routerLink","/output-chart/leads-data/",e,""),t.xp6(1),t.hij(" ",t.lcZ(7,3,e)," "),t.xp6(2),t.Q6J("queryParams",t.VKq(5,We,n.currentReport.vertical))}}function tn(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,Xe,11,7,"div",49),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function en(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.leadsDb=!i.leadsDb}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Top Leads"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",48),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.TgZ(10,"label",21),t.YNc(11,Ve,2,1,"span",2),t.YNc(12,Ke,2,1,"span",2),t._uU(13,"Leads"),t.qZA()()()(),t.TgZ(14,"div",5),t.YNc(15,tn,2,1,"div",6),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.MGl("routerLink","/output-chart/leads-data/",e.leadsArray[0],""),t.xp6(1),t.hij(" ",t.lcZ(9,8,e.leadsArray[0])," "),t.xp6(3),t.Q6J("ngIf",!e.leadsDb),t.xp6(1),t.Q6J("ngIf",e.leadsDb),t.xp6(3),t.Q6J("ngForOf",e.leadsArray)}}function nn(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",(null==e.hardCodedFiling?null:e.hardCodedFiling.length)-1," more ")}}function an(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij(" ",(null==e.hardCodedFiling?null:e.hardCodedFiling.length)-1," ")}}function on(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,nn,2,1,"span",2),t.YNc(2,an,2,1,"span",2),t._uU(3,"Fillings"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.fillingOverlap),t.xp6(1),t.Q6J("ngIf",e.fillingOverlap)}}function rn(a,o){if(1&a&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Regulatory Fillings (US)"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",52),t._uU(6),t.ALo(7,"titlecase"),t.qZA()()()()),2&a){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("queryParams",t.VKq(4,it,e)),t.xp6(1),t.hij(" ",t.lcZ(7,2,e)," ")}}function sn(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,rn,8,6,"div",49),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}const cn=function(){return{searchQuery:""}};function ln(a,o){1&a&&(t.TgZ(0,"a",54)(1,"label",55)(2,"span"),t._uU(3," more Fillings "),t.qZA()()()),2&a&&t.Q6J("queryParams",t.DdM(1,cn))}function dn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.fillingOverlap=!i.fillingOverlap}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Regulatory Fillings (US)"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",52),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.YNc(10,on,4,2,"label",36),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,sn,2,1,"div",6),t.YNc(13,ln,4,2,"a",53),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.Q6J("queryParams",t.VKq(10,it,e.hardCodedFiling[0])),t.xp6(1),t.hij(" ",t.lcZ(9,8,e.hardCodedFiling[0])," "),t.xp6(2),t.Q6J("ngIf",e.hardCodedFiling.length>1),t.xp6(2),t.Q6J("ngForOf",e.hardCodedFiling),t.xp6(1),t.Q6J("ngIf",e.fillingOverlap)}}function pn(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",e.hardcodedStocks.length-1," more ")}}function gn(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij(" -",e.hardcodedStocks.length-1," ")}}function hn(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,pn,2,1,"span",2),t.YNc(2,gn,2,1,"span",2),t._uU(3,"Stocks"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.stocksOverlap),t.xp6(1),t.Q6J("ngIf",e.stocksOverlap)}}const kt=function(a,o){return{symbol:a,name:o}};function mn(a,o){if(1&a&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Top Stocks"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",56),t._uU(6),t.ALo(7,"titlecase"),t.qZA()()()()),2&a){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("queryParams",t.WLB(5,kt,e.ticker,e.name)),t.xp6(1),t.AsE(" ",t.lcZ(7,3,e.name),", ( ",e.ticker," ) ")}}function un(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,mn,8,8,"div",49),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function _n(a,o){1&a&&(t.TgZ(0,"a",58)(1,"label",55)(2,"span"),t._uU(3," more Stocks "),t.qZA()()())}function fn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.stocksOverlap=!i.stocksOverlap}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Top Stocks"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",56),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.YNc(10,hn,4,2,"label",36),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,un,2,1,"div",6),t.YNc(13,_n,4,0,"a",57),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.Q6J("queryParams",t.WLB(11,kt,e.hardcodedStocks[0].ticker,e.hardcodedStocks[0].name)),t.xp6(1),t.AsE(" ",t.lcZ(9,9,e.hardcodedStocks[0].name),", ( ",e.hardcodedStocks[0].ticker," ) "),t.xp6(2),t.Q6J("ngIf",e.hardcodedStocks.length>1),t.xp6(2),t.Q6J("ngForOf",e.hardcodedStocks),t.xp6(1),t.Q6J("ngIf",e.stocksOverlap)}}let K=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g,m,u){this.youtubeService=e,this.newsService=n,this.dialog=i,this.activatedRoute=r,this.localStorageService=s,this.leadsService=d,this.reportService=p,this.secEdgarService=f,this.sharedInterconenctService=g,this.cpService=m,this.toastr=u,this.moreReports=!1,this.videoStatus=!1,this.fillingOverlap=!1,this.stocksOverlap=!1,this.moreStatus=!1,this.contents=[],this.news=[],this.finalNews=[],this.newStat=!1,this.interConnect=!0,this.reportConnect=!1,this.reportStatus=!1,this.leadsDb=!1,this.reportId="",this.topCompanies=[],this.fillingConnect=[],this.reportConnectData={section:"",data:[]},this.hardCodedReportConnectData={section:"",data:[]},this.leadsArray=[],this.reportName="",this.currentOrder="normalOrder",this.isTopPlayer=!1,this.interConnects=[],this.interConnectsMore=[],this.searchText="",this.moreNewsStatus=!1,this.moreVideosStatus=!1,this.hardCodedFiling=[],this.sectionDetails={Drivers:{main_section:"Market Dynamics",section_name:"Drivers",router_link:"/droctcontainer"},Restraints:{main_section:"Market Dynamics",section_name:"Restraints",router_link:"/droctcontainer"},Opportunities:{main_section:"Market Dynamics",section_name:"Opportunities",router_link:"/droctcontainer"},Challenges:{main_section:"Market Dynamics",section_name:"Challenges",router_link:"/droctcontainer"},Trends:{main_section:"Market Dynamics",section_name:"Trends",router_link:"/droctcontainer"},"Suuply / Value Chain Analysis":{main_section:"Supply/Value Chain Analysis",router_link:"/supply-chain-output"},Porters:{main_section:"Porter's 5 Forces",router_link:"/porters-forces-output"}},this.order={normalOrder:["Drivers","Restraints","Suuply / Value Chain Analysis","Porters","Opportunities","Challenges","Trends"],supplyChainOrder:["Suuply / Value Chain Analysis","Porters","Drivers","Restraints","Opportunities","Challenges","Trends"],porterOrder:["Porters","Suuply / Value Chain Analysis","Drivers","Restraints","Opportunities","Challenges","Trends"]},this.secHardcore=["Johnson & Johnson","Novartis Ag.","Medtronic Plc","Abbott Laboratories"],this.hardCodedCovidContents=[{imgUrl:"https://i.ytimg.com/vi/yrxYhv2O3wU/mqdefault.jpg",videoid:"yrxYhv2O3wU",title:"What coronavirus means for the global economy | Ray Dalio",publishedAt:"2020-04-09T16:16:13Z"},{imgUrl:"https://i.ytimg.com/vi/yFisxvUNfMs/mqdefault.jpg",videoid:"yFisxvUNfMs",title:"Coronavirus outbreak: The economic impact explained",publishedAt:"2020-03-06T11:30:03Z"},{imgUrl:"https://i.ytimg.com/vi/9nrZwjcjS1A/mqdefault.jpg",videoid:"9nrZwjcjS1A",title:"Coronavirus: impact on Global Economy - BBC News",publishedAt:"2020-05-01T11:43:10Z"},{imgUrl:"https://i.ytimg.com/vi/l9ViEIip9q4/mqdefault_live.jpg",videoid:"l9ViEIip9q4",title:"NDTV India LIVE TV - Watch Coronavirus Live Updates | Latest News in Hindi | \u0939\u093f\u0902\u0926\u0940 \u0938\u092e\u093e\u091a\u093e\u0930",publishedAt:"2020-03-02T09:47:22Z"},{imgUrl:"https://i.ytimg.com/vi/WA1Ji-Hj1qo/mqdefault.jpg",videoid:"WA1Ji-Hj1qo",title:"Ray Dalio on the Economic Impact of the Coronavirus Crisis",publishedAt:"2020-04-15T23:10:20Z"}],this.hardcodedStocks=[],this.hardCodedReports={section:"Report",data:[]},this.hardCodedNews=[{title:"Botox and fillers post-Covid-19: How appointments will ...",link:"https://www.harpersbazaar.com/uk/beauty/skincare/a32627354/botox-fillers-post-covid-19/",published:"22-May-2020",text:"Botox and fillers post-Covid-19: How appointments will completely change. An aesthetic doctor explains the future of cosmetic dermatology clinics.",source:"harpersbazaar.com",linkExists:!1},{title:"Thinking about booking in for filler or Botox? Expect a rather ...",link:"https://www.bodyandsoul.com.au/beauty/news-reviews/thinking-about-booking-in-for-filler-or-botox-expect-a-rather-long-waitlist/news-story/88ae8ba22e120102006e98409df321d7",published:"24-May-2020",text:"... next Botox, dermal filler or plastic surgery appointment might look like post-COVID-19. ... But what does it mean for elective areas of health care like cosmetic ... the country, we take a look at how your next appointment will change. ... The patient will be asked to complete the rest of the form and this will be ...",source:"Body and Soul",linkExists:!1},{title:"COVID-19 Impact on Global Biodegradable Dermal Fillers Industry 2020: Market Size, Share, Trends, Applications, SWOT Analysis by Top Key Players, Demand and Forecast Report to 2025 - Jewish Life News",link:"https://jewishlifenews.com/uncategorized/covid-19-impact-on-global-biodegradable-dermal-fillers-industry-2020-market-size-share-trends-applications-swot-analysis-by-top-key-players-demand-and-forecast-report-to-2025/",published:"Mon, 01 Jun 2020 07:44:00 GMT",text:'<a href="https://jewishlifenews.com/uncategorized/covid-19-impact-on-global-biodegradable-dermal-fillers-industry-2020-market-size-share-trends-applications-swot-analysis-by-top-key-players-demand-and-forecast-report-to-2025/" target="_blank">COVID-19 Impact on Global Biodegradable Dermal Fillers Industry 2020: Market Size, Share, Trends, Applications, SWOT Analysis by Top Key Players, Demand and Forecast Report to 2025</a>&nbsp;&nbsp;<font color="#6f6f6f">Jewish Life News</font>',source:"Jewish Life News",img:"CBMi2AFodHRwczovL2pld2lzaGxpZmVuZXdzLmNvbS91bmNhdGVnb3JpemVkL2NvdmlkLTE5LWltcGFjdC1vbi1nbG9iYWwtYmlvZGVncmFkYWJsZS1kZXJtYWwtZmlsbGVycy1pbmR1c3RyeS0yMDIwLW1hcmtldC1zaXplLXNoYXJlLXRyZW5kcy1hcHBsaWNhdGlvbnMtc3dvdC1hbmFseXNpcy1ieS10b3Ata2V5LXBsYXllcnMtZGVtYW5kLWFuZC1mb3JlY2FzdC1yZXBvcnQtdG8tMjAyNS_SAdwBaHR0cHM6Ly9qZXdpc2hsaWZlbmV3cy5jb20vdW5jYXRlZ29yaXplZC9jb3ZpZC0xOS1pbXBhY3Qtb24tZ2xvYmFsLWJpb2RlZ3JhZGFibGUtZGVybWFsLWZpbGxlcnMtaW5kdXN0cnktMjAyMC1tYXJrZXQtc2l6ZS1zaGFyZS10cmVuZHMtYXBwbGljYXRpb25zLXN3b3QtYW5hbHlzaXMtYnktdG9wLWtleS1wbGF5ZXJzLWRlbWFuZC1hbmQtZm9yZWNhc3QtcmVwb3J0LXRvLTIwMjUvYW1wLw",linkExists:!1},{title:"Dermal Fillers and Botulinum Toxin Market Research Global Industry Analysis and Opportunity Assessment (2020-2027) - Cole of Duty",link:"https://coleofduty.com/technology/2020/06/01/dermal-fillers-and-botulinum-toxin-market-research-global-industry-analysis-and-opportunity-assessment-2020-2027/",published:"Mon, 01 Jun 2020 12:09:10 GMT",text:'<a href="https://coleofduty.com/technology/2020/06/01/dermal-fillers-and-botulinum-toxin-market-research-global-industry-analysis-and-opportunity-assessment-2020-2027/" target="_blank">Dermal Fillers and Botulinum Toxin Market Research Global Industry Analysis and Opportunity Assessment (2020-2027)</a>&nbsp;&nbsp;<font color="#6f6f6f">Cole of Duty</font>',source:"Cole of Duty",img:"CBMingFodHRwczovL2NvbGVvZmR1dHkuY29tL3RlY2hub2xvZ3kvMjAyMC8wNi8wMS9kZXJtYWwtZmlsbGVycy1hbmQtYm90dWxpbnVtLXRveGluLW1hcmtldC1yZXNlYXJjaC1nbG9iYWwtaW5kdXN0cnktYW5hbHlzaXMtYW5kLW9wcG9ydHVuaXR5LWFzc2Vzc21lbnQtMjAyMC0yMDI3L9IBAA",linkExists:!1},{title:"Hyaluronic Acid Based Dermal Fillers Market Outlook, Trends Analysis, Top Manufacturers, Shares, Growth Opportunities, Statistics & Forecast to 2026 - Jewish Life News",link:"https://jewishlifenews.com/market-reports/hyaluronic-acid-based-dermal-fillers-market-outlook-trends-analysis-top-manufacturers-shares-growth-opportunities-statistics-forecast-to-2026/",published:"Mon, 01 Jun 2020 16:39:00 GMT",text:'<a href="https://jewishlifenews.com/market-reports/hyaluronic-acid-based-dermal-fillers-market-outlook-trends-analysis-top-manufacturers-shares-growth-opportunities-statistics-forecast-to-2026/" target="_blank">Hyaluronic Acid Based Dermal Fillers Market Outlook, Trends Analysis, Top Manufacturers, Shares, Growth Opportunities, Statistics & Forecast to 2026</a>&nbsp;&nbsp;<font color="#6f6f6f">Jewish Life News</font>',source:"Jewish Life News",img:"CBMiuAFodHRwczovL2pld2lzaGxpZmVuZXdzLmNvbS9tYXJrZXQtcmVwb3J0cy9oeWFsdXJvbmljLWFjaWQtYmFzZWQtZGVybWFsLWZpbGxlcnMtbWFya2V0LW91dGxvb2stdHJlbmRzLWFuYWx5c2lzLXRvcC1tYW51ZmFjdHVyZXJzLXNoYXJlcy1ncm93dGgtb3Bwb3J0dW5pdGllcy1zdGF0aXN0aWNzLWZvcmVjYXN0LXRvLTIwMjYv0gG8AWh0dHBzOi8vamV3aXNobGlmZW5ld3MuY29tL21hcmtldC1yZXBvcnRzL2h5YWx1cm9uaWMtYWNpZC1iYXNlZC1kZXJtYWwtZmlsbGVycy1tYXJrZXQtb3V0bG9vay10cmVuZHMtYW5hbHlzaXMtdG9wLW1hbnVmYWN0dXJlcnMtc2hhcmVzLWdyb3d0aC1vcHBvcnR1bml0aWVzLXN0YXRpc3RpY3MtZm9yZWNhc3QtdG8tMjAyNi9hbXAv",linkExists:!1}],this.hardCodedActionCameraNews=[{title:"What the Best Action Cameras Can Do That Your Phone Can't",link:"https://www.themanual.com/outdoors/the-best-action-cameras/",published:"19-Jun-2020",text:"Bringing its drone and camera expertise to the action camera market, DJI introduced the Osmo Action camera in 2019. Like the Hero8, the ...",source:"The Manual",linkExists:!1},{title:"T3 Awards 2020: GoPro HERO8 Black is king of the action ...",link:"https://www.t3.com/us/news/t3-awards-2020-gopro-hero-8-black-is-king-of-the-action-cameras",published:"08-Jun-2020",text:"GoPro has dominated the action camera market for a while now, and it hasn't let us down with its latest flagship shooter: the GoPro HERO8 ...",source:"T3",linkExists:!1},{title:"[Herald Interview] Linkflow seeks to be Korea's first hardware ...",link:"https://www.theinvestor.co.kr/view.php?ud=20200525000475",published:"25-May-2020",text:"... market not only because Korea takes up only a small segment, 0.8 percent of 1 trillion won ($805 million), of the global action camera market ...",source:"The Investor",linkExists:!1},{title:"Is GoPro Finally a Buy?",link:"https://www.fool.com/investing/2020/06/04/is-gopro-finally-a-buy.aspx",published:"04-Jun-2020",text:"The action camera market will always be a small one, but the company has been right-sized while it was making key changes. James Brumley.",source:"Motley Fool",linkExists:!1},{title:"Forget evil tech or rogue machines, here are the real concerns ...",link:"https://cio.economictimes.indiatimes.com/news/next-gen-technologies/forget-evil-tech-or-rogue-machines-here-are-the-real-concerns-of-ai-adoption/76522411",published:"23-Jun-2020",text:"The adoption of AI is increasing rapidly across the world with no industry remaining ... reasons \u2013 that governmental bodies around the world are taking action.",source:"ETCIO.com",linkExists:!1}],this.hardCodedNewsVerticalGarden=[{title:"Vertical Garden Construction Market 2021: Recent Study including Growth Factors",link:"https://www.mccourier.com/vertical-garden-construction-market-2021-recent-study-including-growth-factors-applications-regional-analysis-key-players-and-forecast-2028/",source:"The Courier",linkExists:!1},{title:"Vertical Garden Construction Market \u2013 Latest Trends",link:"https://thebrockvilleobserver.ca/uncategorized/219543/vertical-garden-construction-market-latest-trends-and-future-growth-analysis-2021-2026/",source:"Brockville Observer",linkExists:!1},{title:"Global Vertical Garden Construction Market-Industry Analysis",link:"https://clarkcountyblog.com/news/1137311/global-vertical-garden-construction-market-industry-analysis-and-forecast-2019-2027-by-type-application-and-region/",source:"Clark County Blog",linkExists:!1}],this.hardCodedNewsZeroEnergy=[{title:"World needs no new oil, gas projects under path to net-zero emissions by 2050",link:"https://www.spglobal.com/platts/en/market-insights/latest-news/natural-gas/051821-world-needs-no-new-oil-gas-projects-under-path-to-net-zero-emissions-by-2050-iea",source:"S&P Global",linkExists:!1},{title:"Deloitte to open new Milan headquarters at Allianz\u2019s Corso Italia 23 campus",link:"https://www.propertyfundsworld.com/2021/05/18/300415/deloitte-open-new-milan-headquarters-allianzs-corso-italia-23-campus",source:"Property Funds World",linkExists:!1},{title:"REELCAUSE Green Hydrogen Energy, Advanced Renewable Energy",link:"https://www.bignewsnetwork.com/news/269506996/reelcause-green-hydrogen-energy-advanced-renewable-energy",source:"Big News Network.com",linkExists:!1},{title:"Why setting net-zero carbon standards is imperative for mitigating climate change",link:"https://gulfbusiness.com/why-setting-net-zero-carbon-standards-is-imperative-for-mitigating-climate-change/",source:"Gulf Business",linkExists:!1},{title:"The future of green building is retrofit",link:"https://www.reminetwork.com/articles/future-green-building-retrofit/",source:"REMI Network",linkExists:!1}],this.hardCodedNewsLaminatedVeneerLumber=[{title:"3 Lumber Stocks to Consider Adding on Dips ",link:"https://www.entrepreneur.com/article/371721",source:"Entrepreneur",linkExists:!1},{title:"Mapping the timber industry boom in 2021",link:"https://www.archpaper.com/2021/04/2021-timber-map/",source:"The Architect's Newspaper",linkExists:!1},{title:"Raute's 1Q net sales increased by 4%",link:"https://www.lesprom.com/en/news/Rautes_1Q_net_sales_increased_by_4_98589/",source:"Lesprom",linkExists:!1},{title:"High lumber prices a boon to Alberta\u2019s forestry industry",link:"https://www.reddeeradvocate.com/news/high-lumber-prices-a-boon-to-albertas-forestry-industry/",source:"Red Deer Advocate",linkExists:!1},{title:"Ignore cynics talking rot, timber apartments are a hit with tenants",link:"https://www.smh.com.au/business/companies/ignore-cynics-talking-rot-timber-apartments-are-a-hit-with-tenants-20210505-p57p32.html",source:"Sydney Morning Herald",linkExists:!1}],this.hardCodedFacialFatTransferNews=[{title:"These Are the Top Plastic Surgery Trends of the Last Decade ...",link:"https://www.newbeauty.com/top-plastic-surgery-trends/",published:"6 days ago",source:"NewBeauty Magazine"},{title:"Could hand rejuvenation treatments be the choice for you?",link:"https://www.longevitylive.com/live-better/hand-rejuvenation-treatments/",published:"1 month ago",source:"Longevity LIVE"},{title:"Dr. Stark Is Taking Liposuction Results To The Next Level With ...",link:"https://hauteliving.com/hautebeauty/639366/dr-stark-is-taking-liposuction-results-to-the-next-level-with-vaser-lipo/",published:"1 week ago",source:"Haute Living"},{title:"These are the beauty treatments replacing cosmetic surgery in 2020",link:"https://www.womanandhome.com/beauty/beauty-news/cosmetic-beauty-trends-2020-ditch-surgery-343639/",published:"Jan 1, 2020",source:"woman&home"},{title:"Medical Director of Amaris B. Clinic Predicts 2020 Cosmetic ...",link:"https://www.biospectrumasia.com/news/54/15296/medical-director-of-amaris-b-clinic-predicts-2020-cosmetic-surgery-trend.html",published:"Jan 22, 2020",source:"BSA bureau"}],this.hardCodedHyaluronicAcid=[{title:"Croma-Pharma GmbH expands its portfolio introducing pure HA",link:"https://www.businesswire.com/news/home/20200715005327/en/Croma-Pharma-GmbH-expands-portfolio-introducing-pure-HA",published:"1 week ago",source:"Business Wire"},{title:"Valensa awarded patent for hyaluronic acid, astaxanthin joint ...",link:"https://www.nutritionaloutlook.com/view/valensa-awarded-patent-for-hyaluronic-acid-astaxanthin-joint-ingredients",published:"1 week ago",source:"Nutritional Outlook"},{title:"Are You Using Hyaluronic Acid Wrong - Hyaluronic Acid Myths ...",link:"https://www.harpersbazaar.com/beauty/skin-care/a31116680/are-you-misusing-hyaluronic-acid/",published:"2 weeks ago",source:"HarpersBAZAAR.com"},{title:"The HydraFacial Company Announces Launch of HydraFacial ...",link:"https://www.prnewswire.com/news-releases/the-hydrafacial-company-announces-launch-of-hydrafacial-connect-platform-301096937.html",published:"1 day ago",source:"PRNewswire"},{title:"AsSeenOnTV.pro and Kevin Harrington's DRTV Campaign ...",link:"https://www.prweb.com/releases/asseenontv_pro_and_kevin_harringtons_drtv_campaign_with_lenogen_by_lenovie/prweb17250950.htm",published:"2 days ago",source:"PR Web"}],this.hardCodedBotulinumToxin=[{title:"(2nd LD) ITC favors Medytox over Daewoong in botulinum toxin strain dispute",link:"https://en.yna.co.kr/view/AEN20200707000252320",published:"2 weeks ago",source:"Yonhap News"},{title:"Croma-Pharma announces submission for their botulinum ...",link:"https://www.businesswire.com/news/home/20200708005060/en/Croma-Pharma-announces-submission-botulinum-toxin-treat-glabellar",published:"2 weeks ago",source:"Business Wire"},{title:"Court rejects Medytox's request not to revoke lic...",link:"http://www.koreabiomed.com/news/articleView.html?idxno=8729",published:"2 weeks ago",source:"Korea Biomedical Review"},{title:"[News Focus] Who will win BTX strain dispute \u2013 Daewoong or Medytox?",link:"http://www.koreabiomed.com/news/articleView.html?idxno=8676",published:"2 weeks ago",source:"Korea Biomedical Review"},{title:"Yonhap News Summary",link:"https://en.yna.co.kr/view/AEN20200707005800320",published:"2 days ago",source:"Yonhap News"}],this.hardCodedWaterPurifier=[{title:"Onsitego collaborates with DuPont to launch maintenance services for water purifiers",link:"http://www.businessworld.in/article/Onsitego-collaborates-with-DuPont-to-launch-maintenance-services-for-water-purifiers/27-07-2020-301884/",published:"4 days ago",source:"BW Businessworld"},{title:"instrAction Names Florian Rohde as Managing Director and Chief Technical Officer",link:"https://www.globenewswire.com/news-release/2020/07/09/2059669/0/en/instrAction-Names-Florian-Rohde-as-Managing-Director-and-Chief-Technical-Officer.html",published:"3 weeks ago",source:"GlobeNewswire"},{title:"Interview with Sudish Panicker, MD and Head, BNY Mellon International Operations (India)",link:"https://indiacsr.in/interview-with-sudish-panicker-md-and-head-bny-mellon-international-operations-india/",published:"4 hours ago",source:"IndiaCSR"},{title:"Major role for wastewater epidemiology in tackling Covid-19, says group",link:"https://envirotecmagazine.com/2020/07/30/major-role-for-wastewater-epidemiology-in-tackling-covid-19-says-group/",published:"1 day ago",source:"Envirotec"},{title:"New solar material could clean drinking water",link:"https://www.eurekalert.org/pub_releases/2020-07/uarl-nsm071320.php",published:"2 weeks ago",source:"EurekAlert"}],this.hardCodedWearableAmbulatory=[{title:"Bardy Diagnostics names new CEO",link:"https://www.massdevice.com/bardy-diagnostics-names-new-ceo/",source:"Mass Device"},{title:"5 Lesser-Known Growth Stocks Rated 'Strong Buy'",link:"https://stocknews.com/news/irtc-stag-ramp-iipr-yext-5-lesser-known-growth-stocks-rated-strong-buy/",source:"StockNews.com"},{title:"This telemedicine system could get medtech sales reps back to ORs",link:"https://www.massdevice.com/this-telemedicine-system-could-get-medtech-sales-reps-back-to-ors/",source:"Mass Device"},{title:"Ascom UMS Selected Oxitone Medical as a Wearable Solution ...",link:"https://www.prnewswire.com/il/news-releases/ascom-ums-selected-oxitone-medical-as-a-wearable-solution-for-continuous-remote-monitoring-of-covid-19-patients-301086121.html",source:"PRNewswire"},{title:"Radar-Based Blood Pressure Sensors on the Way",link:"https://www.eetimes.com/radar-based-blood-pressure-sensors-on-the-way/",source:"EE Times"}],this.hardCodedCovidTestingKit=[{title:"Should You 'Buy the Dip' in Abbott Laboratories?",link:"https://stocknews.com/news/abt-should-you-buy-the-dip-in-abbott-laboratories/",source:"StockNews.com"},{title:"Are These DIY Gargling COVID-19 Test Kits the Answer to the Safe Return of Live Events?",link:"https://edm.com/news/testfrwd-diy-gargling-covid-19-test-kits",source:"EDM.com"},{title:"COVID-19 test kit for live events created by Austrian start-up",link:"https://djmag.com/news/covid-19-test-kit-live-events-created-austrian-start",source:"DJ Mag"},{title:"Rapid antigen tests are cheaper & give quick results but RT-PCR tests are more reliable, say scientists",link:"https://health.economictimes.indiatimes.com/news/medical-devices/rapid-antigen-tests-are-cheaper-give-quick-results-but-rt-pcr-tests-are-more-reliable-say-scientists/78106436",source:"ETHealthworld.com"},{title:"The rise of the COVID-19 test kit market",link:"https://www.healthcareglobal.com/medical-devices-and-pharma/rise-covid-19-test-kit-market",source:"Healthcare Global - Healthcare News, Magazine and Website"}],this.hardCodedPetroleumPitch=[{title:"Tesla's stock loses charge after Musk's battery pitch",link:"https://in.reuters.com/article/us-tesla-stocks/teslas-stock-loses-charge-after-musks-battery-pitch-idINKCN26E1WL",source:"Reuters India"},{title:"Coronavirus crisis gives oil exporters a crash course in energy transition",link:"https://www.arabnews.com/node/1736591/business-economy",source:"Arab News"},{title:"Proactive Investors One2One Investor Forum",link:"https://www.proactiveinvestors.com/register/event_details/294",source:"Proactive Investors USA & Canada"},{title:"Brett Icahn to Rejoin His Father\u2019s Firm",link:"https://www.wsj.com/articles/brett-icahn-poised-to-rejoin-his-fathers-firm-11601499938",source:"Wall Street Journal"},{title:"Stocks end higher on bargain hunting",link:"https://mb.com.ph/2020/09/11/stocks-end-higher-on-bargain-hunting/",source:"Manila Bulletin"}],this.hardCodedEuropeZincChemicals=[{title:"Trafigura builds stake in battery Ni future",link:"https://www.amm.com/Article/3955536/Trafigura-builds-stake-in-Europes-battery-Ni-future.html",source:"American Metal Market"},{title:"Firms sign agreement to develop zinc-air ESS market in India",link:"https://www.bestmag.co.uk/indnews/firms-sign-agreement-develop-zinc-air-ess-market-india",source:"bestmag"},{title:"A US$ 500 million giant merger in the field of PVC stabilizers ...",link:"https://www.oaoa.com/news/business/a-us-500-million-giant-merger-in-the-field-of-pvc-stabilizers-oyak-merged-akdeniz/article_ae1586f9-101a-54be-904b-5233735e31af.html",source:"Odessa American"},{title:"The place of Europe in the new plant breeding landscape ...",link:"https://www.europeanscientist.com/en/features/the-place-of-europe-in-the-new-plant-breeding-landscape-evolution-of-field-trials/",source:"The European Scientist"},{title:"The EU\u2019s Farm-2-Fork and Green Deal ...",link:"https://www.europeanscientist.com/en/agriculture/the-eus-farm-2-fork-and-green-deal-are-they-more-than-happy-talk/",source:"The European Scientist"}],this.hardCodedAcneTreatment=[{title:"How Does Clindamycin for Acne Work?",link:"https://www.healthline.com/health/clindamycin-for-acne",source:"Healthline"},{title:"First officially registered Acne patch by DermaAngel makes ...",link:"https://www.prnewswire.com/in/news-releases/first-officially-registered-acne-patch-by-dermaangel-makes-foray-into-the-indian-market-847831399.html",source:"PR Newswire India"},{title:"Albany Molecular Research Inc. (AMRI) Named Exclusive API ...",link:"https://www.marketscreener.com/news/latest/Albany-Molecular-Research-Inc-AMRI-Named-Exclusive-API-Supplier-for-Recently-Approved-Acne-Treatm--31652352/",source:"marketscreener.com"},{title:"The 5 Best Face Washes For Cystic Acne",link:"https://www.elitedaily.com/p/the-5-best-face-washes-for-cystic-acne-39555468",source:"Elite Daily"},{title:"Maskne Is Real \u2014 Here\u2019s How To Deal",link:"https://www.refinery29.com/en-us/2020/10/10136549/maskne-treatment",source:"Refinery29"}],this.hardCodedBronze=[{title:"Sri Lanka- Empty bullets, shells to be used as",link:"https://menafn.com/1101060904/Sri-Lanka-Empty-bullets-shells-to-be-used-as-raw-material-for-traditional-industries",source:"MENAFN.COM"},{title:"How Rosie Assoulin and Five Other Designers Created a...",link:"https://www.elle.com/fashion/a34349398/how-rosie-assoulin-and-five-other-designers-created-a-collection-using-upcycled-car-parts/",source:"ELLE.com"},{title:"Putting waste to good use: govt to reuse discarded railway...",link:"http://www.adaderana.lk/news/68748/putting-waste-to-good-use-govt-to-reuse-discarded-railway-sleepers-empty-shell-cases-and-other-material",source:"adaderana.lk"},{title:"Stainless Steel, Bronze, Brass, or Aluminum: How to Choose Handle Materials",link:"https://www.archdaily.com/929360/stainless-steel-bronze-brass-or-aluminum-how-to-choose-handle-materials",source:"ArchDaily"},{title:"Toppan Receives Bronze Class SAM Sustainability Award for 2nd Year",link:"https://www.printedelectronicsnow.com/contents/view_breaking-news/2020-02-10/toppan-receives-bronze-class-sam-sustainability-award-for-2nd-year/",source:"Printed Electronics Now Magazine"}],this.hardCodedBrass=[{title:"Analysis: Interpretation of the Development Plan for the New Energy Vehicle Industry",link:"https://news.metal.com/newscontent/101305330/analysis-interpretation-of-the-development-plan-for-the-new-energy-vehicle-industry",source:"SMM - Shanghai Metals Market"},{title:"Non-ferrous scrap exporters hesitant to ship to China",link:"https://www.argusmedia.com/en/news/2153113-nonferrous-scrap-exporters-hesitant-to-ship-to-china",source:"Argus Media"},{title:"UP's Ghunghroo Industry Sees Revival With Strong...",link:"https://swarajyamag.com/insta/ups-ghunghroo-industry-sees-revival-with-strong-export-demand-following-yogi-govts-scheme-for-artisans",source:"Swarajya"},{title:"Shimmering bells of Etah to shine globally",link:"http://www.millenniumpost.in/business/shimmering-bells-of-etah-to-shine-globally-422160",source:"Millennium Post"},{title:"China to allow imports of new-standard scrap metal from Nov. 1",link:"https://www.zawya.com/mena/en/markets/story/China_to_allow_imports_of_newstandard_scrap_metal_from_Nov_1-TR20201019nL4N2HA2XSX1/",source:"ZAWYA"}],this.hardCodedFertilityServices=[{title:"The Challenges of Commercializing Fertility",link:"https://hbswk.hbs.edu/item/the-challenges-of-commercializing-fertility",source:"Harvard Business School Working Knowledge"},{title:"Inception Fertility Announces Appointment of Nicole R. Braley...",link:"https://www.prnewswire.com/news-releases/inception-fertility-announces-appointment-of-nicole-r-braley-as-chief-marketing-officer-301167281.html",source:"PRNewswire"},{title:"INVO Bioscience Announces Pricing of Follow-on Public...",link:"https://www.prnewswire.com/news-releases/invo-bioscience-announces-pricing-of-follow-on-public-offering-and-listing-on-the-nasdaq-capital-market-301172506.html",source:"PRNewswire"},{title:"The most effective fertility supplements",link:"https://www.nutritionaloutlook.com/view/the-most-effective-fertility-supplements",source:"Nutritional Outlook"},{title:"Advanced Fertility Center of Chicago Welcomes Reproductive...",link:"https://www.prnewswire.com/news-releases/advanced-fertility-center-of-chicago-welcomes-reproductive-endocrinologist-dr-debra-schell-301158406.html",source:"PRNewswire"}],this.hardCodedNewsIndustrialRobotics=[{title:"North America robot sales see double-digit growth\n ",link:"https://www.todaysmedicaldevelopments.com/article/robot-sales-north-america-2022/ ",source:"Todays Medical Developments",linkExists:!1},{title:"Global robot sales bounce back to hit record highs ",link:"https://drivesncontrols.com/news/fullstory.php/aid/7072/Global_robot_sales_bounce_back_to_hit_record_highs.html ",source:"Drivesn controls",linkExists:!1},{title:"Robot Sales Surge in Europe, Asia and the Americas \u2013 IFR Reports ",link:"hhttps://www.businesswire.com/news/home/20220621005720/en/Robot-Sales-Surge-in-Europe-Asia-and-the-Americas-%E2%80%93-IFR-Reports ",source:"Business wire",linkExists:!1}],this.hardCodedNewsNextGenerationSequencing=[{title:"How Next-Generation Sequencing Can Help Us In The War Against Cancer ",link:"https://www.forbes.com/sites/forbestechcouncil/2022/06/24/how-next-generation-sequencing-can-help-us-in-the-war-against-cancer/ ",source:"Forbes",linkExists:!1},{title:"MGI to Take Another Crack at US Next-Gen Sequencing Market This Summer",link:"https://www.genomeweb.com/sequencing/mgi-take-another-crack-us-next-gen-sequencing-market-summer  ",source:"Genomweb",linkExists:!1},{title:"Merck illumina Launch Research Test To Unlock Deeper Insights Into Tumor Genome ",link:"https://medicaldialogues.in/news/industry/pharma/merck-illumina-launch-research-test-to-unlock-deeper-insights-into-tumor-genome-94984  ",source:"Medical Dialogues",linkExists:!1}],this.flag=1}ngOnInit(){if(window.scroll(0,0),console.log("this.suggestion",this.suggestion),"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType)if(this.activatedRoute.snapshot.queryParams.reportId)this.reportService.getById(this.activatedRoute.snapshot.queryParams.reportId).subscribe(e=>{if(e){this.localStorageService.set(P.cc.CURRENT_REPORT,{_id:e._id,title:e.title,category:e.category,vertical:e.vertical,cp:e.cp,me:{start_year:e.me.start_year,end_year:e.me.end_year,base_year:e.me.base_year},overlaps:e.overlaps,owner:e.owner,tocList:e.tocList,status:e.status,title_prefix:e.title_prefix,youtubeContents:e.youtubeContents}),this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.process();const i=M.indexOf(nt.a.reportIds,this.activatedRoute.snapshot.queryParams.reportId);i>-1?(this.leadsArray=nt.a.hardCodedLeads[i],this.hardcodedStocks=nt.a.hardCodedStocks[i],this.hardCodedFiling=nt.a.hardCodedFilings[i]):(this.getLeadsStocksFilings(M.flatMap(e.cp,"company_id")),this.localStorageService.set(P.cc.CURRENT_CP_IDS,M.flatMap(e.cp,"company_id")))}});else if(this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType){this.process();const e=M.indexOf(nt.a.reportIds,this.currentReport._id);e>-1?(this.leadsArray=nt.a.hardCodedLeads[e],this.hardcodedStocks=nt.a.hardCodedStocks[e],this.hardCodedFiling=nt.a.hardCodedFilings[e]):(this.cps=this.localStorageService.get(P.cc.CURRENT_CP_IDS),this.getLeadsStocksFilings(this.cps))}}getNewsVideos(e){this.finalNews=[],this.news=[],this.youtubeContents=[],e?"Corona Economy"==e?(this.hardCodedCovidContents.forEach(n=>{this.youtubeContents.push(n)}),this.getNewsAndVideos("Corona Economy",[])):(this.getVideos(e+" industry"),this.getNewsAndVideos(e+" industry",[])):(this.hardCodedCovidContents.forEach(n=>{this.youtubeContents.push(n)}),this.getNewsAndVideos("Corona Economy",[]))}process(){if(this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.currentReport&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType){if(this.reportId=this.currentReport._id,this.reportName=this.currentReport.title,this.overlaps=this.currentReport.overlaps?this.currentReport.overlaps:[],this.youtubeContents=this.currentReport.youtubeContents?this.currentReport.youtubeContents:[],this.cp=this.localStorageService.get(P.cc.CP),this.reportId==this.sharedInterconenctService.reportId)this.reportConnectData=this.sharedInterconenctService.reportConnectData,this.fillingConnect=this.sharedInterconenctService.fillingConnect,this.finalNews=this.sharedInterconenctService.finalNews;else{if(this.currentReport.overlaps){const e=this.overlaps.filter(n=>"Report"==n.section_name);if(e.length){const n={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){n.section=e[0].section_name;for(let i=0;i<e[0].data.length;i++)n.data.push(e[0].data[i])}this.reportConnectData=n,this.sharedInterconenctService.reportConnectData=this.reportConnectData}}this.getNewsAndVideos(this.reportName+" industry",[]),this.sharedInterconenctService.reportId=this.reportId}if(!this.isTopPlayer&&this.overlaps&&this.overlaps.length){const e={};this.overlaps.forEach(n=>{const i=[];if(n.data&&n.data.length)for(let r=0;r<2;r++)i.push(n.data[r]);e[n.section_name]=i}),this.interConnectData=e,this.sharedInterconenctService.interConnectData=this.interConnectData,this.orderInterConnects(this.currentOrder)}}}ngOnChanges(e){this.suggestion=e.suggestion.currentValue;const n=this.suggestion.orderType;"topPlayers"==n?this.isTopPlayer=!0:this.currentOrder="supplychain"==n?"supplyChainOrder":"porter"==n?"porterOrder":"normalOrder",this.sharedInterconenctService.sharedText.subscribe(i=>{this.searchText=i,("covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType)&&("newsVideos"==this.suggestion.orderType&&(this.hardCodedReportConnectData={section:"",data:[]},"Corona Economy"!=this.searchText&&(this.hardCodedReportConnectData=this.hardCodedReports)),this.getNewsVideos(this.searchText))})}getNewsAndVideos(e,n){"5e2ada2735e3250004e27b14"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedFacialFatTransferNews,this.sharedInterconenctService.finalNews=this.finalNews):"5e8455141591300004822f09"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedHyaluronicAcid,this.sharedInterconenctService.finalNews=this.finalNews):"5eb543c36e66720004958fe0"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedActionCameraNews,this.sharedInterconenctService.finalNews=this.finalNews):"5f02f5589be6f35140188cb3"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedBotulinumToxin,this.sharedInterconenctService.finalNews=this.finalNews):"5f22b1f843abd91218d1d533"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedWaterPurifier,this.sharedInterconenctService.finalNews=this.finalNews):"5e86cb182af83b0004733a74"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedWearableAmbulatory,this.sharedInterconenctService.finalNews=this.finalNews):"5f636e6394ef4c5219ac9cd1"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedCovidTestingKit,this.sharedInterconenctService.finalNews=this.finalNews):"5e212fdd7d97af0004f1dada"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedPetroleumPitch,this.sharedInterconenctService.finalNews=this.finalNews):"5f8432da2502900fe65a2953"!=this.reportId&&"5f8d25a7de8a618a3f0abb21"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5f97e2804b4e9c1a04010937"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedAcneTreatment,this.sharedInterconenctService.finalNews=this.finalNews):"5f9fe2bed5f1cc58807dcc0e"!=this.reportId&&"5fa157964fc5c58d57921c17"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5f9bf4f9d5f1cc58807dc82e"!=this.reportId&&"5fa021761bc9973c681dd60f"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5e20382d7bd47f0004269ed0"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedFertilityServices,this.sharedInterconenctService.finalNews=this.finalNews):"5e98947ef6ba090004d9a844"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsVerticalGarden,this.sharedInterconenctService.finalNews=this.finalNews):"5e9f1075f2792f00046ee8f7"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsZeroEnergy,this.sharedInterconenctService.finalNews=this.finalNews):"5e79ebcb6d7f240004e4eafe"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsLaminatedVeneerLumber,this.sharedInterconenctService.finalNews=this.finalNews):"62b085714332013719059102"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsIndustrialRobotics,this.sharedInterconenctService.finalNews=this.finalNews):"62b30bd943320137190591c1"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsNextGenerationSequencing,this.sharedInterconenctService.finalNews=this.finalNews):e&&(this.news=[],"5e29b4258fb7610004367a42"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?this.finalNews=this.hardCodedNews:this.newsService.getAll(e,0).subscribe(i=>{this.news.push(i),this.getNewsData(this.news)})):(this.finalNews=this.hardCodedBronze,this.sharedInterconenctService.finalNews=this.finalNews):(this.finalNews=this.hardCodedBrass,this.sharedInterconenctService.finalNews=this.finalNews):(this.finalNews=this.hardCodedEuropeZincChemicals,this.sharedInterconenctService.finalNews=this.finalNews)}getVideos(e){this.contents=[],this.youtubeService.getAll(e.toLowerCase()).subscribe(n=>{n&&n.items.length&&n.items.forEach(i=>{this.contents.push({imgUrl:i.snippet&&i.snippet.thumbnails&&i.snippet.thumbnails.medium&&i.snippet.thumbnails.medium.url?i.snippet.thumbnails.medium.url:"",videoid:i.id&&i.id.videoId?i.id.videoId:"",title:i.snippet&&i.snippet.title?i.snippet.title:"",publishedAt:i.snippet&&i.snippet.publishedAt?i.snippet.publishedAt:""})})}),this.youtubeContents=this.contents}getVideoData(e){if(this.contents=[],e&&e.length){const n=Math.ceil(5/e.length);e.forEach(i=>{i.items.forEach((r,s)=>{s<n&&this.contents.push(r)})}),this.sharedInterconenctService.contents=this.contents}}getNewsData(e){if(this.finalNews=[],e&&e.length){const n=Math.ceil(5/e.length);e.forEach(i=>{i.forEach((r,s)=>{s<n&&this.finalNews.push(r)})}),this.sharedInterconenctService.finalNews=this.finalNews}}openYtDailog(e){this.dialog.open(Lt.L,{width:"650px",height:"350px",data:{url:e},disableClose:!1})}getTopLeadsCompany(e){this.leadsArray=[],e&&e.length&&this.leadsService.getTopLeadsCp(e,this.currentReport.vertical).then(n=>{n&&n.data&&(this.leadsArray=n.data)}).catch(n=>{})}orderInterConnects(e){const n=this.order[e];this.interConnects=[],n.length&&n.forEach(i=>{const r=this.interConnectData[i];if(r&&r.length&&r[0]){const s={report_id:r[0].report_id,report_name:r[0].report_name,main_section:this.sectionDetails[i].main_section,router_link:this.sectionDetails[i].router_link,section:void 0};this.sectionDetails[i].section_name&&(s.section=this.sectionDetails[i].section_name),this.interConnects.push(s)}if(r&&r.length>1&&r[1]){const s={report_id:r[1].report_id,report_name:r[1].report_name,main_section:this.sectionDetails[i].main_section,router_link:this.sectionDetails[i].router_link,section:void 0};this.sectionDetails[i].section_name&&(s.section=this.sectionDetails[i].section_name),this.interConnectsMore.push(s)}})}getLeadsStocksFilings(e){this.localInterConnects=this.localStorageService.get(P.cc.CURRENT_INTERCONNECTS),this.localInterConnects&&this.localInterConnects.reportId==this.currentReport._id?this.processInterConnectData(this.localInterConnects.data):this.cpService.getInterconnects({cps:e}).subscribe(n=>{n&&n.length&&(this.processInterConnectData(n),this.localStorageService.set(P.cc.CURRENT_INTERCONNECTS,{reportId:this.currentReport._id,data:n}))},n=>{console.log(n)})}processInterConnectData(e){this.hardcodedStocks=[],this.hardCodedFiling=[],this.leadsArray=[];const n=M.compact(M.flatMap(M.flatMap(e,"inter_connect"),"leads"));n.length&&n.forEach(i=>{this.leadsArray.push(i.split(",   ")[0])}),this.hardcodedStocks=M.remove(M.compact(M.flatMap(M.flatMap(e,"inter_connect"),"stocks")),i=>{if(""!=i.name&&""!=i.ticker)return i}),this.hardCodedFiling=M.compact(M.flatMap(M.flatMap(e,"inter_connect"),"filings"))}showMessage(){this.toastr.info("This report is not a part of current subscription.","Message")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Ut.F),t.Y36(Yt.I),t.Y36(S.uw),t.Y36(k.gz),t.Y36(Z.n),t.Y36(qt.C),t.Y36(I.r),t.Y36(Pt.M),t.Y36(Ht.t),t.Y36(gt.t),t.Y36(ht._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-hardcoded-suggestions"]],inputs:{suggestion:"suggestion"},features:[t.TTD],decls:13,vars:10,consts:[["displayMode","flat","multi","true"],[1,"sug-head"],[4,"ngIf"],[3,"hideToggle",4,"ngIf"],[1,"bottom-line"],[1,"bgs"],["class","row col margin-one zero-padding bottom-line",4,"ngFor","ngForOf"],[1,"row","col","margin-one","zero-padding","bottom-line"],[1,"header-card"],[1,"widther"],[1,"dataOverlap"],[3,"routerLink","queryParams",4,"ngIf"],[3,"click",4,"ngIf"],["class","header-card",4,"ngIf"],[3,"routerLink","queryParams"],[1,"sectionName"],[1,"reportName"],[3,"click"],[1,"btns",3,"click"],["routerLink","/chart-results",3,"queryParams",4,"ngIf"],["routerLink","/top-bar-cp"],[1,"btns"],["routerLink","/chart-results",3,"queryParams"],["target","_blank",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",3,"routerLink","queryParams"],["class","row col margin-one zero-padding",4,"ngFor","ngForOf"],[1,"row","col","margin-one","zero-padding"],["class","row col margin-one zero-padding bottom-line",4,"ngIf"],["routerLink","/market-estimation","target","_blank",3,"queryParams",4,"ngIf"],["routerLink","/market-estimation","target","_blank",3,"queryParams"],["routerLink","/market-estimation",3,"queryParams"],[3,"hideToggle"],[1,"bottom-line",3,"collapsedHeight","expandedHeight","click"],["class","blue-block white-bg",3,"click",4,"ngIf"],[1,"sectionName","video-section",3,"title","click"],[1,"span"],["class","btns",4,"ngIf"],[1,"blue-block","white-bg",3,"click"],[1,"dataOverlap","padding-left-10"],[1,"suggestion-img",3,"src"],["class","header-card bottom-line",4,"ngIf"],[1,"header-card","bottom-line"],["routerLink","/output-chart/youtube",3,"queryParams"],[1,"sectionName",3,"title"],["target","_blank",3,"href"],["routerLink","/output-chart/api-search",3,"queryParams",4,"ngIf"],["routerLink","/output-chart/api-search",3,"queryParams"],[1,"header-card","blue-flex"],[3,"routerLink"],["class","header-card blue-flex",4,"ngIf"],["routerLink","/output-chart/leads-db",3,"queryParams"],[3,"collapsedHeight","expandedHeight","click"],["routerLink","/output-chart/sec-edgar",3,"queryParams"],["class","header-card","routerLink","/output-chart/sec-edgar",3,"queryParams",4,"ngIf"],["routerLink","/output-chart/sec-edgar",1,"header-card",3,"queryParams"],[1,"btns","btn-margin-left"],["routerLink","/stocks",3,"queryParams"],["class","header-card","routerLink","/stocks",4,"ngIf"],["routerLink","/stocks",1,"header-card"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-accordion",0)(1,"div",1),t._uU(2,"Suggested Interconnects"),t.qZA(),t.YNc(3,pe,5,3,"div",2),t.YNc(4,Ce,3,1,"div",2),t.YNc(5,we,3,1,"div",2),t.YNc(6,Ze,15,16,"mat-expansion-panel",3),t.YNc(7,Je,17,15,"mat-expansion-panel",3),t.YNc(8,Ge,2,1,"div",2),t.YNc(9,$e,2,1,"div",2),t.YNc(10,en,16,10,"mat-expansion-panel",3),t.YNc(11,dn,14,12,"mat-expansion-panel",3),t.YNc(12,fn,14,14,"mat-expansion-panel",3),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",n.interConnects&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.reportConnectData&&(null==n.reportConnectData?null:n.reportConnectData.data.length)&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardCodedReportConnectData&&(null==n.hardCodedReportConnectData?null:n.hardCodedReportConnectData.data.length)&&"newsVideos"==n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.youtubeContents&&n.youtubeContents.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.finalNews.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.youtubeContents&&n.youtubeContents.length&&("covid"==n.suggestion.orderType||"newsVideos"==n.suggestion.orderType)),t.xp6(1),t.Q6J("ngIf",n.finalNews.length&&("covid"==n.suggestion.orderType||"newsVideos"==n.suggestion.orderType)),t.xp6(1),t.Q6J("ngIf",n.leadsArray.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardCodedFiling.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardcodedStocks.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType))},directives:[mt.pp,O.O5,O.sg,k.yS,mt.ib,mt.yz],pipes:[O.rS,O.OU,O.uU],styles:[".header-card[_ngcontent-%COMP%]{display:flex}.header-card[_ngcontent-%COMP%]   .suggestion-img[_ngcontent-%COMP%]{width:120px;height:70px;padding-left:10px}.header-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;padding-top:3px}.header-card[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{font-size:10px;color:#333;line-height:1.2}.header-card[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{font-size:9px;border:none;color:#00f;background:rgba(0,0,0,.1);cursor:pointer}.header-card[_ngcontent-%COMP%]   .pads[_ngcontent-%COMP%]{padding:5px;cursor:pointer}  .mat-expansion-panel-header{padding:0 4px!important}  .col,   .col-3,   hr{margin:0!important;padding:0 10px 0 0!important}  .mat-expansion-panel-body{padding:0 4px!important}  .mat-expansion-panel{box-shadow:none!important;background:transparent}.sug-head[_ngcontent-%COMP%]{font-size:14px;font-weight:500;padding:0 0 5px 5px}.blue-block[_ngcontent-%COMP%]{height:80px;background-color:#2b5498;color:#fff;font-weight:500;padding:10px;font-size:12px;margin:5px 0}.widther[_ngcontent-%COMP%]{padding-left:10px;margin:5px 0}.blue-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.white-bg[_ngcontent-%COMP%]{background-color:transparent;padding:0}.reportName[_ngcontent-%COMP%]{font-size:10px;color:#4c4c4c}.sectionName[_ngcontent-%COMP%]{font-size:13px}.dataOverlap[_ngcontent-%COMP%]{font-size:11px;color:#000000de}.video-section[_ngcontent-%COMP%]{color:#4087ff;cursor:pointer;padding-top:14px!important}.bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.3)}.padding-left-10[_ngcontent-%COMP%]{padding-left:10px}a[_ngcontent-%COMP%]{color:#2b5498!important}a[_ngcontent-%COMP%]:hover{color:#007bff!important}.btn-margin-left[_ngcontent-%COMP%]{margin-left:10px}"]}),a})();const vn=["screenPie"],Cn=["screenBar"],xn=["screenImg"],wn=["canvas"],yn=["downloadLink"];function bn(a,o){if(1&a&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function Mn(a,o){if(1&a&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function On(a,o){if(1&a&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Pn(a,o){1&a&&(t.ynx(0,26),t.YNc(1,Mn,2,1,"th",27),t.YNc(2,On,2,1,"td",28),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function Tn(a,o){1&a&&t._UZ(0,"tr",31)}function kn(a,o){1&a&&t._UZ(0,"tr",32)}function Sn(a,o){if(1&a&&(t.TgZ(0,"div",18)(1,"p",19)(2,"span",20),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",21),t.YNc(6,Pn,3,1,"ng-container",22),t.YNc(7,Tn,1,0,"tr",23),t.YNc(8,kn,1,0,"tr",24),t.qZA(),t.TgZ(9,"p",25)(10,"span",20),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function Dn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function An(a,o){if(1&a&&t._UZ(0,"img",42),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function Zn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.YNc(4,Dn,1,0,"i",36),t.qZA()(),t.TgZ(5,"div",37,38)(7,"p",19)(8,"span",20),t._uU(9,"Title\xa0:\xa0"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"div",39),t.YNc(12,An,1,1,"img",40),t.qZA(),t.TgZ(13,"p",25)(14,"span",20),t._uU(15,"Source\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(4),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Rn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function En(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.TgZ(4,"i",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(5,Rn,1,0,"i",36),t.qZA()(),t.TgZ(6,"div",37,44)(8,"p",19)(9,"span",20),t._uU(10,"Title\xa0:\xa0"),t.qZA(),t._uU(11),t.qZA(),t._UZ(12,"canvas",45),t.TgZ(13,"p",25)(14,"span",20),t._uU(15,"Source\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(5),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Nn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function In(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.TgZ(4,"i",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(5,Nn,1,0,"i",36),t.qZA()(),t.TgZ(6,"div",46,47)(8,"p",19)(9,"span",20),t._uU(10,"Title\xa0:\xa0"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"div",48)(13,"p",49),t._uU(14),t.qZA(),t._UZ(15,"canvas",50),t.qZA(),t.TgZ(16,"p",19),t._uU(17),t.qZA(),t.TgZ(18,"p",25)(19,"span",20),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(5),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Ln(a,o){if(1&a&&(t.TgZ(0,"div",12),t.ynx(1,13),t.YNc(2,bn,2,1,"div",14),t.YNc(3,Sn,13,6,"div",15),t.YNc(4,Zn,17,4,"div",15),t.YNc(5,En,17,10,"div",15),t.YNc(6,In,22,11,"div",15),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const Un=function(){return{orderType:"driver"}};let at=(()=>{class a{constructor(e,n,i,r){this.dialog=e,this.authService=n,this.localStorageService=i,this.excelDownloadService=r,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){if(this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.permissions=this.authService.getUserPermissions(),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;const e=this.overlaps.filter(i=>"Drivers"==i.section_name);if(e.length){const i={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){i.section=e[0].section_name;for(let r=0;r<e[0].data.length&&r<2;r++)i.data.push(e[0].data[r])}this.interConnectData=i}const n=this.overlaps.filter(i=>"Report"==i.section_name);if(n.length){const i={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){i.section=n[0].section_name;for(let r=0;r<n[0].data.length&&r<2;r++)i.data.push(n[0].data[r])}this.reportConnectData=i}}window.scroll(0,0)}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}ngAfterViewInit(){}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(A.e),t.Y36(Z.n),t.Y36(X.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-secondary-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(vn,5),t.Gf(Cn,5),t.Gf(xn,5),t.Gf(wn,5),t.Gf(yn,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{secondaryOutputModel:"secondaryOutputModel"},decls:17,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid content-p",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"container-fluid","content-p"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"float-l-width","header-background"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,Ln,7,6,"div",6),t.qZA()(),t._UZ(9,"div"),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(12,"div",9),t._UZ(13,"img",null,10)(15,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("",null==n.secondaryOutputModel?null:n.secondaryOutputModel.heading,", ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.reportName," Market [",null==n.secondaryOutputModel?null:n.secondaryOutputModel.startYear," - ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.endYear,"] "),t.xp6(2),t.Q6J("ngForOf",null==n.secondaryOutputModel?null:n.secondaryOutputModel.mainData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,Un)))},directives:[O.sg,O.RF,O.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,O.O5,j.jh,K],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:20px;width:100%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]     p{margin:5px 8px!important;font-size:15px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}  .Bullet span:first-child{display:none}"]}),a})();const Yn=["screenPie"],qn=["screenBar"],Hn=["screenImg"],Jn=["canvas"],Qn=["downloadLink"];let zn=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.reportService=i,this.authService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.spinner.show()}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"EXECUTIVE_SUMMARY").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{console.log("error",n)})}generateImage(e){this.permissions.imageExport?"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()}):this.authService.showNotSubscribedMsg()}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e[0]&&e[0].content?(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(e[0].content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Executive Summary"},e.forEach(n=>{"EXECUTIVE SUMMARY"===n.section_name&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Executive Summary"})}),this.emptyList.push(e[0]),this.emptyList=M.uniq(this.emptyList),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(I.r),t.Y36(A.e),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-executive-summary"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Yn,5),t.Gf(qn,5),t.Gf(Hn,5),t.Gf(Jn,5),t.Gf(Qn,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[at],styles:[""]}),a})();var St=T(4594);const Fn=["screenPie"],Gn=["screenBar"],Bn=["screenImg"],jn=["canvas"],$n=["downloadLink"];function Vn(a,o){if(1&a&&(t.TgZ(0,"div",18),t._UZ(1,"div",19),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function Kn(a,o){if(1&a&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Wn(a,o){if(1&a&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Xn(a,o){1&a&&(t.ynx(0,28),t.YNc(1,Kn,2,1,"th",29),t.YNc(2,Wn,2,1,"td",30),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function ti(a,o){1&a&&t._UZ(0,"tr",33)}function ei(a,o){1&a&&t._UZ(0,"tr",34)}function ni(a,o){if(1&a&&(t.TgZ(0,"div",20)(1,"p",21)(2,"span",22),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",23),t.YNc(6,Xn,3,1,"ng-container",24),t.YNc(7,ti,1,0,"tr",25),t.YNc(8,ei,1,0,"tr",26),t.qZA(),t.TgZ(9,"p",27)(10,"span",22),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function ii(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function ai(a,o){if(1&a&&t._UZ(0,"img",49),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function oi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",36)(3,"div",36)(4,"div",36)(5,"div",37),t.TgZ(6,"div",38)(7,"div",39)(8,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",41),t.YNc(10,ii,1,0,"i",42),t.qZA()()(),t.TgZ(11,"div",43,44)(13,"p",45)(14,"span",22),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",46),t.YNc(18,ai,1,1,"img",47),t.qZA(),t.TgZ(19,"p",27)(20,"span",22),t._uU(21,"Source\xa0:\xa0"),t.qZA(),t._uU(22),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function ri(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function si(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",36)(3,"div",36)(4,"div",36)(5,"div",37),t.TgZ(6,"div",38)(7,"div",39)(8,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t.TgZ(9,"i",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(10,ri,1,0,"i",42),t.qZA()()(),t.TgZ(11,"div",43,51)(13,"p",45)(14,"span",22),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",52),t.TgZ(18,"p",27)(19,"span",22),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function ci(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function li(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",53),t.TgZ(3,"div",38)(4,"div",39)(5,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t.TgZ(6,"i",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(7,ci,1,0,"i",42),t.qZA()()(),t.TgZ(8,"div",54,55)(10,"p",45)(11,"span",22),t._uU(12,"Title\xa0:\xa0"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"div",56)(15,"p",57),t._uU(16),t.qZA(),t._UZ(17,"canvas",58),t.qZA(),t.TgZ(18,"p",21),t._uU(19),t.qZA(),t.TgZ(20,"p",27)(21,"span",22),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(7),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function di(a,o){if(1&a&&(t.TgZ(0,"div",14),t.ynx(1,15),t.YNc(2,Vn,2,1,"div",16),t.YNc(3,ni,13,6,"div",17),t.YNc(4,oi,23,4,"div",17),t.YNc(5,si,22,10,"div",17),t.YNc(6,li,24,11,"div",17),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const pi=function(a){return{type:a}};function gi(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"a",59),t._uU(2),t.qZA(),t.BQk()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("queryParams",t.VKq(2,pi,e)),t.xp6(1),t.Oqu(e)}}const hi=function(){return{orderType:"driver"}};let mi=(()=>{class a{constructor(e,n,i,r,s,d,p,f){this.dialog=e,this.routes=n,this.reportService=i,this.reportSectionService=r,this.spinner=s,this.authService=d,this.localStorageService=p,this.excelDownloadService=f,this.reportData=[],this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.spinner.show()}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;const n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){const r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}const i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){const r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let s=0;s<i[0].data.length&&s<2;s++)r.data.push(i[0].data[s])}this.reportConnectData=r}}this.reportService.getSectionKeyDetials(this.reportId,"MARKET_DYNAMICS").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(i=>{"introduction"===i.meta_info.section_key&&(this.reportData=this.reportSectionService.convertToReportDataElement(i.content)),this.emptyList.push(i.section_name),this.emptyList=M.uniq(this.emptyList)}),M.find(e,["meta_info.section_key","introduction"])&&this.reportData.length||this.reportData.push({data:`Following is the Market Dynamics Analysis for ${this.reportName} Market`,id:1,type:"TEXT"}),this.emptyList=M.remove(this.emptyList,i=>"MARKET DYNAMICS"!==i),this.compareList.forEach(i=>{let r=!1;this.emptyList=this.emptyList.filter(s=>!(!r&&s==i&&(this.driverList.push(s),r=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.e),t.Y36(Z.n),t.Y36(X.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-drivers"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Fn,5),t.Gf(Gn,5),t.Gf(Bn,5),t.Gf(jn,5),t.Gf($n,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:21,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,"down-header","container-fluid"],[1,"sub-heading","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"tabular","col-8"],[4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid content-p",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"container-fluid","content-p"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption2"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["style","margin: 5px 8px !important;",4,"matCellDef"],["mat-header-cell",""],[2,"margin","5px 8px !important"],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033","padding","10px"],["screenImg",""],[1,"mat-caption",2,"text-align","center","font-size","15px","padding","5px"],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"col-10"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["routerLink","/droctcontainer","mat-raised-button","",1,"driver-btn",3,"queryParams"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8,"Introduction"),t.qZA(),t.TgZ(9,"div"),t.YNc(10,di,7,6,"div",6),t.qZA()(),t._UZ(11,"div"),t.qZA(),t.TgZ(12,"div",7),t._UZ(13,"app-hardcoded-suggestions",8),t.qZA()(),t.TgZ(14,"mat-toolbar",9),t.YNc(15,gi,3,4,"ng-container",10),t.qZA()()(),t.TgZ(16,"div",11),t._UZ(17,"img",null,12)(19,"a",null,13),t.qZA()),2&e&&(t.xp6(6),t.lnq("Market Dynamics, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(4),t.Q6J("ngForOf",n.reportData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,hi)),t.xp6(2),t.Q6J("ngForOf",n.driverList))},directives:[O.sg,O.RF,O.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.as,y.XQ,y.nj,y.Gk,O.O5,j.jh,K,St.Ye,k.yS],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}"]}),a})();var N=T(88);let ui=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-drivers-output-dialog"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"drivers-output-dialog works!"),t.qZA())},styles:[""]}),a})();var _t=T(9532),z=T(3176),B=T(9224);const _i=["screenPie"],fi=["screenBar"],vi=["screenImg"],Ci=["screen"],xi=["canvas"],wi=["downloadLink"],yi=["callAPIDialog"];function bi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).analyze()}),t._uU(1,"Analyze"),t.qZA()}}function Mi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,bi,2,0,"a",16),t.qZA(),t.TgZ(3,"div",17)(4,"a",18),t._uU(5,"Send "),t._UZ(6,"i",19),t.qZA(),t.TgZ(7,"a",18),t._uU(8,"PPT "),t._UZ(9,"i",20),t.qZA(),t.TgZ(10,"i",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().generateImage("screen")}),t.qZA(),t._UZ(11,"i",22),t.TgZ(12,"i",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().openDroctDialog()}),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf","Drivers"==e.typeParam||"Restraints"==e.typeParam)}}function Oi(a,o){if(1&a&&(t.TgZ(0,"mat-card-content",25,26)(2,"div",27)(3,"p",28)(4,"span",29),t._uU(5,"Title\xa0:\xa0"),t.qZA(),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"span",30),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t._UZ(11,"div",31),t.TgZ(12,"p",32)(13,"span",29),t._uU(14,"Source\xa0:\xa0"),t.qZA(),t._uU(15,"Wantstats "),t.qZA()()()),2&a){const e=t.oxw();t.xp6(6),t.HOy("Market Dynamics, ",t.lcZ(7,5,e.types),", ",e.reportName," Market [",e.startYear," - ",e.endYear,"]"),t.xp6(3),t.hij("Year ",e.showYear,"")}}function Pi(a,o){if(1&a&&(t.TgZ(0,"div",41),t._UZ(1,"div",42),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function Ti(a,o){if(1&a&&(t.TgZ(0,"th",51),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function ki(a,o){if(1&a&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Si(a,o){1&a&&(t.ynx(0,48),t.YNc(1,Ti,2,1,"th",49),t.YNc(2,ki,2,1,"td",50),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function Di(a,o){1&a&&t._UZ(0,"tr",53)}function Ai(a,o){1&a&&t._UZ(0,"tr",54)}function Zi(a,o){if(1&a&&(t.TgZ(0,"div",43)(1,"p",28)(2,"span",29),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",44),t.YNc(6,Si,3,1,"ng-container",45),t.YNc(7,Di,1,0,"tr",46),t.YNc(8,Ai,1,0,"tr",47),t.qZA(),t.TgZ(9,"p",32)(10,"span",29),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function Ri(a,o){if(1&a&&t._UZ(0,"img",64),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function Ei(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",55),t._UZ(2,"div",56),t.TgZ(3,"div",57)(4,"div",17)(5,"a",18),t._uU(6,"Send "),t._UZ(7,"i",19),t.qZA(),t.TgZ(8,"a",58),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(9,"PPT "),t._UZ(10,"i",20),t.qZA(),t.TgZ(11,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t._UZ(12,"i",59),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openDialog(i)}),t.qZA()()()(),t.TgZ(14,"div",60,61)(16,"p",28)(17,"span",29),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"div",62),t.YNc(21,Ri,1,1,"img",63),t.qZA(),t.TgZ(22,"p",32)(23,"span",29),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25),t.qZA()()()}if(2&a){const e=t.oxw().$implicit;t.xp6(19),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Ni(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",17)(3,"a",18),t._uU(4,"Send "),t._UZ(5,"i",19),t.qZA(),t.TgZ(6,"a",58),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t.TgZ(10,"i",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t.TgZ(12,"i",66),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadExcel(i)}),t.qZA(),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openDialog(i)}),t.qZA()()(),t.TgZ(14,"div",67,68)(16,"p",28)(17,"span",29),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA(),t._UZ(20,"canvas",69),t.TgZ(21,"p",32)(22,"span",29),t._uU(23,"Source\xa0:\xa0"),t.qZA(),t._uU(24),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(19),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Ii(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",70)(2,"div",17)(3,"a",18),t._uU(4,"Send "),t._UZ(5,"i",19),t.qZA(),t.TgZ(6,"a",58),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t.TgZ(10,"i",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",66),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadExcel(i)}),t.qZA(),t.TgZ(12,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openDialog(i)}),t.qZA()()(),t.TgZ(13,"div",71,72)(15,"p",28)(16,"span",29),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"div",73)(20,"p",74),t._uU(21),t.qZA(),t._UZ(22,"canvas",75),t.qZA(),t.TgZ(23,"p",28),t._uU(24),t.qZA(),t.TgZ(25,"p",32)(26,"span",29),t._uU(27,"Source\xa0:\xa0"),t.qZA(),t._uU(28),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(18),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Li(a,o){if(1&a&&(t.TgZ(0,"div",36),t.ynx(1,37),t.YNc(2,Pi,2,1,"div",38),t.YNc(3,Zi,13,6,"div",39),t.YNc(4,Ei,26,3,"div",40),t.YNc(5,Ni,25,9,"div",40),t.YNc(6,Ii,29,10,"div",40),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}function Ui(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",33),t._uU(2),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,Li,7,6,"div",35),t.qZA()()),2&a){const e=o.$implicit,n=o.index,i=t.oxw();t.xp6(2),t.hij(" ",e," "),t.xp6(2),t.Q6J("ngForOf",i.reportData[n])}}const Yi=function(){return{orderType:"driver"}};let qi=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g,m,u){this.dialog=e,this.routes=n,this.activateRoutes=i,this.reportService=r,this.authService=s,this.reportSectionService=d,this.spinner=p,this.pptService=f,this.localStorageService=g,this.excelDownloadService=m,this.sharedAnalyticsService=u,this.ratingData=[],this.contentData=[],this.droctName=[],this.reportData=[],this.finalObject=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.open=!1,this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.permissions=this.authService.getUserPermissions(),this.reportDetails=this.localStorageService.get(P.cc.CURRENT_REPORT),this.sectionDetails=this.localStorageService.get(P.cc.CURRENT_SECTION),i.queryParams.subscribe(h=>this.typeParam=h.type)}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}getReportDetailsSuccess(e,n){if(e.map(i=>{i.meta&&i.meta.type===n.toUpperCase()&&this.ratingData.push(i.meta.data),i.meta_info.parent_section_key===n.toLowerCase()&&this.contentData.push(i)}),this.contentData&&this.contentData.length&&this.ratingData&&this.ratingData.length){this.contentData.map(r=>{if(this.droctName.push(r.meta.data.name),r.content){let s=this.reportSectionService.convertToReportDataElement(r.content);this.reportData.push(s)}});let i=this.ratingData;if(this.ratingData.length>0)if(this.ratingData[0].rating.length)M.map(this.ratingData[0].rating,"year").forEach(s=>{let d={name:this.droctType,year:s,children:[],types:this.types};i.forEach(p=>{if(p.rating.length>0){const f=M.find(p.rating,["year",s]);d.children.push({name:p.name,rating:f?f.rating:5}),d.children=M.uniqBy(d.children,"name")}}),this.finalObject.push(d)}),this.generateTrees();else{let r=[];for(let s=this.startYear;s<=this.endYear;s++)r.push(s);r.length&&(r.forEach(s=>{let d={name:this.droctType,year:s,children:[],types:this.types};i.forEach(p=>{d.children.push({name:p.name,rating:5}),d.children=M.uniqBy(d.children,"name")}),this.finalObject.push(d)}),this.generateTrees())}window.scroll(0,0)}else this.routes.navigate(["driveroutput"]);this.spinner.hide()}generateImage(e,n=null){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e?w(this.screenImg.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):w(this.screen.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:this.typeParam,subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}openDialog(e){this.dialog.open(H.C,{width:"98%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}generateTrees(){if(this.cnt=0,0==this.cnt){let e=this.finalObject.length;this.cnt=(this.cnt+1+e)%e,this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year,this.cnt++,this.cnt>0&&(this.driverInterval=N.interval(()=>{this.finalObject.length>0&&(this.cnt=(this.cnt+1+e)%e,N.select("#driver-container svg").remove(),this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year)},1e3))}}renderTree(e){var f,s=N.select("#driver-container").append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),d=0,g=N.tree().size([245,300]);(f=N.hierarchy(e,function(h){return h.children})).x0=122.5,f.y0=0,function u(h){var v=g(f),b=v.descendants(),R=v.descendants().slice(1),D=s.selectAll("g.node").data(b,function(c){return c.id||(c.id=++d)}),Y=D.enter().append("g").attr("class","node").attr("transform",function(c){return"translate("+h.y0+","+h.x0+")"});Y.append("image").attr("href",function(c){return c.children||c._children?1==c.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(c){return c._children?"lightsteelblue":"#fff"}).style("color","#000"),Y.append("text").attr("x",function(c){return 10}).attr("dy",function(c){return c.children||c._children?"-1em":"0.5em"}).attr("text-anchor",function(c){return c.children||c._children?"middle":"start"}).text(function(c){return 5==c.data.rating?c.data.name:c.data.rating>5&&c.data.rating<=10?c.data.rating>5&&c.data.rating<=7?c.data.name+" (medium impact)":c.data.name+" (high impact )":c.depth>0?c.data.name+" (low impact)":c.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(c){return c.data.percent>=70?"bold":"normal"}).call(function l(c,_){c.each(function(){for(var lt,E=N.select(this),et=E.text().split(/\s+/).reverse(),W=[],ot=0,Ct=E.attr("y"),pt=parseFloat(E.attr("dy")),rt=E.text(null).append("tspan").attr("x",0).attr("y",Ct).attr("dy",pt+"em");lt=et.pop();)W.push(lt),rt.text(W.join(" ")),rt.node().getComputedTextLength()>_&&(W.pop(),rt.text(W.join(" ")),W=[lt],rt=E.append("tspan").attr("x",0).attr("y",Ct).attr("dy",1*++ot+pt+"em").text(lt))})},380);var q=Y.merge(D);q.attr("transform",function(c){return"translate("+c.y+","+c.x+")"}),q.select("image").attr("href",function(c){return c.children||c._children?c.data.rating>0?"../../assets/images/"+c.data.rating+".png":1==c.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),q.select("text").style("fill-opacity",1);var Q=D.exit().attr("transform",function(c){return"translate("+h.y+","+h.x+")"}).remove();Q.select("circle").attr("r",1e-6),Q.select("text").style("fill-opacity",1e-6);var J=s.selectAll("path.link").data(R,function(c){return c.id});function G(c,_){return`M ${c.y} ${c.x}\n            C ${(c.y+_.y)/2} ${c.x},\n              ${(c.y+_.y)/2} ${_.x},\n              ${_.y} ${_.x}`}J.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(c){return.5*c.data.rating+"px"}).attr("stroke",function(c){return c.data.rating>=4&&c.data.rating<=10?c.data.rating>=4&&c.data.rating<8?"#999":"red":"green"}).attr("d",function(c){var _={x:h.x0,y:h.y0};return G(_,_)}).merge(J).attr("d",function(c){return G(c,c.parent)}),J.exit().attr("d",function(c){var _={x:h.x,y:h.y};return G(_,_)}).remove(),b.forEach(function(c){c.x0=c.x,c.y0=c.y})}(f)}ngOnInit(){this.spinner.show(),this.ratingData=[],this.finalObject=[],this.contentData=[],this.reportData=[],this.droctName=[],N.select("#driver-container").selectAll("svg").remove(),this.driverInterval&&this.driverInterval.stop(),this.activateRoutes.queryParams.subscribe(e=>{this.spinner.show(),this.ratingData=[],this.finalObject=[],this.contentData=[],this.reportData=[],this.droctName=[],N.select("#driver-container").selectAll("svg").remove(),this.showYear=null,this.types=e.type.toLowerCase(),this.droctType=e.type;const n=this.localStorageService.get(P.cc.CURRENT_REPORT);if(this.reportName=n.title,this.startYear=n.me.start_year,this.endYear=n.me.end_year,this.reportId=n._id,n.overlaps){this.overlaps=n.overlaps;let r=this.overlaps.filter(d=>d.section_name==this.droctType);if(r.length){let d={section:"",data:[]};if(r[0].data&&r[0].data.length&&r[0].section_name){d.section=r[0].section_name;for(let p=0;p<r[0].data.length&&p<2;p++)d.data.push(r[0].data[p])}this.interConnectData=d}let s=this.overlaps.filter(d=>"Report"==d.section_name);if(s.length){let d={section:"",data:[]};if(s[0].data&&s[0].data.length&&s[0].section_name){d.section=s[0].section_name;for(let p=0;p<s[0].data.length&&p<2;p++)d.data.push(s[0].data[p])}this.reportConnectData=d}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_DYNAMICS").subscribe(r=>{this.getReportDetailsSuccess(r,this.types),window.scroll(0,0)},r=>{console.log("error",r)})})}ngAfterViewInit(){}openDroctDialog(){this.dialog.open(ui,{width:"99%",data:this.finalObject,disableClose:!1}).afterClosed().subscribe(n=>{})}ngOnDestroy(){this.ratingData=[],this.finalObject=[],this.contentData=[],this.droctName=[],this.reportData=[],N.select("#driver-container").selectAll("svg").remove()}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(k.gz),t.Y36(I.r),t.Y36(A.e),t.Y36(L.A),t.Y36(U.t2),t.Y36(_t._),t.Y36(Z.n),t.Y36(X.O),t.Y36(z.g))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-droct-driver-container"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_i,5),t.Gf(fi,5),t.Gf(vi,5),t.Gf(Ci,5),t.Gf(xi,5),t.Gf(wi,5),t.Gf(yi,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:23,vars:11,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],["class","float-l-width header-background",4,"ngIf"],["class","padding20 outer-year-conatiner float-l-width",4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"down-header"],[1,"accordion"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"float-l-width","header-background"],[1,"float-l"],["class","btn-link","role","button",3,"click",4,"ngIf"],[1,"float-right"],[1,"btn-icon","ppt-btn"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],["role","button",1,"btn-link",3,"click"],[1,"padding20","outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"margin-left","10px"],["id","driver-container"],[1,"mat-caption"],[1,"mat-head"],["id","contents",1,""],["class","seprator-div",4,"ngFor","ngForOf"],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p",4,"ngSwitchCase"],["class","",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"content-p"],[3,"innerHTML"],[1,""],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-8"],[1,"col-4","zero-padding"],[1,"btn-icon","ppt-btn",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"responsiveImg",3,"src"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"header-background","float-l-width"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","90%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Mi,13,1,"div",4),t.YNc(5,Oi,16,7,"mat-card-content",5),t.TgZ(6,"div",6),t._UZ(7,"img",null,7)(9,"a",null,8),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.ALo(13,"titlecase"),t.qZA(),t.TgZ(14,"div",10),t.YNc(15,Ui,5,2,"div",11),t.qZA()(),t.TgZ(16,"div",12),t._UZ(17,"app-hardcoded-suggestions",13),t.qZA()()()(),t.TgZ(18,"div",6),t._UZ(19,"img",null,7)(21,"a",null,8),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.finalObject.length),t.xp6(1),t.Q6J("ngIf",n.finalObject.length),t.xp6(7),t.HOy(" Market Dynamics, ",t.lcZ(13,8,n.types),", ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(3),t.Q6J("ngForOf",n.droctName),t.xp6(2),t.Q6J("suggestion",t.DdM(10,Yi)))},directives:[O.O5,B.dn,O.sg,O.RF,O.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,j.jh,K],pipes:[O.rS],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.3);display:block;padding:10px 20px 0}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{width:50%;margin:auto}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{list-style:none}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.accordion[_ngcontent-%COMP%]{margin:20px inherit}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:500px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}@media screen and (min-width: 600px) and (max-width: 1000px){.outer-year-conatiner[_ngcontent-%COMP%]{overflow:auto}}"]}),a})();const Hi=["screen"],Ji=["canvas"],Qi=["downloadLink"];let zi=(()=>{class a{constructor(e,n,i,r,s){this.dialogRef=e,this.data=n,this.localStorageService=i,this.routes=r,this.authService=s,this.finalObject=[]}ngOnInit(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.data&&this.data.data&&(this.treeData=this.data.data,this.baseYear=this.data.baseYear,this.metric=this.data.metric),this.generateTrees(),window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}generateTrees(){this.renderTree(this.treeData)}renderTree(e){var f,s=N.select("#dendo-container1").append("svg").attr("width",850).attr("height",380).append("g").attr("transform","translate(230,5)"),d=0,p=750,g=N.tree().size([365,390]);(f=N.hierarchy(e,function(h){return h.children})).x0=182.5,f.y0=0,f.children.forEach(function m(h){h.children&&(parseInt(h.depth)>1?(h._children=h.children,h.children=null,h.data.open=!1):h.children.forEach(m))}),function u(h){var v=g(f),b=v.descendants(),R=v.descendants().slice(1),D=s.selectAll("g.node").data(b,function(l){return l.id||(l.id=++d)}),Y=D.enter().append("g").attr("class","node").attr("transform",function(l){return"translate("+h.y0+","+h.x0+")"}).on("click",function V(l){l.children?(l._children=l.children,l.children=null,l.data.open=!1):(l.children=l._children,l._children=null,l.data.open=!0),u(l)});Y.append("image").attr("href",function(l){return l.children||l._children?1==l.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","white").attr("text","+").attr("cursor","pointer").style("fill",function(l){return l._children?"lightsteelblue":"#fff"}).style("color","#000"),Y.append("text").attr("x",function(l){return 10}).attr("dy",function(l){return l.children||l._children?"-1em":"0.5em"}).attr("text-anchor",function(l){return l.children||l._children?"end":"start"}).text(function(l){let c="";l&&l.data&&l.data.percent&&(c=l.data.percent,c=c.replace("%",""));let _="";return l.data.name&&(_=l.data.name.substring(l.data.name.indexOf("_")+1)),0==l.depth?l.data.name:3==l.depth&&void 0===l.data.amount?_:_+", "+l.data.amount+", "+c+"%"}).style("fill-opacity",1e-6).style("font","10px sans-serif").style("font-weight",function(l){return l.data.percent>=70?"bold":"normal"});var q=Y.merge(D);q.transition().duration(p).attr("transform",function(l){return"translate("+l.y+","+l.x+")"}),q.select("image").attr("href",function(l){return l.children||l._children?1==l.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),q.select("text").style("fill-opacity",1);var Q=D.exit().transition().duration(p).attr("transform",function(l){return"translate("+h.y+","+h.x+")"}).remove();Q.select("circle").attr("r",1e-6),Q.select("text").style("fill-opacity",1e-6);var J=s.selectAll("path.link").data(R,function(l){return l.id});function G(l,c){return`M ${l.y} ${l.x}\n            C ${(l.y+c.y)/2} ${l.x},\n              ${(l.y+c.y)/2} ${c.x},\n              ${c.y} ${c.x}`}J.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(l){return"green"==l.data.color?"2px":"1px"}).attr("stroke",function(l){return l.data.color}).attr("d",function(l){var c={x:h.x0,y:h.y0};return G(c,c)}).merge(J).transition().duration(p).attr("d",function(l){return G(l,l.parent)}),J.exit().transition().duration(p).attr("d",function(l){var c={x:h.x,y:h.y};return G(c,c)}).remove(),b.forEach(function(l){l.x0=l.x,l.y0=l.y})}(f)}analyze(){this.routes.navigateByUrl("/dashboard"),this.doClose()}doClose(){this.data=[],N.select("#dendo-container1").selectAll("svg").remove(),this.dialogRef.close()}clickout(){this.data=[]}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(k.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-market-estimation-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Hi,5),t.Gf(Ji,5),t.Gf(Qi,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.clickout()},!1,t.evT)},decls:31,vars:5,consts:[[1,"row","col","header-background","header1"],[1,"col-2"],["role","button",1,"analyze",3,"click"],[1,"col-4"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["id","dendo-container1"],[2,"width","100%"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1)(6,"div",3),t.TgZ(7,"div",1)(8,"div",4)(9,"i",5),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t._UZ(10,"i",6),t.TgZ(11,"i",7),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(12,"mat-card-content",8,9)(14,"div",10)(15,"p",11)(16,"span",12),t._uU(17,"Title :"),t.qZA(),t._uU(18),t.qZA()(),t.TgZ(19,"div"),t._UZ(20,"div",13),t.TgZ(21,"div",14)(22,"p",15)(23,"span",12),t._uU(24,"Source :"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()()(),t.TgZ(26,"div",16),t._UZ(27,"img",null,17)(29,"a",null,18),t.qZA()),2&e&&(t.xp6(18),t.xDo("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"], Base Year: ",n.baseYear," (",n.metric,")"))},directives:[B.dn],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0!important}.header1[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}"]}),a})();var dt=T(5758),wt=T(4128),ft=T(520);let Fi=(()=>{class a{constructor(e,n){this.http=e,this.marketEstimationService=n}getMarketBreakupRegionDataService(e,n){let i=[];return n&&n.children.forEach((r,s)=>{i.push(this.marketEstimationService.getMeDataByRegion(e,r.id))}),(0,wt.D)([...i])}getMarketBreakupSegmentDataService(e,n){let i=[];return n&&n.children&&n.children.forEach((r,s)=>{i.push(this.marketEstimationService.getMeDataBySegment(e,r.id))}),(0,wt.D)([...i])}getMarketBreakupDataService(e,n,i){let r=this.getMarketBreakupRegionDataService(e,n),s=this.getMarketBreakupSegmentDataService(e,i);return(0,wt.D)([r,s])}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(ft.eN),t.LFG(dt.L))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Gi=["screen"],Bi=["canvas"],ji=["downloadLink"],$i=["callAPIDialog"],Vi=function(){return{orderType:"driver"}};let Ki=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g,m){this.dialog=e,this.routes=n,this.localStorageService=i,this.marketEstimationService=r,this.spinner=s,this.authService=d,this.reportService=p,this.activatedRoute=f,this.sharedAnalyticsService=g,this.requestMarketBreakupDataService=m,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.baseYear="",this.cnt=0,this.metric="",this.bifurcationLevel=1,this.sharedAnalyticsService.setReload(!0)}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Market Estimation, "+this.reportName+" Market ["+this.startYear+" - "+this.endYear+"], Base Year: "+this.baseYear,this.downloadLink.nativeElement.click()})}ngOnInit(){this.sharedAnalyticsService.setReload(!0),this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.activatedRoute.snapshot.queryParams.reportId?this.reportService.getById(this.activatedRoute.snapshot.queryParams.reportId).subscribe(e=>{e&&(this.localStorageService.set(P.cc.CURRENT_REPORT,{_id:e._id,title:e.title,category:e.category,vertical:e.vertical,me:{start_year:e.me.start_year,end_year:e.me.end_year,base_year:e.me.base_year},overlaps:e.overlaps,owner:e.owner,tocList:e.tocList,status:e.status,title_prefix:e.title_prefix,youtubeContents:e.youtubeContents}),this.getAPIData())}):this.getAPIData()}getAPIData(){this.sharedAnalyticsService.setReload(!0);const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.activatedRoute.snapshot.queryParams&&(this.activatedRoute.snapshot.queryParams.reportId&&(this.reportId=this.activatedRoute.snapshot.queryParams.reportId,console.log("reportId",this.reportId),this.reportService.setReportData(this.reportId)),this.activatedRoute.snapshot.queryParams.reportName&&(this.reportName=this.activatedRoute.snapshot.queryParams.reportName)),this.marketEstimationService.getMeData(this.reportId).subscribe(n=>{this.activatedRoute.snapshot.queryParams&&n.data&&n.data[0]&&n.data[0].me&&(this.startYear=n.data[0].me.start_year,this.endYear=n.data[0].me.end_year,n.data[0].me.data&&(this.meData=n.data[0].me.data),n.data[0].me.bifurcationLevel&&(this.bifurcationLevel=n.data[0].me.bifurcationLevel)),this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){e&&e.data&&e.data[0]&&e.data[0].me&&(this.data=e.data[0].me.segment,this.allRegions=e.data[0].me.geo_segment,this.baseYear=e.data[0].me.base_year,this.regionData=[],this.allRegions.length?(this.allRegions.forEach(n=>{this.regionData.push({id:n.id,name:n.region,children:n.countries})}),this.regions={id:"1",name:"Region",children:this.regionData},this.orgCharts(this.regions)):this.spinner.hide())}getRegionDataSuccess(e,n){if(e&&e.data&&e.data[0]){!this.metric&&e.data[0].metric&&(this.metric=e.data[0].metric,this.metric="Kilo Tons"==this.metric?e.data[0].metric:"USD "+this.metric);let i=e.data[0].value;this.regions.children.forEach(r=>{if(r.id==n){let s=Object.keys(i[i.length-1]),d="",p="";s.forEach(f=>{f.includes("CAGR (%) ")&&(d=f)}),p=r.name.replace(/ /gi,"_"),r.amount=this.convertToTwoDecimal(i[i.length-1][this.baseYear]),r.percent=this.convertToTwoDecimal(i[i.length-1][d]),r.open=!0,r.color="#999",this.regions.open=!0,this.regions.color="#999",r.children.forEach(f=>{i.forEach(g=>{(g[p.toLowerCase()]==f.name||g[p]==f.name)&&(f.amount=this.convertToTwoDecimal(g[this.baseYear]),f.percent=this.convertToTwoDecimal(g[d]),f.color="#999")})})}r.children&&this.changeColor(r.children)})}}getSegmentDataSuccess(e,n){if(e&&e.data&&e.data[0]&&e.data[0].value){!this.metric&&e.data[0].metric&&(this.metric=e.data[0].metric,this.metric="Kilo Tons"==this.metric?e.data[0].metric:"USD "+this.metric);let i=e.data[0].value;this.treeData.children.forEach(r=>{if(r.id==n){let s=Object.keys(i[i.length-1]),d="",p="",f=r.name;s.forEach(g=>{g.includes("CAGR (%) ")?d=g:g.includes("_parent")&&(p=g)}),r.amount=this.convertToTwoDecimal(i[i.length-1][this.baseYear]),r.percent=this.convertToTwoDecimal(i[i.length-1][d]),r.open=!0,r.color="#999",this.regions.amount=this.convertToTwoDecimal(i[i.length-1][this.baseYear]),this.regions.percent=this.convertToTwoDecimal(i[i.length-1][d]),this.treeData.open=!0,this.treeData.color="#999",r.children.forEach(g=>{if(i.forEach(m=>{let u=g.name.replace(/ /gi,"_").toLowerCase();u=u.replace(/&/gi,"and"),u=u.replace(/-/gi,"_"),u=u.replace(/,/gi,"_"),u=u.replace(/\(/gi,""),u=u.replace(/\)/gi,""),u=u.replace(/\./gi,"_"),(m[p]==g.name||m[p]==u)&&(g.amount=this.convertToTwoDecimal(m[this.baseYear]),g.percent=this.convertToTwoDecimal(m[d]),g.color="#999")}),g.children&&g.children.length){let m=f+" "+g.name;m=m.replace(/ /gi,"_").toLowerCase(),m=m.replace(/&/gi,"and"),m=m.replace(/-/gi,"_"),m=m.replace(/,/gi,"_"),m=m.replace(/\(/gi,""),m=m.replace(/\)/gi,""),m=m.replace(/\./gi,"_");const h=M.find(this.meData,["key",m+"_value"]);if(h&&h.value){let v=h.value;g.children.forEach(b=>{v.forEach(R=>{let D=b.name.replace(/ /gi,"_").toLowerCase();D=D.replace(/&/gi,"and"),D=D.replace(/-/gi,"_"),D=D.replace(/,/gi,"_"),D=D.replace(/\(/gi,""),D=D.replace(/\)/gi,""),D=D.replace(/\./gi,"_"),(R[m]==b.name||R[m]==D)&&(b.amount=this.convertToTwoDecimal(R[this.baseYear]),b.percent=this.convertToTwoDecimal(R[d]),b.color="#999",b.open=!1)})})}else g.children.forEach(v=>{v.color="#999",v.open=!1})}})}r.children&&this.changeColor(r.children)})}}convertToTwoDecimal(e){return isNaN(e)?e:parseFloat(e).toFixed(2)}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}openDroctDialog(){this.dialog.open(zi,{width:"99%",data:{data:this.treeData,baseYear:this.baseYear,metric:this.metric},disableClose:!1}).afterClosed().subscribe(i=>{})}orgCharts(e){let n=this;var i,r;i=$,r=JSONLoop,i(function(){var s={};n.data.forEach(function(p,f){p.pid?new r(s,"id","children").findNodeById(s,p.pid,function(m,u){m?console.error(m):(delete p.pid,u.children?u.children.push(p):u.children=[p])}):(delete p.pid,Object.assign(s,p))}),n.treeData=s,n.requestMarketBreakupDataService.getMarketBreakupDataService(n.reportId,n.regions,n.treeData).subscribe(p=>{let f=[],g=[];p&&p[0]&&(g=p[0],n.regions.children.forEach((m,u)=>{n.getRegionDataSuccess(g[u],m.id)})),p&&p[1]&&(f=p[1],n.treeData.children.length==f.length&&n.treeData.children.forEach((m,u)=>{n.getSegmentDataSuccess(f[u],m.id)})),n.treeData.children.push(n.regions),n.createChart(n.treeData,0)})})}createRegions(e){this.regionData=[],e.forEach(n=>{this.regionData.push({id:n.id,name:n.region,children:n.countries})}),this.regions={id:"1",name:"Region",children:this.regionData}}changeColor(e){let n=[];e.forEach(r=>{n.push(parseInt(r.amount))});let i=Math.max(...n);e.forEach(r=>{parseInt(r.amount)==i&&(r.color="green"),r.children&&this.changeColor(r.children)})}createChart(e,n){var g,d=N.select("#dendo-container").append("svg").attr("width",800).attr("height",380).append("g").attr("transform","translate(230,5)"),p=0,f=750,m=N.tree().size([365,340]);(g=N.hierarchy(e,function(v){return v.children})).x0=182.5,g.y0=0,g.children.forEach(function u(v){v.children&&(parseInt(v.depth)>1?(v._children=v.children,v.children=null,v.data.open=!1):v.children.forEach(u))}),function h(v){var b=m(g),R=b.descendants(),D=b.descendants().slice(1),Y=d.selectAll("g.node").data(R,function(c){return c.id||(c.id=++p)}),q=Y.enter().append("g").attr("class","node").attr("transform",function(c){return"translate("+v.y0+","+v.x0+")"}).on("click",function l(c){c.children?(c._children=c.children,c.children=null,c.data.open=!1):(c.children=c._children,c._children=null,c.data.open=!0),h(c)});q.append("image").attr("href",function(c){return c.children||c._children?1==c.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","white").attr("text","+").attr("cursor","pointer").style("fill",function(c){return c._children?"lightsteelblue":"#fff"}).style("color","#000"),q.append("text").attr("x",function(c){return 10}).attr("dy",function(c){return c.children||c._children?"-1em":"0.5em"}).attr("text-anchor",function(c){return c.children||c._children?"end":"start"}).text(function(c){let _="";c&&c.data&&c.data.percent&&(_=c.data.percent,_=_.replace("%",""));let E="";return c.data.name&&(E=c.data.name.substring(c.data.name.indexOf("_")+1)),0==c.depth||3==c.depth&&void 0===c.data.amount?E:E+", "+c.data.amount+", "+_+"%"}).style("fill-opacity",1e-6).style("font","10px sans-serif").style("font-weight",function(c){return c.data.percent>=70?"bold":"normal"});var Q=q.merge(Y);Q.transition().duration(f).attr("transform",function(c){return"translate("+c.y+","+c.x+")"}),Q.select("image").attr("href",function(c){return c.children||c._children?1==c.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),Q.select("text").style("fill-opacity",1);var J=Y.exit().transition().duration(f).attr("transform",function(c){return"translate("+v.y+","+v.x+")"}).remove();J.select("circle").attr("r",1e-6),J.select("text").style("fill-opacity",1e-6);var F=d.selectAll("path.link").data(D,function(c){return c.id});function V(c,_){return`M ${c.y} ${c.x}\n            C ${(c.y+_.y)/2} ${c.x},\n              ${(c.y+_.y)/2} ${_.x},\n              ${_.y} ${_.x}`}F.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(c){return"green"==c.data.color?"2px":"1px"}).attr("stroke",function(c){return c.data.color}).attr("d",function(c){var _={x:v.x0,y:v.y0};return V(_,_)}).merge(F).transition().duration(f).attr("d",function(c){return V(c,c.parent)}),F.exit().transition().duration(f).attr("d",function(c){var _={x:v.x,y:v.y};return V(_,_)}).remove(),R.forEach(function(c){c.x0=c.x,c.y0=c.y})}(g),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(Z.n),t.Y36(dt.L),t.Y36(U.t2),t.Y36(A.e),t.Y36(I.r),t.Y36(k.gz),t.Y36(z.g),t.Y36(Fi))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-market-estimation"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Gi,5),t.Gf(Bi,5),t.Gf(ji,5),t.Gf($i,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:33,vars:10,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],["id","main-div",1,"row"],[1,"col-9","m8",2,"margin-bottom","20px"],[1,"down-header","container-fluid"],[1,"header-background","float-l-width"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"padding20","outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["id","dendo-container"],[1,"mat-caption1"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"col-3"],[1,"suggestion",3,"suggestion"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"a",7),t.NdJ("click",function(){return n.analyze()}),t._uU(9,"Analyze"),t.qZA()(),t.TgZ(10,"div",8)(11,"i",9),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(12,"i",10),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(13,"mat-card-content",11,12)(15,"div",13)(16,"p",14)(17,"span",15),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA()(),t.TgZ(20,"div"),t._UZ(21,"div",16),t.TgZ(22,"p",17)(23,"span",15),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()(),t.TgZ(26,"div",18),t._UZ(27,"img",null,19)(29,"a",null,20),t.qZA()(),t.TgZ(31,"div",21),t._UZ(32,"app-hardcoded-suggestions",22),t.qZA()()()()),2&e&&(t.xp6(5),t.lnq("Market Breakup, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(14),t.xDo(" Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"], Base Year: ",n.baseYear," (",n.metric,") "),t.xp6(13),t.Q6J("suggestion",t.DdM(9,Vi)))},directives:[B.dn,K],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.3);display:block;padding:10px 20px 0}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{width:50%;margin:auto}.accordion[_ngcontent-%COMP%]{margin:20px inherit}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}.tabular2[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.mat-raised-button[_ngcontent-%COMP%]{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.margin-20-bottom[_ngcontent-%COMP%]{margin-bottom:20px}p[_ngcontent-%COMP%]{padding-left:15px}.table-caption[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.mat-caption1[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}#dendo-container[_ngcontent-%COMP%]{margin-left:-100px}@media screen and (min-width: 600px) and (max-width: 1000px){#dendo-container[_ngcontent-%COMP%]{width:auto;overflow:scroll;margin-left:0}#main-div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.suggestion[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.3);padding:10px 20px 0;width:460px;height:480px;display:flex;flex-wrap:wrap;overflow:scroll;margin-left:13px}}"]}),a})();const Wi=["screenPie"],Xi=["screenBar"],ta=["screenImg"],ea=["canvas"],na=["downloadLink"];let ia=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.reportService=i,this.authService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{console.log("error",n)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?html2canvas(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?html2canvas(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&html2canvas(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"definition"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Definition, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(I.r),t.Y36(A.e),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-definition"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Wi,5),t.Gf(Xi,5),t.Gf(ta,5),t.Gf(ea,5),t.Gf(na,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[at],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const aa=["screenPie"],oa=["screenBar"],ra=["screenImg"],sa=["canvas"],ca=["downloadLink"];let la=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.reportService=i,this.authService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.localStorageService.get(P.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"takeways"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Key takeaways, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(I.r),t.Y36(A.e),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-key-takeaways"]],viewQuery:function(e,n){if(1&e&&(t.Gf(aa,5),t.Gf(oa,5),t.Gf(ra,5),t.Gf(sa,5),t.Gf(ca,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[at],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const da=["screenPie"],pa=["screenBar"],ga=["screenImg"],ha=["canvas"],ma=["downloadLink"];let ua=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.reportService=i,this.reportSectionService=r,this.spinner=s,this.authService=d,this.localStorageService=p,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.localStorageService.get(P.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?html2canvas(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?html2canvas(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&html2canvas(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"assumptions"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"List of assumptions, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.e),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-list-of-assumptions"]],viewQuery:function(e,n){if(1&e&&(t.Gf(da,5),t.Gf(pa,5),t.Gf(ga,5),t.Gf(ha,5),t.Gf(ma,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[at],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const _a=["screenPie"],fa=["screenBar"],va=["screenImg"],Ca=["canvas"],xa=["downloadLink"];let wa=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.localStorageService.get(P.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"insights"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market insights, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-market-insights"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_a,5),t.Gf(fa,5),t.Gf(va,5),t.Gf(Ca,5),t.Gf(xa,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[at],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const ya=["screenPie"],ba=["screenBar"],Ma=["screenImg"],Oa=["canvas"],Pa=["downloadLink"];let Ta=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.reportService=i,this.reportSectionService=r,this.spinner=s,this.authService=d,this.localStorageService=p,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.localStorageService.get(P.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"structure"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market structure, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.e),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-market-structure"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ya,5),t.Gf(ba,5),t.Gf(Ma,5),t.Gf(Oa,5),t.Gf(Pa,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[at],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const ka=["screen"],Sa=["canvas"],Da=["downloadLink"];function Aa(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadPieData()}),t.qZA()}}function Za(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadTableData()}),t.qZA()}}function Ra(a,o){if(1&a&&t._UZ(0,"img",23),2&a){const e=t.oxw(3);t.Q6J("src",e.reportData.data.imageUrl,t.LSH)}}function Ea(a,o){if(1&a&&(t.TgZ(0,"div",16,17)(2,"p",18)(3,"span",19),t._uU(4,"Title :"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",20),t.YNc(7,Ra,1,1,"img",21),t.qZA(),t.TgZ(8,"p",22)(9,"span",19),t._uU(10,"Source :"),t.qZA(),t._uU(11),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(5),t.hij("",e.reportData.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.reportData.data.imageUrl),t.xp6(4),t.hij("",e.reportData.data.metaDataValue.source," ")}}function Na(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",24,17)(3,"div"),t._UZ(4,"br"),t.TgZ(5,"p",18)(6,"span",19),t._uU(7,"Title :"),t.qZA(),t._uU(8),t.qZA(),t._UZ(9,"canvas",25),t.TgZ(10,"p",22)(11,"span",19),t._uU(12,"Source :"),t.qZA(),t._uU(13),t.qZA()()()()),2&a){const e=t.oxw(2);t.xp6(8),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartData)("labels",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartLabels)("chartType",e.pieChartType)("options",e.pieChartOptions)("plugins",e.pieChartPlugins)("legend",e.pieChartLegend),t.xp6(4),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.source," ")}}function Ia(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",24)(2,"div",null,17),t._UZ(4,"br"),t.TgZ(5,"p",18)(6,"span",19),t._uU(7,"Title :"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"div",26)(10,"p",27),t._uU(11),t.qZA(),t._UZ(12,"canvas",28),t.qZA(),t.TgZ(13,"p",18),t._uU(14),t.qZA(),t.TgZ(15,"p",22)(16,"span",19),t._uU(17,"Source :"),t.qZA(),t._uU(18),t.qZA()()()()),2&a){const e=t.oxw(2);t.xp6(8),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartData)("labels",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartLabels)("options",e.barChartOptions)("plugins",e.barChartPlugins)("legend",e.barChartLegend)("chartType",e.barChartType),t.xp6(2),t.hij(" ",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.source," ")}}function La(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",4),t.ynx(2,5),t.TgZ(3,"div",6)(4,"div",7)(5,"a",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().analyze()}),t._uU(6,"Analyze"),t.qZA()(),t.TgZ(7,"div",9)(8,"i",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().generateImage()}),t.qZA(),t.YNc(9,Aa,1,0,"i",11),t.YNc(10,Za,1,0,"i",11),t.TgZ(11,"i",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().doClose()}),t.qZA()()(),t.YNc(12,Ea,12,3,"div",13),t.YNc(13,Na,14,8,"div",14),t.YNc(14,Ia,19,10,"div",14),t.BQk(),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngSwitch",null==e.reportData||null==e.reportData.data?null:e.reportData.data.type),t.xp6(7),t.Q6J("ngIf","PIE"===(null==e.reportData||null==e.reportData.data?null:e.reportData.data.type)),t.xp6(1),t.Q6J("ngIf","PIE"!==(null==e.reportData||null==e.reportData.data?null:e.reportData.data.type)),t.xp6(2),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}let Dt=(()=>{class a{constructor(e,n,i,r,s,d){this.dialogRef=e,this.reportData=n,this.excelDownloadService=i,this.toastr=r,this.routes=s,this.authService=d,this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}ngOnInit(){this.hide="IMAGE"!==this.reportData.type,this.barChartOptions.scales.xAxes[0].stacked=!1,this.barChartOptions.scales.yAxes[0].stacked=!1,document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}doClose(){this.dialogRef.close(),this.reportData={}}downLoadPieData(){this.excelDownloadService.generateExcelSheet([""],this.reportData.pieData,this.reportData.data.data.metaDataValue.title,"PIE")}downLoadTableData(){let e=this.reportData.barData,n=M.keys(e.dataStore[0]);this.excelDownloadService.generateExcelSheet(n,e.dataStore,e.title,"BAR")}analyze(){this.routes.navigateByUrl("/dashboard"),this.doClose()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(X.O),t.Y36(ht._W),t.Y36(k.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-me-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ka,5),t.Gf(Sa,5),t.Gf(Da,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:6,vars:1,consts:[[4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"analyze","btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["class","btn-icon fa fa-file-excel-o",3,"click",4,"ngIf"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],["class","container-fluid float-l-width",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],[1,"container-fluid","float-l-width"],["screen",""],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"mat-caption"],[1,"responsiveImg",3,"src"],[1,"container-fluid","float-l"],["height","100","baseChart","",3,"data","labels","chartType","options","plugins","legend"],[2,"display","flex","align-items","center","width","95%"],[1,"mat-caption",2,"text-align","left"],["height","100","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.YNc(0,La,15,6,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",null,2)(4,"a",null,3),t.qZA()),2&e&&t.Q6J("ngIf",n.reportData)},directives:[O.O5,O.RF,O.n9,j.jh],styles:[".responsiveImg[_ngcontent-%COMP%]{width:80%;height:80%}.card-border[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right[_ngcontent-%COMP%]{float:right}.modal-container[_ngcontent-%COMP%]{width:100%!important}  .mat-dialog-container{width:100%!important;padding:0!important}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:17px 0;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}  .mat-select-value,   .mat-select-arrow,   .mat-select-placeholder{color:#fff!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.align-centers[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}"]}),a})();var At=T(8656);let Zt=(()=>{class a{transform(e,n){let i=e;if(i.includes("CAGR (%) (")){let r=i.split("-");return r&&r.length&&(n=parseInt(n,10)+1,r[0]=r[0].replace(/\([0-9]+/,"("+n),i=r.join("-")),i}return i}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"changeTableCAGRYear",type:a,pure:!0}),a})(),Rt=(()=>{class a{constructor(e){this.MarketEstimationService=e}transform(e,n){let i=e.split("_").join(" ");return e&&n.forEach(r=>{let s,d=M.find(n,["id",r.pid]);d&&(s=r.name.replace(d.name,"").replace("_","")),i==this.MarketEstimationService.replacedTxtWithSegName(r.name)&&(i=i.replace(i,s))}),i}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(dt.L,16))},a.\u0275pipe=t.Yjl({name:"giveSegmentName",type:a,pure:!0}),a})(),Et=(()=>{class a{transform(e){let n=e;return e&&(n=e.toString().replace(/parent/g," ")),n}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"removeParent",type:a,pure:!0}),a})();const Ua=["screenPie"],Ya=["screenBar"],qa=["screenImg"],Ha=["canvas"],Ja=["downloadLink"];function Qa(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i,0)}),t.qZA()}}function za(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sendChartToWhatsApp()}),t._uU(4,"Send "),t._UZ(5,"i",20),t.qZA(),t.TgZ(6,"a",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",21),t.qZA(),t.TgZ(9,"i",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.TgZ(10,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadPieData()}),t.qZA(),t.YNc(12,Qa,1,0,"i",25),t.qZA()(),t.TgZ(13,"div",26,27)(15,"p",28)(16,"span",29),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"canvas",30),t.TgZ(20,"p",31)(21,"span",29),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(12),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Fa(a,o){if(1&a&&(t.TgZ(0,"div",13),t.ynx(1,14),t.YNc(2,za,24,10,"div",15),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","PIE")}}function Ga(a,o){if(1&a&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&a){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.chart_title[e])}}function Ba(a,o){if(1&a&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"changeTableCAGRYear"),t.ALo(3,"giveSegmentName"),t.ALo(4,"removeParent"),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,t.xi3(3,4,t.lcZ(4,7,e),n.segments),n.base_year)," ")}}function ja(a,o){if(1&a&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"giveSegmentName"),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e[n],i.segments)," ")}}function $a(a,o){1&a&&(t.ynx(0,43),t.YNc(1,Ba,5,9,"th",44),t.YNc(2,ja,3,4,"td",45),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function Va(a,o){1&a&&t._UZ(0,"tr",48)}function Ka(a,o){1&a&&t._UZ(0,"tr",49)}function Wa(a,o){if(1&a&&(t.TgZ(0,"div",37)(1,"p",28)(2,"span",29),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",38),t.YNc(6,$a,3,1,"ng-container",39),t.YNc(7,Va,1,0,"tr",40),t.YNc(8,Ka,1,0,"tr",41),t.qZA(),t.TgZ(9,"p",42)(10,"span",29),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function Xa(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function to(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",51),t._UZ(2,"div",52),t.TgZ(3,"div",53)(4,"div",18)(5,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(6,"Send "),t._UZ(7,"i",20),t.qZA(),t.TgZ(8,"a",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(9,"PPT "),t._UZ(10,"i",21),t.qZA(),t.TgZ(11,"i",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(12,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(13,"i",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).downLoadPieData()}),t.qZA(),t.YNc(14,Xa,1,0,"i",25),t.qZA()()(),t.TgZ(15,"div",26,27)(17,"p",28)(18,"span",29),t._uU(19,"Title\xa0:\xa0"),t.qZA(),t._uU(20),t.qZA(),t._UZ(21,"canvas",54),t.TgZ(22,"p",31)(23,"span",29),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(14),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function eo(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function no(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",17)(2,"div",55)(3,"a",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().analyze(i)}),t._uU(4,"Analyze"),t.qZA()(),t.TgZ(5,"div",18)(6,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(7,"Send "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"a",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(10,"PPT "),t._UZ(11,"i",21),t.qZA(),t.TgZ(12,"i",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(14,"i",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().downLoadTableData(i)}),t.qZA(),t.YNc(15,eo,1,0,"i",25),t.qZA()(),t.TgZ(16,"div",57,58)(18,"p",28)(19,"span",29),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"div",59)(23,"p",60),t._uU(24),t.qZA(),t._UZ(25,"canvas",61),t.qZA(),t.TgZ(26,"p",28),t._uU(27),t.qZA(),t.TgZ(28,"p",31)(29,"span",29),t._uU(30,"Source\xa0:\xa0"),t.qZA(),t._uU(31),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(15),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.chartOptions)("plugins",n.chartPlugins)("legend",n.chartLegend)("chartType",n.chartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function io(a,o){if(1&a&&t._UZ(0,"p",62),2&a){const e=t.oxw().$implicit;t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function ao(a,o){if(1&a&&(t.TgZ(0,"div",13),t.ynx(1,14),t.YNc(2,Wa,13,6,"div",34),t.YNc(3,to,26,10,"div",35),t.YNc(4,no,32,11,"div",35),t.YNc(5,io,1,1,"p",36),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR"),t.xp6(1),t.Q6J("ngSwitchCase","TEXT")}}function oo(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Ga,2,1,"div",33),t.YNc(2,ao,6,5,"div",6),t.qZA()),2&a){const e=o.$implicit,n=o.index;t.xp6(1),t.Q6J("ngIf",n>0),t.xp6(1),t.Q6J("ngForOf",e)}}const ro=function(){return{orderType:"driver"}};let so=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g,m,u,h,v){this.routes=e,this.dialog=n,this.authService=i,this.activatedRoutes=r,this.marketEstimationService=s,this.spinner=d,this.pptService=p,this.localStorageService=f,this.reportSectionService=g,this.sharedAnalyticsService=m,this.excelDownloadService=u,this.toastr=h,this.segmentService=v,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.allRegions=[],this.base_year="",this.start_year="",this.end_year="",this.pieChartData="",this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.allKeys=[],this.reportDataArray=[],this.selectedRegion="",this.labelX="",this.metric="",this.chart_title=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.chartLabels=[],this.chartData=[],this.renderBar=!1,this.colMetaData=[],this.dataStore=[],this.dataForTable=[],this.renderTable=!1,this.analyzeDataArray=[],this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.bifurcationLevel=1}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show();const e=this.activatedRoutes.snapshot.queryParams;e&&e.segmentId&&(this.paramsSegmentId=e.segmentId),this.activatedRoutes.queryParams.subscribe(n=>{if(n&&n.segmentId){this.spinner.show();const i=M.find(this.allRegions,["id",n.segmentId]);i&&(this.reportData=[],this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.onRegionSelected(i.id,i.region))}}),this.dataStore=[],this.dataForTable=[],this.colMetaData=[],this.getAPIData()}sendChartToWhatsApp(){return this.authService.showNotSubscribedMsg()}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}getAPIData(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}let i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){let r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let s=0;s<i[0].data.length&&s<2;s++)r.data.push(i[0].data[s])}this.reportConnectData=r}}this.marketEstimationService.getMeData(this.reportId).subscribe(n=>{n&&n.data&&n.data.length&&(this.getReportDetailsSuccess(n),this.segments=n.data[0].me.segment),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){if(e&&e.data&&e.data.length>0&&(e.data[0].me&&e.data[0].me.geo_segment&&e.data[0].me.geo_segment.length>0&&e.data[0].me.geo_segment.forEach(n=>{this.allRegions.push(n)}),this.base_year=e.data[0].me.base_year,this.bifurcationLevel=e.data[0].me.bifurcationLevel),this.paramsSegmentId){const n=M.find(this.allRegions,["id",this.paramsSegmentId]);n&&this.onRegionSelected(n.id,n.region)}else this.spinner.hide()}onRegionSelected(e,n){this.selectedRegion=n,this.segmentService.getDataByRegion(this.reportId,e).subscribe(i=>{i&&i.data&&this.getRegionDataSuccess(i)},i=>{this.spinner.hide()})}getRegionDataSuccess(e){if(e&&(this.regionData=e),this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],e&&e.data&&e.data.length){let n;this.chart_title=[],e.data.forEach(r=>{if(r.title.includes("BY COUNTRIES")&&(n=r,n)){let p="";p=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),this.pieData={title:`${this.reportName} Market [${this.base_year}] by ${this.selectedRegion} - (${p})`,source:"Wantstats",calType:"BY_VALUE",columns:[]},this.metric=n.metric&&"Kilo Tons"==n.metric?n.metric:"USD "+(n.metric?n.metric:"Mn"),this.dataStore=[];let f="";n.rowHeaders.forEach(g=>{g.includes("%")||parseInt(g)||(f=g)}),n.value&&n.value.forEach(g=>{let m=g[this.base_year];isNaN(m)||(m=parseFloat(m).toFixed(2));let u={header:M.startCase(g[f]).split("_").join(" "),value:m},h=Object.assign({},g),v=Object.keys(h);v=v.filter(b=>b.includes("%")),v.forEach(b=>{delete h[b]}),delete Object.assign(h,{rowHeader:h[f]})[f],"Total"!=h.rowHeader&&this.pieData.columns.push(u)}),this.pieChartData=JSON.stringify(this.pieData)}if(n=r,n){let p=n.text;this.segments.forEach(g=>{let m,h,u=M.find(this.segments,["id",g.pid]);u&&g.name.includes(u.name+"_")?(h=u.name,m=g.name.replace(u.name,"").split("_").join("")):m=g.name,p.toLowerCase().includes(this.marketEstimationService.replacedTxtWithSegName(g.name.toLowerCase()))&&(m.split(" ").forEach(v=>{p=p.split(this.marketEstimationService.replacedTxtWithSegName(" "+v.toLowerCase()+" ")).join(" "+v+" ").split(h).join(""),h=""}),p=p.replace(this.reportName,this.reportName.toLowerCase()))}),n.custom_text&&(p=p+"<br><br>"+n.custom_text),this.textData={content:p},this.dataStore=[],this.dataForTable=[];let f="";if(n.value&&n.value.length&&Object.keys(n.value[0]).forEach(g=>{parseInt(g)||g.includes("%")||"undefined"!==g&&(f=g)}),n.value&&(n.value.forEach(g=>{let m=Object.assign({},g),u=Object.assign({},g),h=Object.keys(u);h=h.filter(b=>b.includes("%")),h.forEach(b=>{delete u[b]}),h=Object.keys(u),h.includes("rowHeader")||delete Object.assign(u,{rowHeader:u[f]})[f],"Total"!=u.rowHeader&&this.dataStore.push(u),Object.keys(m).forEach(b=>{isNaN(m[b])||(m[b]=parseFloat(m[b]).toFixed(2))}),this.dataForTable.push(m)}),this.colMetaData=[],this.dataStore&&this.dataStore.length)){let g={},m=this.dataStore[0];if(m){let u=Object.keys(m);this.colMetaData.push({header:this.reportName+" Market",name:"rowHeader",type:"text"});for(let h of u)this.colMetaData.push({name:h,header:h,type:"number"}),g[h]=""}}}let s=!0;if(this.dataStore&&this.dataStore.length){s=!0;for(let p of this.dataStore){let f=M.keys(p),g=!0;for(let m of f)if("rowHeader"!=m&&0!=p[m]){g=!1;break}if(0==g){s=!1;break}}}let d=this.dataStore;if(d&&d[0]&&0==s){let p=Object.keys(d[0]),f=[];this.dataForBarChart=[],d.forEach(u=>{let h=u.rowHeader.split("_").join(" ");this.segments.forEach(v=>{let b,R=M.find(this.segments,["id",v.pid]);R&&(b=v.name.replace(R.name,"").replace("_","")),h==this.marketEstimationService.replacedTxtWithSegName(v.name)&&(h=h.replace(h,b))}),f.push(h)}),p=p.filter(u=>"rowHeader"!==u),p.forEach(u=>{let h={};for(let v=0;v<f.length;v++)h[f[v]]=d[v][u];h.rowHeader=u,isNaN(h.rowHeader)||this.dataForBarChart.push(h)}),r.title.includes("BY COUNTRIES")?this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.selectedRegion):this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+this.marketEstimationService.getRegionTitle(r.title,this.segments));let g="";if(r.title.includes("BY COUNTRIES"))g=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.selectedRegion,this.tabSelected=this.selectedRegion,this.subSegmentSelected="";else{let u=this.marketEstimationService.getRegionTitle(r.title,this.segments);g=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+u,this.title=u;let v=this.title.replace(/ by /gi," by ").split(" by ");this.tabSelected=v[1],this.subSegmentSelected=v[0],"Regions"==this.tabSelected&&(this.tabSelected="Region")}this.analyzeData={reportId:this.reportId,tabSelected:this.tabSelected,subSegmentSelected:this.subSegmentSelected},this.analyzeDataArray.push(this.analyzeData);let m="";if(m=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),this.barData={title:g,source:"Wantstats",columnMetaData:this.colMetaData,dataStore:this.dataForBarChart,labelY:m},this.allKeys=[],this.dataForTable&&this.dataForTable.length){let u=Object.keys(this.dataForTable[0]);u.forEach(b=>{parseInt(b)||b.includes("%")||"undefined"!==b&&this.allKeys.push(b)}),u.forEach(b=>{"undefined"!==b&&(parseInt(b)||b.includes("CAGR (%) ("))&&this.allKeys.push(b)});let h="",v="";if(v=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),r.title.includes("BY COUNTRIES")?h=`${this.reportName} Market [${this.startYear} - ${this.endYear}] by ${this.selectedRegion} - (${v})`:r.title&&(h=`${this.reportName} Market [${this.startYear} - ${this.endYear}], ${this.marketEstimationService.getRegionTitle(r.title,this.segments)} - (${v})`),this.dataForTable.length&&(this.tableData={title:h,source:"Wantstats",rows:this.allKeys.length,columns:this.allKeys,dataStore:this.dataForTable}),this.textData.content){let b=this.textData.content;b=b.replace(/%%/g,"%"),this.textData.content=b}this.barChartJson.push(JSON.stringify(this.barData)),this.textDataJson.push(this.textData),this.tableDataJson.push(JSON.stringify(this.tableData))}}});let i=[{data:this.pieChartData,order_id:1,type:"PIE"}];for(let r=0;r<this.barChartJson.length;r++)this.reportDataArray.push(this.reportSectionService.convertToReportDataElement([{data:this.barChartJson[r],order_id:2,type:"BAR"},{data:this.tableDataJson[r],order_id:3,type:"TABLE"},{data:this.textDataJson[r],order_id:4,type:"TEXT"}]));this.reportData=this.reportSectionService.convertToReportDataElement(i),this.reportData&&this.reportData.length&&this.reportData[0].data&&this.reportData[0].data.chartLabels&&(this.reportData[0].data.chartLabels=this.reportData[0].data.chartLabels.map(r=>r+", "+this.metric))}this.spinner.hide(),window.scroll(0,0),this.rederBarChart()}rederBarChart(){this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.renderBar=!0}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e,n){let i={data:e,pieData:this.pieData.columns,barData:JSON.parse(this.tableDataJson[n])};this.dialog.open(Dt,{width:"99%",data:i,disableClose:!1}).afterClosed().subscribe(s=>{})}analyze(e){this.sharedAnalyticsService.data=this.analyzeDataArray[e],this.routes.navigateByUrl("/dashboard")}downLoadPieData(){this.excelDownloadService.downloadExcel({type:"PIE",data:{metaDataValue:this.pieData}})}downLoadTableData(e){let n=JSON.parse(this.tableDataJson[e]),i=M.keys(n.dataStore[0]);this.excelDownloadService.generateExcelSheet(i,n.dataStore,n.title,"BAR")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(k.F0),t.Y36(S.uw),t.Y36(A.e),t.Y36(k.gz),t.Y36(dt.L),t.Y36(U.t2),t.Y36(_t._),t.Y36(Z.n),t.Y36(L.A),t.Y36(z.g),t.Y36(X.O),t.Y36(ht._W),t.Y36(At.B))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-me-region"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ua,5),t.Gf(Ya,5),t.Gf(qa,5),t.Gf(Ha,5),t.Gf(Ja,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:18,vars:8,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid margin-20-bottom",4,"ngSwitchCase"],[1,"container-fluid","margin-20-bottom"],[1,"float-l-width","header-background"],[1,"float-right"],[1,"btn-icon","ppt-btn",3,"click"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"mat-caption"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],["class","down-header container-fluid",4,"ngIf"],["class","container-fluid over-flow",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],["class","content-p container-fluid",3,"innerHTML",4,"ngSwitchCase"],[1,"container-fluid","over-flow"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-caption"],[3,"matColumnDef"],["class","first-letter-caps","mat-header-cell","",4,"matHeaderCellDef"],["class","first-letter-caps","mat-cell","",4,"matCellDef"],["mat-header-cell","",1,"first-letter-caps"],["mat-cell","",1,"first-letter-caps"],["mat-header-row",""],["mat-row",""],[1,"container-fluid"],[1,"row","col","header-background"],[1,"col-8"],[1,"col-4","zero-padding"],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],[1,"content-p","container-fluid",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,Fa,3,2,"div",6),t.YNc(9,oo,3,2,"div",7),t.qZA()(),t._UZ(10,"div"),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-hardcoded-suggestions",9),t.qZA()()()(),t.TgZ(13,"div",10),t._UZ(14,"img",null,11)(16,"a",null,12),t.qZA()),2&e&&(t.xp6(6),t.HOy("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] By ",n.selectedRegion,""),t.xp6(2),t.Q6J("ngForOf",n.reportData),t.xp6(1),t.Q6J("ngForOf",n.reportDataArray),t.xp6(3),t.Q6J("suggestion",t.DdM(7,ro)))},directives:[O.sg,O.RF,O.n9,O.O5,j.jh,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,K],pipes:[Zt,Rt,Et],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.card-border{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border{border:0!important}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.desc{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-year-conatiner{position:relative}.outer-year-conatiner .year-container{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner .center{text-align:center}.align-center{color:#0000008a;align-items:center}.tabular2{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading{font-weight:500;font-size:15px;margin:5px 0}.listing{padding:0;list-style:none;display:flex;margin:0}.listing li{margin:0 10px}.mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer{padding-bottom:20px}div.comment-item{outline:none}.conponent-table{width:100%}.my-sidebar{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg{border:1px solid #ddd;border-radius:4px;padding:5px;width:500px}.responsiveImg:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div th.mat-header-cell:first-of-type,.seprator-div td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div th.mat-header-cell:last-of-type,.seprator-div td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div tr.mat-header-row{height:20px!important}.seprator-div tr.mat-row{height:32px!important}.main-container{padding:0}.border{border:1px solid #00000033}.margin-20-bottom{margin-bottom:20px}p{padding-left:15px}.table-caption{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.first-letter-caps{text-transform:capitalize}.over-flow{overflow-x:auto}.purchase-notification{border:2px solid black;padding:2px;font-size:1.2em;font-weight:700;text-align:center}\n"],encapsulation:2}),a})();var co=T(7271);let lo=(()=>{class a{transform(e){let n=e;return e&&(n=e.toString().replace(/_/g," ")),n}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"replaceUnderscoreWithSpace",type:a,pure:!0}),a})();const po=["screenPie"],go=["screenBar"],ho=["screenImg"],mo=["canvas"],uo=["downloadLink"];function _o(a,o){if(1&a&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&a){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.chart_title[e])}}function fo(a,o){if(1&a&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"changeTableCAGRYear"),t.ALo(3,"giveSegmentName"),t.ALo(4,"removeParent"),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,t.xi3(3,4,t.lcZ(4,7,e),n.segments),n.base_year)," ")}}function vo(a,o){if(1&a&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"giveSegmentName"),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e[n],i.segments)," ")}}function Co(a,o){1&a&&(t.ynx(0,27),t.YNc(1,fo,5,9,"th",28),t.YNc(2,vo,3,4,"td",29),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function xo(a,o){1&a&&t._UZ(0,"tr",32)}function wo(a,o){1&a&&t._UZ(0,"tr",33)}function yo(a,o){if(1&a&&(t.TgZ(0,"div",19)(1,"p",20)(2,"span",21),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",22),t.YNc(6,Co,3,1,"ng-container",23),t.YNc(7,xo,1,0,"tr",24),t.YNc(8,wo,1,0,"tr",25),t.qZA(),t.TgZ(9,"p",26)(10,"span",21),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",null==e||null==e.data?null:e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function bo(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function Mo(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"a",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(4,"Send "),t._UZ(5,"i",38),t.qZA(),t.TgZ(6,"a",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",39),t.qZA(),t.TgZ(9,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(10,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().downLoadTableData(i)}),t.qZA(),t.YNc(12,bo,1,0,"i",43),t.qZA()(),t.TgZ(13,"div",44,45)(15,"p",20)(16,"span",21),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"canvas",46),t.TgZ(20,"p",47)(21,"span",21),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("legend",n.pieChartLegend),t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function Oo(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function Po(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",49)(3,"a",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().analyze(i)}),t._uU(4,"Analyze"),t.qZA()(),t.TgZ(5,"div",36)(6,"a",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(7,"Send "),t._UZ(8,"i",38),t.qZA(),t.TgZ(9,"a",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(10,"PPT "),t._UZ(11,"i",39),t.qZA(),t.TgZ(12,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(13,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(14,"i",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().downLoadTableData(i)}),t.qZA(),t.YNc(15,Oo,1,0,"i",43),t.qZA()(),t.TgZ(16,"div",51,52)(18,"p",20)(19,"span",21),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"div",53)(23,"p",54),t._uU(24),t.qZA(),t._UZ(25,"canvas",55),t.qZA(),t.TgZ(26,"p",20),t._uU(27),t.qZA(),t.TgZ(28,"p",47)(29,"span",21),t._uU(30,"Source\xa0:\xa0"),t.qZA(),t._uU(31),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(15),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.chartOptions)("plugins",n.chartPlugins)("legend",n.chartLegend)("chartType",n.chartType),t.xp6(2),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function To(a,o){if(1&a&&t._UZ(0,"p",56),2&a){const e=t.oxw().$implicit;t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function ko(a,o){if(1&a&&(t.TgZ(0,"div",14),t.ynx(1,15),t.YNc(2,yo,13,6,"div",16),t.YNc(3,Mo,24,9,"div",17),t.YNc(4,Po,32,11,"div",17),t.YNc(5,To,1,1,"p",18),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR"),t.xp6(1),t.Q6J("ngSwitchCase","TEXT")}}function So(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,_o,2,1,"div",12),t.YNc(2,ko,6,5,"div",13),t.qZA()),2&a){const e=o.$implicit,n=o.index;t.xp6(1),t.Q6J("ngIf",n>0),t.xp6(1),t.Q6J("ngForOf",e)}}const Do=function(){return{orderType:"driver"}};let Ao=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g,m,u,h,v,b){this.routes=e,this.dialog=n,this.activatedRoutes=i,this.MarketEstimationService=r,this.spinner=s,this.pptService=d,this.whatsappService=p,this.toastr=f,this.localStorageService=g,this.reportSectionService=m,this.authService=u,this.SharedAnalyticsService=h,this.excelDownloadService=v,this.segmentService=b,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.allSegments=[],this.base_year="",this.start_year="",this.end_year="",this.pieChartData="",this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.allKeys=[],this.reportDataArray=[],this.selectedSegment="",this.labelX="",this.metric="",this.chart_title=[],this.title="",this.pieChartJson=[],this.colMetaData=[],this.dataStore=[],this.dataForTable=[],this.analyzeDataArray=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.chartLabels=[],this.chartData=[],this.renderBar=!1,this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.bifurcationLevel=1,this.permissions=this.authService.getUserPermissions()}ngOnInit(){this.spinner.show();const e=this.activatedRoutes.snapshot.queryParams;e.phone&&this.localStorageService.set("CURRENT_USER_PHONE",e.phone),e&&e.segmentId&&(this.paramsSegmentId=e.segmentId),this.activatedRoutes.queryParams.subscribe(n=>{if(n&&n.segmentId){this.spinner.show();const i=M.find(this.allSegments,["id",n.segmentId]);i&&this.onSegementSelected(i.id,i.name)}window.scroll(0,0)}),this.dataStore=[],this.dataForTable=[],this.colMetaData=[],this.getReportDetails()}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}sendChartToWhatsApp(){if(!this.permissions.excelExport)return this.authService.showNotSubscribedMsg();this.spinner.show();const e=this.localStorageService.get("CURRENT_USER_PHONE");this.whatsappService.sendWhatsAppMessage(e).subscribe(n=>{this.spinner.hide(),this.toastr.success("Chart sent to WhatsApp successfully","Message")})}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}let i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){let r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let s=0;s<i[0].data.length&&s<2;s++)r.data.push(i[0].data[s])}this.reportConnectData=r}}this.MarketEstimationService.getMeData(this.reportId).subscribe(n=>{console.log("d",n),n&&n.data&&n.data.length&&(this.getReportDetailsSuccess(n),this.segments=n.data[0].me.segment),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){if(e&&e.data&&e.data.length&&(e.data[0].me&&e.data[0].me.segment&&e.data[0].me.segment.length>0&&e.data[0].me.segment.forEach(n=>{"1"==n.pid&&this.allSegments.push(n)}),this.base_year=e.data[0].me.base_year,this.start_year=e.data[0].me.start_year,this.end_year=e.data[0].me.end_year,this.bifurcationLevel=e.data[0].me.bifurcationLevel),this.paramsSegmentId){const n=M.find(this.allSegments,["id",this.paramsSegmentId]);n&&this.onSegementSelected(n.id,n.name)}this.spinner.hide()}onSegementSelected(e,n){this.spinner.show(),this.selectedSegment=n,this.segmentService.getDataBySegment(this.reportId,e).subscribe(i=>{i&&i.data&&this.getSegmentDataSuccess(i),window.scroll(0,0)},i=>{})}getSegmentDataSuccess(e){if(e&&(this.segmentData=e),this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.pieChartJson=[],e.data&&"object"==typeof e.data&&e.data.length){this.chart_title=[],e.data.forEach(i=>{let r="";if(r="Kilo Tons"==i.metric?i.metric:"USD "+(i.metric?i.metric:"Mn"),this.pieData={title:`${this.reportName} Market [${this.base_year}] by ${this.MarketEstimationService.getTitle(i.title,this.segments)} - (${r})`,source:"Wantstats",calType:"BY_VALUE",columns:[]},i.title.includes("BY SUB-SEGMENTS")){let f=i;if(f){this.metric=f.metric&&"Kilo Tons"==f.metric?f.metric:"USD "+(f.metric?f.metric:"Mn"),this.dataStore=[];let g="";f.rowHeaders.forEach(m=>{parseInt(m)||m.includes("%")||(g=m)}),f.value.forEach(m=>{let u=m[this.base_year];isNaN(u)||(u=parseFloat(u).toFixed(2));let h={header:m[g].split("_").join(" "),value:u},v=Object.assign({},m),b=Object.keys(v);b=b.filter(R=>R.includes("%")),b.forEach(R=>{delete v[R]}),delete Object.assign(v,{rowHeader:v[g]})[g],"Total"!=v.rowHeader&&(this.segments.forEach(R=>{let D,Y=M.find(this.segments,["id",R.pid]);Y&&(D=R.name.replace(Y.name,"").replace("_","")),h.header==this.MarketEstimationService.replacedTxtWithSegName(R.name)&&(h.header=h.header.replace(h.header,D))}),this.pieData.columns.push(h))})}this.pieChartData=JSON.stringify(this.pieData)}else this.pieData.columns=[];let s=i;if(s){let f=s.text;this.segments.forEach(m=>{let u,h,v=M.find(this.segments,["id",m.pid]);v&&m.name.includes(v.name+"_")?(h=v.name,u=m.name.replace(v.name,"").replace("_","")):u=m.name,f.toLowerCase().includes(this.MarketEstimationService.replacedTxtWithSegName(m.name.toLowerCase()))&&(u.split(" ").forEach(b=>{f=f.split(this.MarketEstimationService.replacedTxtWithSegName(" "+b.toLowerCase()+" ")).join(" "+b+" ").split(h).join(""),h=""}),f=f.replace(this.reportName,this.reportName.toLowerCase()))}),s.custom_text&&(f=f+"<br><br>"+s.custom_text),this.textData={content:f},this.dataStore=[],this.dataForTable=[];let g="";if(s.value&&s.value.length&&Object.keys(s.value[0]).forEach(m=>{(m.includes("_")||!parseInt(m))&&(m.includes("%")||(g=m))}),s.value&&(s.value.forEach(m=>{let h=Object.assign({},m),v=Object.assign({},m),b=Object.keys(v);b=b.filter(D=>D.includes("%")),b.forEach(D=>{delete v[D]}),b=Object.keys(v),b.includes("rowHeader")||delete Object.assign(v,{rowHeader:v[g]})[g],"Total"!=v.rowHeader&&this.dataStore.push(v),Object.keys(h).forEach(D=>{isNaN(h[D])||(h[D]=parseFloat(h[D]).toFixed(2))}),this.dataForTable.push(h)}),this.colMetaData=[],this.dataStore.length)){let m={},h=Object.keys(this.dataStore[0]);this.colMetaData.push({header:this.reportName+" Market",name:"rowHeader",type:"text"});for(let v of h)this.colMetaData.push({name:v,header:v,type:"number"}),m[v]=""}}if(s&&this.dataStore.length){let f=this.dataStore,g=Object.keys(f[0]),m=[];this.dataForBarChart=[],f.forEach(u=>{let h=u.rowHeader.split("_").join(" ");this.segments.forEach(v=>{let b,R=M.find(this.segments,["id",v.pid]);R&&(b=v.name.replace(R.name,"").replace("_","")),h==this.MarketEstimationService.replacedTxtWithSegName(v.name)&&(h=h.replace(h,b))}),m.push(h)}),g=g.filter(u=>"rowHeader"!==u),g.forEach(u=>{let h={};for(let v=0;v<m.length;v++)h[m[v]]=f[v][u];h.rowHeader=u,this.dataForBarChart.push(h)})}i.title&&i.title.includes("BY SUB-SEGMENTS")?this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.MarketEstimationService.getTitle(i.title,this.segments)):i.title&&this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+this.MarketEstimationService.getTitle(i.title,this.segments));let d="";if(i.title.includes("BY SUB-SEGMENTS"))d=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.MarketEstimationService.getTitle(i.title,this.segments),this.tabSelected=this.selectedSegment,this.subSegmentSelected="";else{let f=this.MarketEstimationService.getTitle(i.title,this.segments);d=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+f,this.title=f;let m=this.title.replace(/ by /gi," by ").split(" by ");this.tabSelected=m[1],this.subSegmentSelected=m[0],"Regions"==this.tabSelected&&(this.tabSelected="Region")}this.analyzeData={reportId:this.reportId,tabSelected:this.tabSelected,subSegmentSelected:this.subSegmentSelected},this.analyzeDataArray.push(this.analyzeData);let p="";if(p=i.metric&&"Kilo Tons"==i.metric?i.metric:"USD "+(i.metric?i.metric:"Mn"),this.barData={title:d,source:"Wantstats",columnMetaData:this.colMetaData,dataStore:this.dataForBarChart,labelY:p},this.allKeys=[],this.dataForTable&&this.dataForTable.length){let f=Object.keys(this.dataForTable[0]);f.forEach(u=>{(u.includes("_")||!parseInt(u))&&(u.includes("%")||this.allKeys.push(u))}),f.forEach(u=>{(!u.includes("_")&&parseInt(u)||u.includes("CAGR (%) ("))&&this.allKeys.push(u)});let g="";g=i.metric&&"Kilo Tons"==i.metric?i.metric:"USD "+(i.metric?i.metric:"Mn");let m="";if(i.title&&i.title.includes("BY SUB-SEGMENTS")?m=`${this.reportName} Market [${this.startYear} - ${this.endYear}] by ${this.MarketEstimationService.getTitle(i.title,this.segments)} - (${g})`:i.title&&(m=`${this.reportName} Market [${this.startYear} - ${this.endYear}], ${this.MarketEstimationService.getTitle(i.title,this.segments)} - (${g})`),m&&(this.tableData={title:m,source:"Wantstats",rows:this.allKeys.length,columns:this.allKeys,dataStore:this.dataForTable}),this.textData.content){let u=this.textData.content;u=u.replace(/%%/g,"%"),this.textData.content=u}this.pieChartJson.push(this.pieData),this.barChartJson.push(JSON.stringify(this.barData)),this.textDataJson.push(this.textData),this.tableDataJson.push(JSON.stringify(this.tableData))}});for(let i=0;i<this.barChartJson.length;i++){let r=[],s=[{data:this.barChartJson[i],order_id:2,type:"BAR"},{data:this.tableDataJson[i],order_id:3,type:"TABLE"},{data:this.textDataJson[i],order_id:4,type:"TEXT"}];this.pieChartJson[i].columns.length&&r.push({data:JSON.stringify(this.pieChartJson[i]),order_id:1,type:"PIE"}),s.forEach(d=>{r.push(d)}),this.reportDataArray.push(this.reportSectionService.convertToReportDataElement(r))}for(let i=0;i<this.reportDataArray.length;i++)this.reportDataArray[i][0].analyze=this.analyzeDataArray[i]}this.rederBarChart(),this.spinner.hide()}rederBarChart(){this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.renderBar=!0}generateImage(e){if(!this.permissions.excelExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e,n){this.SharedAnalyticsService.data=this.analyzeDataArray[n],localStorage.setItem(P.cc.CURRENT_OUTPUT_CHART_AND_STATISTICS_DATA,e);const i={data:e,pieData:this.pieData.columns,barData:JSON.parse(this.tableDataJson[n])};this.dialog.open(Dt,{width:"99%",data:i,disableClose:!1}).afterClosed().subscribe(s=>{})}analyze(e){this.SharedAnalyticsService.data=this.analyzeDataArray[e],this.routes.navigateByUrl("/dashboard")}downLoadPieData(){this.excelDownloadService.downloadExcel({type:"PIE",data:{metaDataValue:this.pieData}})}downLoadTableData(e){let n=JSON.parse(this.tableDataJson[e]),i=M.keys(n.dataStore[0]);this.excelDownloadService.generateExcelSheet(i,n.dataStore,n.title,"BAR")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(k.F0),t.Y36(S.uw),t.Y36(k.gz),t.Y36(dt.L),t.Y36(U.t2),t.Y36(_t._),t.Y36(co.C),t.Y36(ht._W),t.Y36(Z.n),t.Y36(L.A),t.Y36(A.e),t.Y36(z.g),t.Y36(X.O),t.Y36(At.B))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-me-segments"]],viewQuery:function(e,n){if(1&e&&(t.Gf(po,5),t.Gf(go,5),t.Gf(ho,5),t.Gf(mo,5),t.Gf(uo,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:18,vars:9,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["class","down-header container-fluid",4,"ngIf"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid float-l-width over-flow",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],["class","content-p container-fluid",3,"innerHTML",4,"ngSwitchCase"],[1,"container-fluid","float-l-width","over-flow"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"container-fluid"],[1,"float-l-width","header-background"],[1,"float-right"],[1,"btn-icon","ppt-btn",3,"click"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],["baseChart","",3,"data","labels","chartType","options","plugins","legend"],[1,"mat-caption"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],[1,"content-p","container-fluid",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.ALo(7,"replaceUnderscoreWithSpace"),t.qZA(),t.TgZ(8,"div",4),t.YNc(9,So,3,2,"div",6),t.qZA()(),t._UZ(10,"div"),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(13,"div",9),t._UZ(14,"img",null,10)(16,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] By ",t.lcZ(7,6,n.selectedSegment),""),t.xp6(3),t.Q6J("ngForOf",n.reportDataArray),t.xp6(3),t.Q6J("suggestion",t.DdM(8,Do)))},directives:[O.sg,O.O5,O.RF,O.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,j.jh,K],pipes:[lo,Zt,Rt,Et],styles:[".down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.card-border{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border{border:0!important}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-year-conatiner{position:relative}.outer-year-conatiner .year-container{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner .center{text-align:center}.align-center{color:#0000008a;align-items:center}.tabular2{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading{font-weight:500;font-size:15px;margin:5px 0}.listing{padding:0;list-style:none;display:flex;margin:0}.listing li{margin:0 10px}.mat-raised-button{background:#305497;color:#fff;line-height:30px}.mat-raised-button:hover{opacity:.7}.component-renderer{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer{padding-bottom:20px}div.comment-item{outline:none}.conponent-table{width:100%}.my-sidebar{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div th.mat-header-cell:first-of-type,.seprator-div td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div th.mat-header-cell:last-of-type,.seprator-div td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);background:#305497;color:#fff}.seprator-div td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div tr.mat-header-row{height:20px!important}.seprator-div tr.mat-row{height:32px!important}.main-container{padding:0}.border{border:1px solid #00000033}.margin-20-bottom{margin-bottom:20px}p{padding-left:15px}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.table-caption{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.first-letter-caps{text-transform:capitalize}.over-flow{overflow-x:auto!important}.purchase-notification{border:2px solid black;padding:2px;font-size:1.2em;font-weight:700;text-align:center}\n"],encapsulation:2}),a})();var vt=T(9516);const Zo=["mermaidId"],Ro=["screen"],Eo=["canvas"],No=["downloadLink"],Io=["callAPIDialog"];let Lo=(()=>{class a{constructor(e,n,i,r,s,d){this.dialogRef=e,this.data=n,this.localStorageService=i,this.sharedAnalyticsService=r,this.routes=s,this.authService=d,this.chainType="",this.chartText="",this.output="",this.svgCode="",this.reportId="",this.portersModules=[]}ngOnInit(){this.sharedAnalyticsService.setReload(!0);const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.mermaidId.nativeElement.innerHTML=this.data.svgCode,this.chainType=this.data.chainType,document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Supply/Value chain",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}ngAfterViewInit(){vt.initialize({theme:"forest",startOnLoad:!1,securityLevel:"loose",cloneCssStyles:!0,flowchart:{htmlLabels:!1,useMaxWidth:!1}})}generateChart(){this.chartText=this.data,this.svgCode="",this.chartText||(this.chartText="graph TD;");const e=this.mermaidId.nativeElement;vt.render("graphDiv",this.chartText,(i,r)=>{e.innerHTML=i})}generateImage(){if(console.log(678),!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(z.g),t.Y36(k.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-supply-chain-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Zo,5),t.Gf(Ro,5),t.Gf(Eo,5),t.Gf(No,5),t.Gf(Io,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.mermaidId=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:26,vars:4,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-times",3,"click"],[1,"padding10-20","outer-conatiner1","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"align-center"],[1,"mermaid","svg-width1"],["mermaidId",""],[1,"supply-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.doClose()}),t.qZA()()(),t.TgZ(7,"mat-card-content",6,7)(9,"div",8)(10,"p",9)(11,"span",10),t._uU(12,"Title :"),t.qZA(),t._uU(13),t.qZA()(),t.TgZ(14,"div",11),t._UZ(15,"div",12,13),t.qZA(),t.TgZ(17,"p",14)(18,"span",10),t._uU(19,"Source :"),t.qZA(),t._uU(20,"Wantstats "),t.qZA()(),t.TgZ(21,"div",15),t._UZ(22,"img",null,16)(24,"a",null,17),t.qZA()),2&e&&(t.xp6(13),t.HOy("",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[B.dn],styles:[".down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.down-header{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}::ng-deep .mat-select-value,::ng-deep .mat-select-arrow,::ng-deep .mat-select-placeholder{color:#fff!important}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-conatiner1{position:relative;display:block;padding:10px}.align-center{align-items:center}.source{font-size:11px}.mat-head{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.seprator-div{padding:10px 0}.center{text-align:center}foreignObject>div>span{margin:.25rem!important;text-align:justified!important}foreignObject>div>span i{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid .edgeLabel{background-color:#fff;text-align:left;opacity:1!important}.mermaid .label{padding:1rem .25rem!important}foreignObject>div,circle{padding:-10% 0!important}svg{overflow:auto!important;margin-left:auto;margin-right:auto}.svg-width1{width:auto;display:flex;align-items:center;justify-content:center;align-content:space-between;height:34vh}.vendor{font-size:14px;font-weight:500;color:#333;margin-bottom:0}::ng-deep .mat-expansion-panel-spacing{margin:16px 0!important}::ng-deep .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}::ng-deep .mat-expansion-panel-header,::ng-deep .mat-expansion-panel-body{padding:0!important}.conclusion{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.supply-caption{margin-bottom:0;padding-left:0;font-size:14px}.mat-dialog-container{padding:0}\n"],encapsulation:2}),a})();var Nt=T(8306),Uo=T(2843);let Yo=(()=>{class a{constructor(e){this.httpClient=e,this.serviceEndPoint="http://172.16.0.116:8081/api/supplyChainNode",this.kamleshApiServiceEndPoint="http://172.16.0.116:8081/api"}getAll(){return this.httpClient.get(this.serviceEndPoint)}save(e){return""===e._id?this.httpClient.post(this.serviceEndPoint,e):new Nt.y}remove(e){return this.httpClient.delete(`${this.kamleshApiServiceEndPoint}/supply/${e}`)}updateModule(e,n){return""!==e?this.httpClient.put(`${this.kamleshApiServiceEndPoint}/supply/${e}`,n):new Nt.y}saveSupplyChainData(e,n){const i=new ft.WM({"Content-Type":"application/json"});return this.httpClient.post(P.Ap.ES_API+`/${e}/toc`,[n],{headers:i})}getSupplyChainData(e,n,i){return this.httpClient.get(P.Ap.ES_API+"/"+e+"/toc?msid="+i+"&sid="+n)}handleError(e){return(0,Uo._)(e)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(ft.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var yt=T(4905);let bt=(()=>{class a{constructor(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const qo=["mermaidId"],Ho=["screen"],Jo=["canvas"],Qo=["downloadLink"],zo=["callAPIDialog"];function Fo(a,o){1&a&&(t.TgZ(0,"p",32),t._uU(1,"Vendors"),t.qZA())}function Go(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e)}}function Bo(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",28),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div"),t._UZ(5,"p",29),t.qZA(),t.TgZ(6,"div"),t.YNc(7,Fo,2,0,"p",30),t.TgZ(8,"table",31),t.YNc(9,Go,3,1,"tr",25),t.qZA()()()()),2&a){const e=o.$implicit;t.xp6(2),t.hij(" ",e.title," "),t.xp6(3),t.Q6J("innerHTML",null==e.data[0]?null:e.data[0].info,t.oJD),t.xp6(2),t.Q6J("ngIf",(null==e.data[1]?null:e.data[1].info.length)>0),t.xp6(2),t.Q6J("ngForOf",null==e.data[1]?null:e.data[1].info)}}const jo=function(){return{orderType:"supplychain"}};let $o=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g,m,u,h){this.supplyChainApiService=e,this.chartService=n,this.portersApiService=i,this.routes=r,this.dialog=s,this.authService=d,this.reportService=p,this.reportSectionService=f,this.spinner=g,this.localStorageService=m,this.sharedAnalyticsService=u,this.activateRoutes=h,this.modules={},this.paths=[],this.chartText="",this.output="",this.svgCode="",this.chainType="",this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]}}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download=this.chainType+", "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Supply/Value chain",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);if(this.localStorageService.get(P.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let i=this.overlaps.filter(s=>"Suuply / Value Chain Analysis"==s.section_name);if(i.length){let s={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){s.section=i[0].section_name;for(let d=0;d<i[0].data.length&&d<2;d++)s.data.push(i[0].data[d])}this.interConnectData=s}let r=this.overlaps.filter(s=>"Report"==s.section_name);if(r.length){let s={section:"",data:[]};if(r[0].data&&r[0].data.length&&r[0].section_name){s.section=r[0].section_name;for(let d=0;d<r[0].data.length&&d<2;d++)s.data.push(r[0].data[d])}this.reportConnectData=s}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,console.log("reportId",this.reportId),this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{})}getReportDetailsSuccess(e){console.log("data",e),e.forEach(n=>{"supply-chain"===n.meta_info.section_key&&(this.chainType=n.meta.chain_type,this.chainType=M.upperFirst(M.toLower(this.chainType)),this.getSupplyChainDataSuccess(n.meta.data,n.content))}),this.spinner.hide()}getSupplyChainDataSuccess(e,n){this.paths=e,this.nodes=n,this.generateChart()}ngAfterViewInit(){vt.initialize({theme:"forest",startOnLoad:!1,securityLevel:"loose",cloneCssStyles:!0,flowchart:{htmlLabels:!1,useMaxWidth:!1}}),window.scrollTo(0,0)}generateChart(){let e="graph LR;";for(let r=0;r<this.paths.length;r++){let s=this.paths[r].from.title,d=this.paths[r].to.title;s=s.replace(/(.{20}[^\s]*)/g,"$1<br>"),d=d.replace(/(.{20}[^\s]*)/g,"$1<br>"),e+=this.paths[r].from.order_id+'["'+s+'"] --\x3e'+this.paths[r].to.order_id+'["'+d+'"];'}this.chartText=e,this.svgCode="",this.chartText||(this.chartText="graph TD;");const n=this.mermaidId.nativeElement;console.log("element",n),vt.render("graphDiv",this.chartText,(r,s)=>{n.innerHTML=r,this.svgCode=r,document.getElementById("graphDiv").style.maxWidth=""})}openDroctDialog(){this.dialog.open(Lo,{width:"99%",data:{svgCode:this.svgCode,chainType:this.chainType},disableClose:!1}).afterClosed().subscribe(i=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Yo),t.Y36(yt.f),t.Y36(bt),t.Y36(k.F0),t.Y36(S.uw),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n),t.Y36(z.g),t.Y36(k.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-supply-chain-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(qo,5),t.Gf(Ho,5),t.Gf(Jo,5),t.Gf(Qo,5),t.Gf(zo,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.mermaidId=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:36,vars:11,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row"],[1,"col-9","m8"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"padding20","outer-year-conatiner1","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"row","align-center",2,"height","100%"],[1,"mermaid","svg-width"],["mermaidId",""],[1,"supply-caption"],["id","download",2,"display","flex"],["height","400px","width","400px"],["canvas",""],["downloadLink",""],[1,"down-header"],[1,"accordion"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"mat-head"],[1,"content-p",3,"innerHTML"],["class","vendor",4,"ngIf"],[1,"content-p"],[1,"vendor"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),t.NdJ("click",function(){return n.analyze()}),t._uU(7,"Analyze"),t.qZA()(),t.TgZ(8,"div",7)(9,"i",8),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(10,"i",9),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(11,"mat-card-content",10,11)(13,"div",12)(14,"p",13)(15,"span",14),t._uU(16,"Title\xa0:\xa0"),t.qZA(),t._uU(17),t.qZA()(),t.TgZ(18,"div",15),t._UZ(19,"div",16,17),t.TgZ(21,"p",18)(22,"span",14),t._uU(23,"Source\xa0:\xa0"),t.qZA(),t._uU(24,"Wantstats "),t.qZA()()(),t.TgZ(25,"div",19),t._UZ(26,"img",20,21)(28,"a",null,22),t.qZA(),t.TgZ(30,"div",23),t._uU(31),t.qZA(),t.TgZ(32,"div",24),t.YNc(33,Bo,10,4,"div",25),t.qZA()(),t.TgZ(34,"div",26),t._UZ(35,"app-hardcoded-suggestions",27),t.qZA()()()()),2&e&&(t.xp6(17),t.HOy("",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(14),t.HOy(" ",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"] "),t.xp6(2),t.Q6J("ngForOf",n.nodes),t.xp6(2),t.Q6J("suggestion",t.DdM(10,jo)))},directives:[B.dn,O.sg,O.O5,K],styles:[".down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}  .mat-select-value,   .mat-select-arrow,   .mat-select-placeholder{color:#fff!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner1[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.1);display:block;padding:10px 20px 20px}.align-center[_ngcontent-%COMP%]{align-items:center}.source[_ngcontent-%COMP%]{font-size:11px}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window[_ngcontent-%COMP%]{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.center[_ngcontent-%COMP%]{text-align:center}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:.25rem!important;text-align:justified!important}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid[_ngcontent-%COMP%]   .edgeLabel[_ngcontent-%COMP%]{background-color:#fff;text-align:left;opacity:1!important}.mermaid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:1rem .25rem!important}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], circle[_ngcontent-%COMP%]{padding:-10% 0!important}svg[_ngcontent-%COMP%]{overflow:auto!important;margin-left:auto;margin-right:auto}.svg-width[_ngcontent-%COMP%]{width:100%!important;display:flex;align-items:center;justify-content:center}.vendor[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;margin-bottom:0}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}.conclusion[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.supply-caption[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}"]}),a})();const Vo=["container1"],Ko=["screen"],Wo=["canvas"],Xo=["downloadLink"],tr=["callAPIDialog"];let er=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialogRef=e,this.data=n,this.localStorageService=i,this.chartService=r,this.sharedAnalyticsService=s,this.routes=d,this.authService=p,this.reportId="",this.portersModules=[]}ngOnInit(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.portersModules=this.data,this.htmlElement=this.element.nativeElement,this.chartService.setup(this.htmlElement),this.chartService.populate(this.portersModules),this.reportId=e._id,window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}generateImage(){if(console.log(45),!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(yt.f),t.Y36(z.g),t.Y36(k.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters-radar-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Vo,5),t.Gf(Ko,5),t.Gf(Wo,5),t.Gf(Xo,5),t.Gf(tr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.element=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:31,vars:3,consts:[[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"year-container"],[1,"row"],[1,"container"],["container1",""],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1)(6,"div",3),t.TgZ(7,"div",4)(8,"div",5)(9,"i",6),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(10,"i",7),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(11,"mat-card-content",8,9)(13,"div",10)(14,"p",11)(15,"span",12),t._uU(16,"Title :"),t.qZA(),t._uU(17),t.qZA(),t._UZ(18,"div",13),t.qZA(),t.TgZ(19,"div",14),t._UZ(20,"div",15,16),t.TgZ(22,"p",17)(23,"span",12),t._uU(24,"Source :"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()(),t.TgZ(26,"div",18),t._UZ(27,"img",null,19)(29,"a",null,20),t.qZA()),2&e&&(t.xp6(17),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[B.dn],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.mat-dialog-container{padding:0!important}.outer-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block}\n"],encapsulation:2}),a})();const nr=["porters"],ir=["canvas"],ar=["downloadLink"];function or(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function rr(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function sr(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function cr(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function lr(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}let It=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialogRef=e,this.data=n,this.localStorageService=i,this.authService=r,this.reportService=s,this.sharedAnalyticsService=d,this.routes=p,this.threatOfNewEntrantsRating=[],this.bargainingPowerOfSuppliersRating=[],this.threatOfSubstitutesRating=[],this.bargainingPowerOfBuyersRating=[],this.segmentRivalryRating=[],this.modulesData=[{bargainingPowerOfBuyersRating:0,bargainingPowerOfSuppliersRating:0,name:"",segmentRivalryRating:0,threatOfNewEntrantsRating:0,threatOfSubstitutesRating:0}],this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.localStorageService.get(P.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(e._id,"MARKET_FACTOR_ANALYSIS").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}getReportDetailsSuccess(e){e.forEach(n=>{"porter"===n.meta_info.section_key&&(this.getPortersDataSuccess(n.meta),n.content&&(this.conclusion=n.content[0].data.content))})}getPortersDataSuccess(e){if(e&&e.data)if(this.result=e.data,this.impact=e.impact,this.result.filter(n=>{let i={name:M.upperFirst(M.toLower(n.name)),type:n.type,rating:n.rating};0!=n.rating&&("Threat of New Entrants"==n.type?this.threatOfNewEntrantsRating.push(i):"Bargaining Power of Suppliers"==n.type?this.bargainingPowerOfSuppliersRating.push(i):"Threat of Substitutes"==n.type?this.threatOfSubstitutesRating.push(i):"Bargaining Power of Buyers"==n.type?this.bargainingPowerOfBuyersRating.push(i):"Segment Rivalry"==n.type&&this.segmentRivalryRating.push(i))}),this.impact&&this.impact.length)this.impact.forEach(n=>{"Threat of New Entrants"==n.name?(this.threats=n.impact,this.modulesData[0].threatOfNewEntrantsRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Suppliers"==n.name?(this.suppliers=n.impact,this.modulesData[0].bargainingPowerOfSuppliersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Threat of Substitutes"==n.name?(this.substitutes=n.impact,this.modulesData[0].threatOfSubstitutesRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Buyers"==n.name?(this.buyers=n.impact,this.modulesData[0].bargainingPowerOfBuyersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Segment Rivalry"==n.name&&(this.segments=n.impact,this.modulesData[0].segmentRivalryRating="high"==n.impact?8:"medium"==n.impact?5:2)});else{let n=0;this.threatOfNewEntrantsRating.forEach(p=>{n+=parseInt(p.rating)}),this.modulesData[0].threatOfNewEntrantsRating=n/this.threatOfNewEntrantsRating.length;let i=0;this.bargainingPowerOfSuppliersRating.forEach(p=>{i+=parseInt(p.rating)}),this.modulesData[0].bargainingPowerOfSuppliersRating=i/this.bargainingPowerOfSuppliersRating.length;let r=0;this.bargainingPowerOfBuyersRating.forEach(p=>{r+=parseInt(p.rating)}),this.modulesData[0].bargainingPowerOfBuyersRating=r/this.bargainingPowerOfBuyersRating.length;let s=0;this.threatOfSubstitutesRating.forEach(p=>{s+=parseInt(p.rating)}),this.modulesData[0].threatOfSubstitutesRating=s/this.threatOfSubstitutesRating.length;let d=0;this.segmentRivalryRating.forEach(p=>{d+=parseInt(p.rating)}),this.modulesData[0].segmentRivalryRating=d/this.segmentRivalryRating.length,this.modulesData[0].name=this.reportName,this.portersModules=this.modulesData,this.threats=this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<=10?this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<8?"medium":"high":"low",this.suppliers=this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<=10?this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<8?"medium":"high":"low",this.segments=this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<=10?this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<8?"medium":"high":"low",this.buyers=this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<=10?this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<8?"medium":"high":"low",this.substitutes=this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<=10?this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<8?"medium":"high":"low"}}generatePortersImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.porters.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="porters.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(A.e),t.Y36(I.r),t.Y36(z.g),t.Y36(k.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters5-diagram"]],viewQuery:function(e,n){if(1&e&&(t.Gf(nr,5),t.Gf(ir,5),t.Gf(ar,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.porters=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:63,vars:22,consts:[[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-6"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[2,"padding","10px 20px"],["porters",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"porters","porters-50"],[1,"flexer","wrapper"],[1,"block",3,"ngClass"],[1,"h6"],[1,"ul"],[4,"ngFor","ngForOf"],[1,"triangle-down",3,"ngClass"],[1,"porters","middle"],[1,"flexer"],[1,"block-v",3,"ngClass"],[1,"triangle-left",3,"ngClass"],[1,"block-o",3,"ngClass"],[1,"block-in"],[1,"triangle-right",3,"ngClass"],[1,"triangle-up",3,"ngClass"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1),t.TgZ(6,"div",3)(7,"div",4)(8,"i",5),t.NdJ("click",function(){return n.generatePortersImage()}),t.qZA(),t.TgZ(9,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(10,"div",7,8)(12,"div",9)(13,"p",10)(14,"span",11),t._uU(15,"Title :"),t.qZA(),t._uU(16),t.qZA()(),t.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),t._uU(21),t.qZA(),t.TgZ(22,"ul",16),t.YNc(23,or,2,1,"li",17),t.qZA()(),t._UZ(24,"div",18),t.qZA()(),t.TgZ(25,"div",19)(26,"div",20)(27,"div",21)(28,"h6",15),t._uU(29),t.qZA(),t.TgZ(30,"ul",16),t.YNc(31,rr,2,1,"li",17),t.qZA()(),t._UZ(32,"div",22),t.qZA(),t.TgZ(33,"div",23)(34,"div",24)(35,"h6",15),t._uU(36),t.qZA(),t.TgZ(37,"ul",16),t.YNc(38,sr,2,1,"li",17),t.qZA()()(),t.TgZ(39,"div",20),t._UZ(40,"div",25),t.TgZ(41,"div",21)(42,"h6",15),t._uU(43),t.qZA(),t.TgZ(44,"ul",16),t.YNc(45,cr,2,1,"li",17),t.qZA()()()(),t.TgZ(46,"div",12)(47,"div",13),t._UZ(48,"div",26),t.TgZ(49,"div",14)(50,"h6",15),t._uU(51),t.qZA(),t.TgZ(52,"ul",16),t.YNc(53,lr,2,1,"li",17),t.qZA()()()(),t.TgZ(54,"p",27)(55,"span",11),t._uU(56,"Source :"),t.qZA(),t._uU(57,"Wantstats "),t.qZA()(),t.TgZ(58,"div",28),t._UZ(59,"img",null,29)(61,"a",null,30),t.qZA()),2&e&&(t.xp6(16),t.lnq("Porter's 5 Forces, ",n.reportName," Market, [",n.startYear," - ",n.endYear,"]"),t.xp6(3),t.Q6J("ngClass","low"===n.threats?"green":"medium"===n.threats?"grey":"high"===n.threats?"red":""),t.xp6(2),t.hij("Threat of New Entrants (",n.threats,")"),t.xp6(2),t.Q6J("ngForOf",n.threatOfNewEntrantsRating),t.xp6(1),t.Q6J("ngClass","low"===n.threats?"t-down-green":"medium"===n.threats?"t-down-grey":"high"===n.threats?"t-down-red":""),t.xp6(3),t.Q6J("ngClass","low"===n.suppliers?"green":"medium"===n.suppliers?"grey":"high"===n.suppliers?"red":""),t.xp6(2),t.hij("Bargaining Power of Suppliers (",n.suppliers,")"),t.xp6(2),t.Q6J("ngForOf",n.bargainingPowerOfSuppliersRating),t.xp6(1),t.Q6J("ngClass","low"===n.suppliers?"t-left-green":"medium"===n.suppliers?"t-left-grey":"high"===n.suppliers?"t-left-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.segments?"green":"medium"===n.segments?"grey":"high"===n.segments?"red":""),t.xp6(3),t.hij("Segment Rivalry (",n.segments,")"),t.xp6(2),t.Q6J("ngForOf",n.segmentRivalryRating),t.xp6(2),t.Q6J("ngClass","low"===n.buyers?"t-right-green":"medium"===n.buyers?"t-right-grey":"high"===n.buyers?"t-right-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.buyers?"green":"medium"===n.buyers?"grey":"high"===n.buyers?"red":""),t.xp6(2),t.hij("Bargaining Power of Buyers (",n.buyers,")"),t.xp6(2),t.Q6J("ngForOf",n.bargainingPowerOfBuyersRating),t.xp6(3),t.Q6J("ngClass","low"===n.substitutes?"t-up-green":"medium"===n.substitutes?"t-up-grey":"high"===n.substitutes?"t-up-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.substitutes?"green":"medium"===n.substitutes?"grey":"high"===n.substitutes?"red":""),t.xp6(2),t.hij("Threat of Substitutes (",n.substitutes,")"),t.xp6(2),t.Q6J("ngForOf",n.threatOfSubstitutesRating))},directives:[O.mk,O.sg],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0}.porters[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.porters[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:60%;height:19vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center;overflow-y:auto}.porters[_ngcontent-%COMP%]   .block-v[_ngcontent-%COMP%]{width:50%;height:20vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center;overflow-y:auto}.porters[_ngcontent-%COMP%]   .block-o[_ngcontent-%COMP%]{width:24%;height:31vh;border-radius:50%;background:transparent;margin:10px 0;display:flex;align-items:center;justify-content:center;overflow:auto}.middle[_ngcontent-%COMP%]{align-items:center;justify-content:center}.triangle-left[_ngcontent-%COMP%]{height:0;width:0;border-left:3vw solid transparent;border-right:0px solid transparent;border-bottom:15vh solid transparent;border-top:15vh solid transparent}.triangle-right[_ngcontent-%COMP%]{height:0;width:0;border-right:3vw solid transparent;border-left:0px solid transparent;border-bottom:15vh solid transparent;border-top:15vh solid transparent}.triangle-down[_ngcontent-%COMP%]{height:0;width:0;border-top:3vw solid transparent;border-bottom:0px solid transparent;border-right:20vh solid transparent;border-left:20vh solid transparent}.triangle-up[_ngcontent-%COMP%]{height:0;width:0;border-bottom:3vw solid transparent;border-top:0px solid transparent;border-right:20vh solid transparent;border-left:20vh solid transparent}.flexer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.porters-50[_ngcontent-%COMP%]{width:30%;margin:auto}.block-in[_ngcontent-%COMP%]{width:80%;height:20vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.h6[_ngcontent-%COMP%]{margin:10px;font-size:10px;font-weight:500;color:#fff;text-align:center;display:flex;align-items:center}.ul[_ngcontent-%COMP%]{padding:0 5px 0 10px;list-style:none;font-size:12px;color:#fff;font-weight:100}.ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px}.green[_ngcontent-%COMP%]{background:green!important}.grey[_ngcontent-%COMP%]{background:gray!important}.t-left-green[_ngcontent-%COMP%]{border-left:3vw solid green!important}.t-left-grey[_ngcontent-%COMP%]{border-left:3vw solid gray!important}.t-left-red[_ngcontent-%COMP%]{border-left:3vw solid red!important}.t-right-green[_ngcontent-%COMP%]{border-right:3vw solid green!important}.t-right-grey[_ngcontent-%COMP%]{border-right:3vw solid gray!important}.t-right-red[_ngcontent-%COMP%]{border-right:3vw solid red!important}.t-down-green[_ngcontent-%COMP%]{border-top:3vw solid green!important}.t-down-grey[_ngcontent-%COMP%]{border-top:3vw solid gray!important}.t-down-red[_ngcontent-%COMP%]{border-top:3vw solid red!important}.t-up-green[_ngcontent-%COMP%]{border-bottom:3vw solid green!important}.t-up-grey[_ngcontent-%COMP%]{border-bottom:3vw solid gray!important}.t-up-red[_ngcontent-%COMP%]{border-bottom:3vw solid red!important}.flexer[_ngcontent-%COMP%]{width:250px}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000001a;border-radius:0}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;box-shadow:inset 0 0 6px #0000001a}"]}),a})();const dr=["screen"],pr=["canvas"],gr=["downloadLink"];let hr=(()=>{class a{constructor(e,n,i,r){this.dialogRef=e,this.data=n,this.localStorageService=i,this.authService=r,this.finalObject=[]}ngOnInit(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.types=this.data.types,this.data&&(this.sectionName=this.data[0].name),this.generateTrees(),document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}generateTrees(){if(this.cnt=0,0==this.cnt){let e=this.data.length;this.cnt=(this.cnt+1+e)%e,this.renderTree(this.data[this.cnt]),this.showYear=this.data[this.cnt].year,this.cnt++,this.cnt>0&&N.interval(()=>{this.data.length>0&&(this.cnt=(this.cnt+1+e)%e,N.select("#driver-container1 svg").remove(),this.renderTree(this.data[this.cnt]),this.showYear=this.data[this.cnt].year)},1e3)}}renderTree(e){var f,s=N.select("#driver-container1").append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),d=0,g=N.tree().size([245,300]);(f=N.hierarchy(e,function(h){return h.children})).x0=122.5,f.y0=0,function u(h){var v=g(f),b=v.descendants(),R=v.descendants().slice(1),D=s.selectAll("g.node").data(b,function(l){return l.id||(l.id=++d)}),Y=D.enter().append("g").attr("class","node").attr("transform",function(l){return"translate("+h.y0+","+h.x0+")"});Y.append("image").attr("href",function(l){return l.children||l._children?1==l.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(l){return l._children?"lightsteelblue":"#fff"}).style("color","#000"),Y.append("text").attr("x",function(l){return 10}).attr("dy",function(l){return l.children||l._children?"-1em":"0.5em"}).attr("text-anchor",function(l){return l.children||l._children?"middle":"start"}).text(function(l){return l.depth>0?l.data.rating>=4&&l.data.rating<=10?l.data.rating>=4&&l.data.rating<=7?l.data.name+" ( medium )":l.data.name+" ( high )":l.depth>0?l.data.name+" ( low )":l.data.name:l.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(l){return l.data.percent>=70?"bold":"normal"});var q=Y.merge(D);q.attr("transform",function(l){return"translate("+l.y+","+l.x+")"}),q.select("image").attr("href",function(l){return l.children||l._children?l.data.rating>0?"../../assets/images/"+l.data.rating+".png":1==l.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),q.select("text").style("fill-opacity",1);var Q=D.exit().attr("transform",function(l){return"translate("+h.y+","+h.x+")"}).remove();Q.select("circle").attr("r",1e-6),Q.select("text").style("fill-opacity",1e-6);var J=s.selectAll("path.link").data(R,function(l){return l.id});function G(l,c){return`M ${l.y} ${l.x}\n            C ${(l.y+c.y)/2} ${l.x},\n              ${(l.y+c.y)/2} ${c.x},\n              ${c.y} ${c.x}`}J.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(l){return.5*l.data.rating+"px"}).attr("stroke",function(l){return l.data.rating>=4&&l.data.rating<=10?l.data.rating>=4&&l.data.rating<8?"#999":"red":"green"}).attr("d",function(l){var c={x:h.x0,y:h.y0};return G(c,c)}).merge(J).attr("d",function(l){return G(l,l.parent)}),J.exit().attr("d",function(l){var c={x:h.x,y:h.y};return G(c,c)}).remove(),b.forEach(function(l){l.x0=l.x,l.y0=l.y})}(f)}doClose(){this.data=[],N.select("#driver-container1").selectAll("svg").remove(),this.dialogRef.close()}clickout(){this.data=[]}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(dr,5),t.Gf(pr,5),t.Gf(gr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.clickout()},!1,t.evT)},decls:29,vars:4,consts:[[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"row"],["id","driver-container1"],[2,"width","100%"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",2),t.TgZ(6,"div",3)(7,"div",4)(8,"i",5),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(9,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(10,"mat-card-content",7,8)(12,"div",9)(13,"p",10)(14,"span",11),t._uU(15,"Title :"),t.qZA(),t._uU(16),t.qZA()(),t.TgZ(17,"div",12),t._UZ(18,"div",13),t.TgZ(19,"div",14)(20,"p",15)(21,"span",11),t._uU(22,"Source :"),t.qZA(),t._uU(23,"Wantstats "),t.qZA()()()()(),t.TgZ(24,"div",16),t._UZ(25,"img",null,17)(27,"a",null,18),t.qZA()),2&e&&(t.xp6(16),t.HOy("",n.sectionName,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[B.dn],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0!important}"]}),a})();const mr=["screen"],ur=["canvas"],_r=["downloadLink"],fr=["callAPIDialog"];let vr=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.portersApiService=n,this.routes=i,this.authService=r,this.reportService=s,this.reportSectionService=d,this.localStorageService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.treeArray=[{name:"",children:[],id:""}],this.cnt=0}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(n=>{this.getReportDetailsSuccess(n)})}getReportDetailsSuccess(e){e.forEach(n=>{"porter"===n.meta_info.section_key&&this.getPortersDataSuccess(n.meta.data)})}getPortersDataSuccess(e){this.result=e,this.result.filter(n=>{n.type==this.dataType&&this.treeArray&&(this.treeArray[0].name=this.dataType,0!=n.rating&&this.treeArray[0].children.push(n))}),this.renderChart()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()})}renderChart(){if(0==this.cnt&&(this.cnt=(this.cnt+1+this.treeArray.length)%this.treeArray.length,this.renderTree(this.treeArray[this.cnt]),this.showYear=this.treeArray[this.cnt],this.cnt++,this.cnt>0)){this.cnt=(this.cnt+1+this.treeArray.length)%this.treeArray.length;const e="#driver-container-"+this.chartId+" svg";this.treeArray[0].id=e,N.select(e).remove(),this.renderTree(this.treeArray[this.cnt]),this.showYear=this.treeArray[this.cnt]}}renderTree(e){var g,d=N.select("#driver-container-"+this.chartId).append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),p=0,m=N.tree().size([245,300]);(g=N.hierarchy(e,function(v){return v.children})).x0=122.5,g.y0=0,function h(v){var b=m(g),R=b.descendants(),D=b.descendants().slice(1),Y=d.selectAll("g.node").data(R,function(_){return _.id||(_.id=++p)}),q=Y.enter().append("g").attr("class","node").attr("transform",function(_){return"translate("+v.y0+","+v.x0+")"});q.append("image").attr("href",function(_){return _.children||_._children?1==_.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(_){return _._children?"lightsteelblue":"#fff"}).style("color","#000"),q.append("text").attr("x",function(_){return 10}).attr("dy",function(_){return _.children||_._children?"-1em":"0.5em"}).attr("text-anchor",function(_){return _.children||_._children?"middle":"start"}).text(function(_){return _.depth>0?_.data.rating>=4&&_.data.rating<=10?_.data.rating>=4&&_.data.rating<=7?_.data.name+" ( medium )":_.data.name+" ( high )":_.depth>0?_.data.name+" ( low )":_.data.name:_.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(_){return _.data.percent>=70?"bold":"normal"}).call(function c(_,E){_.each(function(){for(var W,et=N.select(this),lt=et.text().split(/\s+/).reverse(),ot=[],Mt=0,pt=et.attr("y"),rt=parseFloat(et.attr("dy")),xt=et.text(null).append("tspan").attr("x",0).attr("y",pt).attr("dy",rt+"em");W=lt.pop();)ot.push(W),xt.text(ot.join(" ")),xt.node().getComputedTextLength()>E&&(ot.pop(),xt.text(ot.join(" ")),ot=[W],xt=et.append("tspan").attr("x",0).attr("y",pt).attr("dy",1*++Mt+rt+"em").text(W))})},380);var Q=q.merge(Y);Q.attr("transform",function(_){return"translate("+_.y+","+_.x+")"}),Q.select("image").attr("href",function(_){return _.children||_._children?_.data.rating>0?"../../assets/images/"+_.data.rating+".png":1==_.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),Q.select("text").style("fill-opacity",1);var J=Y.exit().attr("transform",function(_){return"translate("+v.y+","+v.x+")"}).remove();J.select("circle").attr("r",1e-6),J.select("text").style("fill-opacity",1e-6);var F=d.selectAll("path.link").data(D,function(_){return _.id});function V(_,E){return`M ${_.y} ${_.x}\n        C ${(_.y+E.y)/2} ${_.x},\n          ${(_.y+E.y)/2} ${E.x},\n          ${E.y} ${E.x}`}F.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(_){return.5*_.data.rating+"px"}).attr("stroke",function(_){return _.data.rating>=4&&_.data.rating<=10?_.data.rating>=4&&_.data.rating<8?"#999":"red":"green"}).attr("d",function(_){var E={x:v.x0,y:v.y0};return V(E,E)}).merge(F).attr("d",function(_){return V(_,_.parent)}),F.exit().attr("d",function(_){var E={x:v.x,y:v.y};return V(E,E)}).remove(),R.forEach(function(_){_.x0=_.x,_.y0=_.y})}(g)}openDroctDialog(){this.dialog.open(hr,{width:"99%",data:this.treeArray,disableClose:!1})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(bt),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porter-driver"]],viewQuery:function(e,n){if(1&e&&(t.Gf(mr,5),t.Gf(ur,5),t.Gf(_r,5),t.Gf(fr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},inputs:{dataType:"dataType",chartId:"chartId"},decls:22,vars:5,consts:[[1,"float-l-width","header-background"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[3,"id"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"i",2),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(3,"i",3),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(4,"div",4,5)(6,"div",6)(7,"p",7)(8,"span",8),t._uU(9,"Title :"),t.qZA(),t._uU(10),t.qZA()(),t.TgZ(11,"div"),t._UZ(12,"div",9),t.TgZ(13,"p",10)(14,"span",8),t._uU(15,"Source :"),t.qZA(),t._uU(16,"Wantstats "),t.qZA()()(),t.TgZ(17,"div",11),t._UZ(18,"img",null,12)(20,"a",null,13),t.qZA()),2&e&&(t.xp6(10),t.HOy("",n.treeArray[0].name,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(2),t.s9C("id","driver-container-"+n.chartId))},styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}"]}),a})();const Cr=["container"],xr=["screen"],wr=["porters"],yr=["canvas"],br=["downloadLink"],Mr=["callAPIDialog"];function Or(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",45),t._uU(2),t.qZA(),t._UZ(3,"app-porter-driver",46),t.qZA()),2&a){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("dataType",e.name)("chartId",e.id)}}function Pr(a,o){if(1&a&&(t.TgZ(0,"div")(1,"p",45),t._uU(2,"Conclusion"),t.qZA(),t._UZ(3,"p",47),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("innerHTML",e.conclusion,t.oJD)}}const Tr=function(){return{orderType:"porter"}};let kr=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g,m,u){this.chartService=e,this.portersApiService=n,this.routes=i,this.authService=r,this.dialog=s,this.reportService=d,this.reportSectionService=p,this.spinner=f,this.localStorageService=g,this.sharedAnalyticsService=m,this.activateRoutes=u,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.conclusion="",this.portersModules=[],this.data=[{id:"1",name:"Threat of New Entrants",children:[]},{id:"2",name:"Bargaining Power of Suppliers",children:[]},{id:"3",name:"Threat of Substitutes",children:[]},{id:"4",name:"Bargaining Power of Buyers",children:[]},{id:"5",name:"Segment Rivalry",children:[]}],this.bargainingPowerOfBuyersRating=[],this.bargainingPowerOfSuppliersRating=[],this.segmentRivalryRating=[],this.threatOfNewEntrantsRating=[],this.threatOfSubstitutesRating=[],this.modulesData=[{bargainingPowerOfBuyersRating:0,bargainingPowerOfSuppliersRating:0,name:"",segmentRivalryRating:0,threatOfNewEntrantsRating:0,threatOfSubstitutesRating:0}],this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.permissions=this.authService.getUserPermissions(),this.spinner.show()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Porters"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}let i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){let r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let s=0;s<i[0].data.length&&s<2;s++)r.data.push(i[0].data[s])}this.reportConnectData=r}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}getReportDetailsSuccess(e){e&&e.forEach(n=>{"porter"===n.meta_info.section_key&&(this.getPortersDataSuccess(n.meta),n.content&&(this.conclusion=n.content[0].data.content))}),this.spinner.hide()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Porter's 5 Forces, "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}generatePortersImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.porters.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Porter's 5 Forces, "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}ngOnInit(){this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getPortersDataSuccess(e){if(e&&e.data){if(this.result=e.data,e.impact&&(this.impact=e.impact),this.result.filter(n=>{0!=n.rating&&("Threat of New Entrants"==n.type?this.threatOfNewEntrantsRating.push(n):"Bargaining Power of Suppliers"==n.type?this.bargainingPowerOfSuppliersRating.push(n):"Threat of Substitutes"==n.type?this.threatOfSubstitutesRating.push(n):"Bargaining Power of Buyers"==n.type?this.bargainingPowerOfBuyersRating.push(n):"Segment Rivalry"==n.type&&this.segmentRivalryRating.push(n))}),this.impact&&this.impact.length)this.impact.forEach(n=>{"Threat of New Entrants"==n.name?(this.threats=n.impact,this.modulesData[0].threatOfNewEntrantsRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Suppliers"==n.name?(this.suppliers=n.impact,this.modulesData[0].bargainingPowerOfSuppliersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Threat of Substitutes"==n.name?(this.substitutes=n.impact,this.modulesData[0].threatOfSubstitutesRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Buyers"==n.name?(this.buyers=n.impact,this.modulesData[0].bargainingPowerOfBuyersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Segment Rivalry"==n.name&&(this.segments=n.impact,this.modulesData[0].segmentRivalryRating="high"==n.impact?8:"medium"==n.impact?5:2)});else{let n=0;this.threatOfNewEntrantsRating.forEach(p=>{n+=parseInt(p.rating)}),this.modulesData[0].threatOfNewEntrantsRating=n/this.threatOfNewEntrantsRating.length;let i=0;this.bargainingPowerOfSuppliersRating.forEach(p=>{i+=parseInt(p.rating)}),this.modulesData[0].bargainingPowerOfSuppliersRating=i/this.bargainingPowerOfSuppliersRating.length;let r=0;this.bargainingPowerOfBuyersRating.forEach(p=>{r+=parseInt(p.rating)}),this.modulesData[0].bargainingPowerOfBuyersRating=r/this.bargainingPowerOfBuyersRating.length;let s=0;this.threatOfSubstitutesRating.forEach(p=>{s+=parseInt(p.rating)}),this.modulesData[0].threatOfSubstitutesRating=s/this.threatOfSubstitutesRating.length;let d=0;this.segmentRivalryRating.forEach(p=>{d+=parseInt(p.rating)}),this.modulesData[0].segmentRivalryRating=d/this.segmentRivalryRating.length,this.threats=this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<=10?this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<8?"medium":"high":"low",this.suppliers=this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<=10?this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<8?"medium":"high":"low",this.segments=this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<=10?this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<8?"medium":"high":"low",this.buyers=this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<=10?this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<8?"medium":"high":"low",this.substitutes=this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<=10?this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<8?"medium":"high":"low"}this.modulesData[0].name=this.reportName,this.portersModules=this.modulesData,this.htmlElement=this.element.nativeElement,this.chartService.setup(this.htmlElement),this.chartService.populate(this.portersModules)}}openDroctDialog(){this.dialog.open(er,{width:"99%",data:this.modulesData,disableClose:!1}).afterClosed().subscribe(n=>{})}openPortersDiagramDialog(){this.dialog.open(It,{width:"99%",data:"",disableClose:!1}).afterClosed().subscribe(n=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(yt.f),t.Y36(bt),t.Y36(k.F0),t.Y36(A.e),t.Y36(S.uw),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n),t.Y36(z.g),t.Y36(k.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters-forces-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Cr,5),t.Gf(xr,5),t.Gf(wr,5),t.Gf(yr,5),t.Gf(br,5),t.Gf(Mr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.element=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.porters=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:86,vars:27,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row"],[1,"col-9","m8"],[1,"down-header"],[1,"top-div"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"outer-year-conatiner","float-l-width",2,"height","370px","width","468px"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"height","350px"],[1,"container-fluid"],["container",""],[1,"mat-caption"],[1,"sec-div"],[1,"outer-year-conatiner","float-l-width",2,"height","370px"],["porters",""],[1,"porters","porters-50"],[1,"flexer","wrapper"],[1,"block",3,"ngClass"],[1,"h6"],[1,"triangle-down",3,"ngClass"],[1,"porters","middle"],[1,"flexer"],[1,"block-v",3,"ngClass"],[1,"triangle-left",3,"ngClass"],[1,"block-o",3,"ngClass"],[1,"block-in"],[1,"triangle-right",3,"ngClass"],[1,"triangle-up",3,"ngClass"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"accordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3"],[3,"suggestion"],[1,"mat-head"],[3,"dataType","chartId"],[1,"content-p",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div")(8,"div",6)(9,"div",7)(10,"a",8),t.NdJ("click",function(){return n.analyze()}),t._uU(11,"Analyze"),t.qZA()(),t.TgZ(12,"div",9)(13,"i",10),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(14,"i",11),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(15,"div",12,13)(17,"div",14)(18,"p",15)(19,"span",16),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()(),t.TgZ(22,"div",17),t._UZ(23,"div",18,19),t.TgZ(25,"p",20)(26,"span",16),t._uU(27,"Source\xa0:\xa0"),t.qZA(),t._uU(28,"Wantstats "),t.qZA()()()(),t.TgZ(29,"div",21)(30,"div",6)(31,"div",7)(32,"a",8),t.NdJ("click",function(){return n.analyze()}),t._uU(33,"Analyze"),t.qZA()(),t.TgZ(34,"div",9)(35,"i",10),t.NdJ("click",function(){return n.generatePortersImage()}),t.qZA(),t.TgZ(36,"i",11),t.NdJ("click",function(){return n.openPortersDiagramDialog()}),t.qZA()()(),t.TgZ(37,"div",22,23)(39,"div",14)(40,"p",15)(41,"span",16),t._uU(42,"Title\xa0:\xa0"),t.qZA(),t._uU(43),t.qZA()(),t.TgZ(44,"div",24)(45,"div",25)(46,"div",26)(47,"div",27),t._uU(48),t.qZA()(),t._UZ(49,"div",28),t.qZA()(),t.TgZ(50,"div",29)(51,"div",30)(52,"div",31)(53,"h6",27),t._uU(54),t.qZA()(),t._UZ(55,"div",32),t.qZA(),t.TgZ(56,"div",33)(57,"div",34)(58,"h6",27),t._uU(59),t.qZA()()(),t.TgZ(60,"div",30),t._UZ(61,"div",35),t.TgZ(62,"div",31)(63,"h6",27),t._uU(64),t.qZA()()()(),t.TgZ(65,"div",24)(66,"div",25),t._UZ(67,"div",36),t.TgZ(68,"div",26)(69,"h6",27),t._uU(70),t.qZA()()()(),t.TgZ(71,"div")(72,"p",20)(73,"span",16),t._uU(74,"Source\xa0:\xa0"),t.qZA(),t._uU(75,"Wantstats "),t.qZA()()()()(),t.TgZ(76,"div",37),t._UZ(77,"img",null,38)(79,"a",null,39),t.qZA(),t.TgZ(81,"div",40),t.YNc(82,Or,4,3,"div",41),t.YNc(83,Pr,4,1,"div",42),t.qZA()(),t.TgZ(84,"div",43),t._UZ(85,"app-hardcoded-suggestions",44),t.qZA()()()()),2&e&&(t.xp6(5),t.lnq(" Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"] "),t.xp6(16),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(22),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(3),t.Q6J("ngClass","low"===n.threats?"green":"medium"===n.threats?"grey":"high"===n.threats?"red":""),t.xp6(2),t.hij("Threat of New Entrants (",n.threats,")"),t.xp6(1),t.Q6J("ngClass","low"===n.threats?"t-down-green":"medium"===n.threats?"t-down-grey":"high"===n.threats?"t-down-red":""),t.xp6(3),t.Q6J("ngClass","low"===n.suppliers?"green":"medium"===n.suppliers?"grey":"high"===n.suppliers?"red":""),t.xp6(2),t.hij("Bargaining Power of Suppliers (",n.suppliers,")"),t.xp6(1),t.Q6J("ngClass","low"===n.suppliers?"t-left-green":"medium"===n.suppliers?"t-left-grey":"high"===n.suppliers?"t-left-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.segments?"green":"medium"===n.segments?"grey":"high"===n.segments?"red":""),t.xp6(3),t.hij("Segment Rivalry (",n.segments,")"),t.xp6(2),t.Q6J("ngClass","low"===n.buyers?"t-right-green":"medium"===n.buyers?"t-right-grey":"high"===n.buyers?"t-right-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.buyers?"green":"medium"===n.buyers?"grey":"high"===n.buyers?"red":""),t.xp6(2),t.hij("Bargaining Power of Buyers (",n.buyers,")"),t.xp6(3),t.Q6J("ngClass","low"===n.substitutes?"t-up-green":"medium"===n.substitutes?"t-up-grey":"high"===n.substitutes?"t-up-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.substitutes?"green":"medium"===n.substitutes?"grey":"high"===n.substitutes?"red":""),t.xp6(2),t.hij("Threat of Substitutes (",n.substitutes,")"),t.xp6(12),t.Q6J("ngForOf",n.data),t.xp6(1),t.Q6J("ngIf",n.conclusion),t.xp6(2),t.Q6J("suggestion",t.DdM(26,Tr)))},directives:[O.mk,O.sg,vr,O.O5,K],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.desc{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.align-center{color:#0000008a;align-items:center}.source{font-size:11px}.mat-head{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.center{text-align:center}foreignObject>div>span{margin:.25rem!important;text-align:justified!important}foreignObject>div>span i{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid .edgeLabel{background-color:#fff;text-align:left;opacity:1!important}.mermaid .label{padding:1rem .25rem!important}foreignObject>div,circle{padding:-10% 0!important}svg{overflow:auto!important;margin-left:auto;margin-right:auto}.vendor{font-size:14px;font-weight:500;color:#333}.mat-expansion-panel-spacing{margin:16px 0!important}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.mat-expansion-panel-header,.mat-expansion-panel-body{padding:0!important}:host,:host .container{width:100%;display:block}svg{margin:0 auto;display:block}.axis text.label{font-size:12px;font-weight:700}.company-tooltip{position:absolute;width:270px;padding:5px;font-size:.8rem;background:#cccccc;border:1px solid;border-radius:5px;pointer-events:none;color:#373a3c}.company-tooltip h3{font-size:.7rem;margin-bottom:.2rem}.company-tooltip .overall{font-style:italic;margin-bottom:.5rem}.company-tooltip .rating{font-size:.7rem}.outer-year-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block}.container-title{display:block;margin-top:16px;margin-bottom:0}.mat-card-content{margin-bottom:0}.conclusion,.conclusion p,b{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.conclusion p,b{font-weight:500}.porters{width:100%;display:flex;justify-content:center}.porters .block{width:48%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-v{width:60%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-o{width:50%;height:12vh;border-radius:50%;background:transparent;margin:10px;display:flex;align-items:center;justify-content:center}.middle{align-items:center;justify-content:center}.triangle-left{height:0;width:0;border-left:1vw solid transparent;border-right:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-right{height:0;width:0;border-right:1vw solid transparent;border-left:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-down{height:0;width:0;border-top:1vw solid transparent;border-bottom:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.triangle-up{height:0;width:0;border-bottom:1vw solid transparent;border-top:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.flexer{display:flex;align-items:center;justify-content:center}.wrapper{flex-wrap:wrap;justify-content:center}.porters-50{width:40%;margin:auto}.block-in{width:80px;height:80px;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.h6{margin:10px;font-size:9px;font-weight:400;color:#fff;text-align:center;display:flex;align-items:center}.ul{padding:0 5px 0 10px;list-style:none;font-size:14px;color:#fff;font-weight:100}.red{background:red!important}.green{background:green!important}.grey{background:gray!important}.t-left-green{border-left:1vw solid green!important}.t-left-grey{border-left:1vw solid gray!important}.t-left-red{border-left:1vw solid red!important}.t-right-green{border-right:1vw solid green!important}.t-right-grey{border-right:1vw solid gray!important}.t-right-red{border-right:1vw solid red!important}.t-down-green{border-top:1vw solid green!important}.t-down-grey{border-top:1vw solid gray!important}.t-down-red{border-top:1vw solid red!important}.t-up-green{border-bottom:1vw solid green!important}.t-up-grey{border-bottom:1vw solid gray!important}.t-up-red{border-bottom:1vw solid red!important}.top-div{display:flex}.sec-div{margin-left:10px}@media screen and (min-width: 600px) and (max-width: 1000px){.top-div{display:flex;flex-direction:column}.sec-div{margin-left:0;height:490px;border:1px solid rgba(0,0,0,.3)}.porters .block{width:100%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.outer-year-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block;overflow-y:hidden;overflow-x:auto}}\n"],encapsulation:2}),a})();const Sr=["screenPie"],Dr=["screenBar"],Ar=["screenImg"],Zr=["canvas"],Rr=["downloadLink"];let Er=(()=>{class a{constructor(e,n,i,r,s,d,p){this.authService=e,this.dialog=n,this.routes=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.localStorageService.get(P.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"scope"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Scope of the study, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(A.e),t.Y36(S.uw),t.Y36(k.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-market-study-of-scope"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Sr,5),t.Gf(Dr,5),t.Gf(Ar,5),t.Gf(Zr,5),t.Gf(Rr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[at],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Nr=["screenPie"],Ir=["screenBar"],Lr=["screenImg"],Ur=["canvas"],Yr=["downloadLink"];function qr(a,o){if(1&a&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function Hr(a,o){if(1&a&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Jr(a,o){if(1&a&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Qr(a,o){1&a&&(t.ynx(0,26),t.YNc(1,Hr,2,1,"th",27),t.YNc(2,Jr,2,1,"td",28),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function zr(a,o){1&a&&t._UZ(0,"tr",31)}function Fr(a,o){1&a&&t._UZ(0,"tr",32)}function Gr(a,o){if(1&a&&(t.TgZ(0,"div",18)(1,"p",19)(2,"span",20),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",21),t.YNc(6,Qr,3,1,"ng-container",22),t.YNc(7,zr,1,0,"tr",23),t.YNc(8,Fr,1,0,"tr",24),t.qZA(),t.TgZ(9,"p",25)(10,"span",20),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function Br(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function jr(a,o){if(1&a&&t._UZ(0,"img",46),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function $r(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",39),t.YNc(10,Br,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",41,42)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",43),t.YNc(18,jr,1,1,"img",44),t.qZA(),t.TgZ(19,"p",25)(20,"span",20),t._uU(21,"Source\xa0:\xa0"),t.qZA(),t._uU(22),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Vr(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function Kr(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t.TgZ(9,"i",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(10,Vr,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",41,48)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",49),t.TgZ(18,"p",25)(19,"span",20),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Wr(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function Xr(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",39),t.YNc(10,Wr,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",50,51)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",52)(18,"p",53),t._uU(19),t.qZA(),t._UZ(20,"canvas",54),t.qZA(),t.TgZ(21,"p",19),t._uU(22),t.qZA(),t.TgZ(23,"p",25)(24,"span",20),t._uU(25,"Source\xa0:\xa0"),t.qZA(),t._uU(26),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function ts(a,o){if(1&a&&(t.TgZ(0,"div",12),t.ynx(1,13),t.YNc(2,qr,2,1,"div",14),t.YNc(3,Gr,13,6,"div",15),t.YNc(4,$r,23,4,"div",15),t.YNc(5,Kr,22,10,"div",15),t.YNc(6,Xr,27,11,"div",15),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const es=function(){return{orderType:"driver"}};let st=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.localStorageService=d,this.excelDownloadService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){if(this.permissions=this.authService.getUserPermissions(),window.scroll(0,0),this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;let e=this.overlaps.filter(i=>"Drivers"==i.section_name);if(e.length){let i={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){i.section=e[0].section_name;for(let r=0;r<e[0].data.length&&r<2;r++)i.data.push(e[0].data[r])}this.interConnectData=i}let n=this.overlaps.filter(i=>"Report"==i.section_name);if(n.length){let i={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){i.section=n[0].section_name;for(let r=0;r<n[0].data.length&&r<2;r++)i.data.push(n[0].data[r])}this.reportConnectData=i}}}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(Z.n),t.Y36(X.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-secondary-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Nr,5),t.Gf(Ir,5),t.Gf(Lr,5),t.Gf(Ur,5),t.Gf(Yr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{secondaryOutputModel:"secondaryOutputModel"},decls:17,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p container-fluid",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"content-p","container-fluid"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,ts,7,6,"div",6),t.qZA()(),t._UZ(9,"div"),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(12,"div",9),t._UZ(13,"img",null,10)(15,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("",null==n.secondaryOutputModel?null:n.secondaryOutputModel.heading,", Competitive Landscape, ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.reportName," Market [",null==n.secondaryOutputModel?null:n.secondaryOutputModel.startYear," - ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.endYear,"]"),t.xp6(2),t.Q6J("ngForOf",null==n.secondaryOutputModel?null:n.secondaryOutputModel.mainData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,es)))},directives:[O.sg,O.RF,O.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,O.O5,j.jh,K],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:450px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const ns=["screenPie"],is=["screenBar"],as=["screenImg"],os=["canvas"],rs=["downloadLink"];let ss=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"overview"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Competitive Overivew"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-overview"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ns,5),t.Gf(is,5),t.Gf(as,5),t.Gf(os,5),t.Gf(rs,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[st],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const cs=["screenPie"],ls=["screenBar"],ds=["screenImg"],ps=["canvas"],gs=["downloadLink"];let hs=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"marketAnalysis"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market Share/Strategy/Ranking Analysis"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-market-analysis-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(cs,5),t.Gf(ls,5),t.Gf(ds,5),t.Gf(ps,5),t.Gf(gs,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[st],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const ms=["screenPie"],us=["screenBar"],_s=["screenImg"],fs=["canvas"],vs=["downloadLink"];let Cs=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.show()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"devAndGrowthStrategies"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Key Developments And Growth Strategies"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-key-development-strategy-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ms,5),t.Gf(us,5),t.Gf(_s,5),t.Gf(fs,5),t.Gf(vs,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[st],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const xs=["screenPie"],ws=["screenBar"],ys=["screenImg"],bs=["canvas"],Ms=["downloadLink"];let Os=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"newDevelopment"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"New Product/Service Development"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-new-development-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(xs,5),t.Gf(ws,5),t.Gf(ys,5),t.Gf(bs,5),t.Gf(Ms,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[st],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Ps=["screenPie"],Ts=["screenBar"],ks=["screenImg"],Ss=["canvas"],Ds=["downloadLink"];let As=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"mergerAndAquisition"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Merger & Acquisition"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-merger-and-acquisition-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ps,5),t.Gf(Ts,5),t.Gf(ks,5),t.Gf(Ss,5),t.Gf(Ds,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[st],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Zs=["screenPie"],Rs=["screenBar"],Es=["screenImg"],Ns=["canvas"],Is=["downloadLink"];let Ls=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=s,this.spinner=d,this.localStorageService=p,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData(),window.scroll(0,0)}getAPIData(){const e=this.localStorageService.get(P.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.show()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"benchMarking"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Competitive benchmarking"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(k.F0),t.Y36(A.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-benchmarking-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Zs,5),t.Gf(Rs,5),t.Gf(Es,5),t.Gf(Ns,5),t.Gf(Is,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[st],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Us=["screenPie"],Ys=["screenBar"],qs=["screenImg"],Hs=["canvas"],Js=["downloadLink"];function Qs(a,o){if(1&a&&(t.TgZ(0,"div",8),t._UZ(1,"div",9),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function zs(a,o){if(1&a&&(t.TgZ(0,"th",20),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Fs(a,o){if(1&a&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Gs(a,o){1&a&&(t.ynx(0,17),t.YNc(1,zs,2,1,"th",18),t.YNc(2,Fs,2,1,"td",19),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function Bs(a,o){1&a&&t._UZ(0,"tr",22)}function js(a,o){1&a&&t._UZ(0,"tr",23)}function $s(a,o){if(1&a&&(t.TgZ(0,"div")(1,"p",10)(2,"span",11),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",12),t.YNc(6,Gs,3,1,"ng-container",13),t.YNc(7,Bs,1,0,"tr",14),t.YNc(8,js,1,0,"tr",15),t.qZA(),t.TgZ(9,"p",16)(10,"span",11),t._uU(11,"Source :"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function Vs(a,o){if(1&a&&t._UZ(0,"img",36),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function Ks(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().openDialog(i)}),t.qZA()()()(),t.TgZ(11,"div",32,33)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",34),t.YNc(18,Vs,1,1,"img",35),t.qZA(),t.TgZ(19,"p",16)(20,"span",11),t._uU(21,"Source:"),t.qZA(),t._uU(22),t.qZA()()()}if(2&a){const e=t.oxw().$implicit;t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Ws(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().openDialog(i)}),t.qZA()()()(),t.TgZ(11,"div",32,37)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",38),t.TgZ(18,"p",16)(19,"span",11),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Xs(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().openDialog(i)}),t.qZA()()()(),t.TgZ(11,"div",39,40)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",41)(18,"p",42),t._uU(19),t.qZA(),t._UZ(20,"canvas",43),t.qZA(),t.TgZ(21,"p",10),t._uU(22),t.qZA(),t.TgZ(23,"p",16)(24,"span",11),t._uU(25,"Source\xa0:\xa0"),t.qZA(),t._uU(26),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function tc(a,o){if(1&a&&(t.TgZ(0,"div",4),t.ynx(1,5),t.YNc(2,Qs,2,1,"div",6),t.YNc(3,$s,13,6,"div",7),t.YNc(4,Ks,23,3,"div",7),t.YNc(5,Ws,22,9,"div",7),t.YNc(6,Xs,27,10,"div",7),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}let ec=(()=>{class a{constructor(e,n){this.dialog=e,this.authService=n,this.outputData=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions()}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?w(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?w(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&w(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-company-shared"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Us,5),t.Gf(Ys,5),t.Gf(qs,5),t.Gf(Hs,5),t.Gf(Js,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{outputData:"outputData"},decls:6,vars:1,consts:[["class","seprator-div","id","min-div",4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["id","min-div",1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"content-p"],[3,"innerHTML"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["style","margin: 5px 8px !important;","id","min-div","mat-cell","",4,"matCellDef"],["mat-header-cell",""],["id","min-div","mat-cell","",2,"margin","5px 8px !important"],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"responsiveImg",3,"src"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.YNc(0,tc,7,6,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",null,2)(4,"a",null,3),t.qZA()),2&e&&t.Q6J("ngForOf",n.outputData)},directives:[O.sg,O.RF,O.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,O.O5,j.jh],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important;font-size:15px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.seprator-div[_ngcontent-%COMP%]   .TableHeader1[_ngcontent-%COMP%]{padding:5px!important}"]}),a})();const nc=["screen"],ic=["canvas"],ac=["downloadLink"];function oc(a,o){if(1&a&&(t.TgZ(0,"div",15),t._UZ(1,"canvas",16),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("datasets",e.chartData)("labels",e.chartLabels)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend)("chartType",e.chartType)}}let rc=(()=>{class a{constructor(e,n,i,r,s,d,p){this.dialogRef=e,this.data=n,this.localStorageService=i,this.authService=r,this.excelDownloadService=s,this.sharedAnalyticsService=d,this.routes=p,this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.dataStore=[],this.chartLabels=[],this.chartData=[],this.render=!1,this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.currentCompany=this.data.cpName,this.renderBarChart(this.data.data),window.scroll(0,0)}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Financial overview",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}renderBarChart(e){this.dataStore=JSON.parse(e.content);const n=this.dataStore.data.dataStore,i=M.pull(M.keys(n[0]),"rowHeader","content"),r=[];i.forEach(g=>{const m={rowHeader:g};n.forEach(u=>{m[u.rowHeader]=u[g]}),r.push(m)}),this.labelX=e.name;const s=this.labelX+"/years";this.colMetaData=[];const d=M.keys(r[0]);this.rowNames=r.map(g=>g.rowHeader),this.colMetaData.push({header:s,name:"rowHeader",type:"text"});for(let g of d)this.colMetaData.push({name:g,header:g,type:"number"}),this.labelY=e.currency+"-"+e.metric;const f=this.colMetaData.map(g=>g.name).filter(g=>"rowHeader"!=g).map(g=>{const m=r.map(u=>u[g]);return{label:g,data:m}});this.chartLabels=this.rowNames,this.chartData=f,this.chartOptions=(0,x.getChartOptions)(this.labelX,this.labelY),this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.render=!0}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="bar chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}downloadExcel(){const e=["year"];this.data.chartData.forEach(i=>{e.push(i.label)}),this.excelDownloadService.generateExcelSheet(e,this.data.excelData,this.data.title,"BAR")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(A.e),t.Y36(X.O),t.Y36(z.g),t.Y36(k.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-company-bar-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(nc,5),t.Gf(ic,5),t.Gf(ac,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:25,vars:5,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[1,"main-swot","float-l-width"],["screen",""],[1,"chart-headers",2,"margin","10px"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],[1,"chart-headers",2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[2,"width","100%","margin-top","10px"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.downloadExcel()}),t.qZA(),t.TgZ(7,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()(),t.TgZ(8,"div",7,8)(10,"mat-card-subtitle",9)(11,"span"),t._uU(12,"Title: "),t.qZA(),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.YNc(15,oc,2,6,"div",10),t.TgZ(16,"mat-card-subtitle",11)(17,"span"),t._uU(18,"Source:"),t.qZA(),t._uU(19," Wantstats "),t.qZA()(),t.TgZ(20,"div",12),t._UZ(21,"img",null,13)(23,"a",null,14),t.qZA()),2&e&&(t.xp6(13),t.AsE("",t.lcZ(14,3,n.currentCompany),", Financial Overview, ",null==n.data?null:n.data.type," "),t.xp6(2),t.Q6J("ngIf",n.render))},directives:[B.$j,O.O5,j.jh],pipes:[O.rS],styles:[".mat-dialog-container{padding:0}"]}),a})();const sc=["screen"],cc=["canvas"],lc=["downloadLink"];function dc(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"/ Company revenue"),t.qZA())}function pc(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"div",19)(2,"div",20)(3,"button",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().onElementSelect(r)}),t._uU(4),t.YNc(5,dc,2,0,"span",22),t.qZA()()()()}if(2&a){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngClass",e==n.selectData?"mat-raised-button clicked-btn":"mat-raised-button"),t.xp6(1),t.Oqu(e),t.xp6(1),t.Q6J("ngIf","By SBU"==e)}}function gc(a,o){1&a&&(t.TgZ(0,"label"),t._uU(1," / Company revenue"),t.qZA())}function hc(a,o){if(1&a&&(t.TgZ(0,"mat-card-subtitle",23)(1,"span"),t._uU(2,"Title\xa0:\xa0"),t.qZA(),t._uU(3),t.YNc(4,gc,2,0,"label",22),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.AsE("",e.currentCompany.company_name,", Financial Overview , ",e.selectData,""),t.xp6(1),t.Q6J("ngIf","By SBU"==e.selectData)}}function mc(a,o){if(1&a&&(t.TgZ(0,"div",24),t._UZ(1,"canvas",25),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("datasets",e.chartData)("labels",e.chartLabels)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend)("chartType",e.chartType)}}function uc(a,o){if(1&a&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.AsE("",n.currentCompany.company_name,", ",e.rowHeader,"")}}function _c(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,uc,2,2,"div",26),t._UZ(2,"p",27),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.content),t.xp6(1),t.Q6J("innerHTML",e.content,t.oJD)}}function fc(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,_c,3,2,"div",22),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.textData.length)}}let vc=(()=>{class a{constructor(e,n,i,r,s,d,p,f,g){this.localStorageService=e,this.companyProfileService=n,this.dialog=i,this.authService=r,this.pptService=s,this.excelDownloadService=d,this.sharedAnalyticsService=p,this.routes=f,this.paramRoute=g,this.bySBU=[],this.contentList=[],this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.chartLabels=[],this.chartData=[],this.render=!1,this.byVertical=[],this.byRegion=[],this.rowNames=[],this.dataStore=[],this.textData=[],this.dialogData=[],this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.getReportDetails()})}downloadPpt(e){this.pptService.downloadPPT({type:"BAR",data:{chartData:e,chartLabels:this.chartLabels,metaDataValue:{title:this.currentCompany.company_name+", Financial Overview, "+this.selectData}}})}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Financial overview",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.companyProfileService.getCompanyAllDetails(this.cmpId,"financial_overview,company_name").subscribe(e=>{e&&(this.generateData(e),this.currentCompany=e,window.scroll(0,0))})}generateData(e){e&&e.financial_overview.length&&(this.contentList=[],e.financial_overview.forEach(n=>{n.content&&JSON.parse(n.content).data&&JSON.parse(n.content).data.dataStore&&JSON.parse(n.content).data.dataStore.length&&("SBU"===n.key?(this.contentList.push("By SBU"),this.bySBU=n):"VERTICAL"===n.key?(this.contentList.push("By vertical"),this.byVertical=n):"REGIONAL"===n.key&&(this.contentList.push("By region"),this.byRegion=n))}),this.selectData=this.contentList[0],this.onElementSelect(this.selectData))}renderBarChart(e){this.dataStore=JSON.parse(e.content);const n=this.dataStore.data.dataStore,i=M.pull(M.keys(n[0]),"rowHeader","content"),r=[];i.forEach(g=>{const m={rowHeader:g};n.forEach(u=>{m[u.rowHeader]=u[g]}),r.push(m)}),this.labelX=e.name;const s=this.labelX+"/years";this.colMetaData=[];const d=M.keys(r[0]);this.rowNames=r.map(g=>g.rowHeader),this.colMetaData.push({header:s,name:"rowHeader",type:"text"});for(let g of d)this.colMetaData.push({name:g,header:g,type:"number"}),this.labelY=e.currency+"-"+e.metric;const f=this.colMetaData.map(g=>g.name).filter(g=>"rowHeader"!=g).map(g=>{const m=r.map(u=>u[g]);return{label:g,data:m}});this.chartLabels=this.rowNames,this.chartData=f,this.chartOptions=(0,x.getChartOptions)(this.labelX,this.labelY),this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.render=!0,this.execelData=r}downloadExcel(){const e=["year"];this.chartData.forEach(i=>{e.push(i.label)}),this.excelDownloadService.generateExcelSheet(e,this.execelData,`${this.currentCompany.company_name}_${this.selectData}`,null)}onElementSelect(e){this.selectData=e,"By SBU"===this.selectData?(this.renderBarChart(this.bySBU),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.bySBU):"By vertical"===this.selectData?(this.renderBarChart(this.byVertical),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.byVertical):"By region"===this.selectData&&(this.renderBarChart(this.byRegion),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.byRegion)}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="bar chart.png",this.downloadLink.nativeElement.click()})}openDialog(){this.dialog.open(rc,{width:"99%",data:{data:this.dialogData,chartData:this.chartData,excelData:this.execelData,cpName:this.currentCompany.company_name,type:this.selectData,title:`${this.currentCompany.company_name}_${this.selectData}`},disableClose:!1}).afterClosed().subscribe(i=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.n),t.Y36(gt.t),t.Y36(S.uw),t.Y36(A.e),t.Y36(_t._),t.Y36(X.O),t.Y36(z.g),t.Y36(k.F0),t.Y36(k.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-financial-overview"]],viewQuery:function(e,n){if(1&e&&(t.Gf(sc,5),t.Gf(cc,5),t.Gf(lc,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:26,vars:4,consts:[[1,"listing"],[4,"ngFor","ngForOf"],[1,"header-background","float-l-width"],[1,"float-l"],["role","button",1,"btn-link","text-white",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["title","full screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"main-swot","main-swot-bar","float-l-width"],["screen",""],["style","margin: 10px","class","chart-headers",4,"ngIf"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],[1,"chart-headers",2,"width","100%","padding","10px"],[2,"margin-top","20px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"row"],[1,"col-6","desc"],["mat-raised-button","","id","i",3,"ngClass","click"],[4,"ngIf"],[1,"chart-headers",2,"margin","10px"],[2,"width","100%","margin-top","10px"],["height","88vh","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["class","down-header",4,"ngIf"],[2,"font-size","14px",3,"innerHTML"],[1,"down-header"]],template:function(e,n){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,pc,6,3,"li",1),t.qZA(),t.TgZ(2,"div",2)(3,"div",3)(4,"a",4),t.NdJ("click",function(){return n.analyze()}),t._uU(5,"Analyze"),t.qZA()(),t.TgZ(6,"div",5)(7,"i",6),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(8,"i",7),t.NdJ("click",function(){return n.downloadPpt(n.chartData)}),t.qZA(),t.TgZ(9,"i",8),t.NdJ("click",function(){return n.downloadExcel()}),t.qZA(),t.TgZ(10,"i",9),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(11,"div",10,11),t.YNc(13,hc,5,3,"mat-card-subtitle",12),t.YNc(14,mc,2,6,"div",13),t.TgZ(15,"mat-card-subtitle",14)(16,"span"),t._uU(17,"Source\xa0:\xa0"),t.qZA(),t._uU(18," Wantstats "),t.qZA()(),t.TgZ(19,"div",15),t.YNc(20,fc,2,1,"div",1),t.qZA(),t.TgZ(21,"div",16),t._UZ(22,"img",null,17)(24,"a",null,18),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.contentList),t.xp6(12),t.Q6J("ngIf",n.currentCompany),t.xp6(1),t.Q6J("ngIf",n.render),t.xp6(6),t.Q6J("ngForOf",n.textData))},directives:[O.sg,O.mk,O.O5,B.$j,j.jh],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}']}),a})();var Cc=T(2828);const xc=["screen"],wc=["canvas"],yc=["downloadLink"];function bc(a,o){if(1&a&&(t.TgZ(0,"mat-card-subtitle",17)(1,"span"),t._uU(2,"Title\xa0:\xa0"),t.qZA(),t._uU(3),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.hij("",e.currentCompany.company_name,", Product/Service offering ")}}let Mc=(()=>{class a{constructor(e,n,i,r,s,d,p){this.localStorageService=e,this.companyProfileService=n,this.dialog=i,this.authService=r,this.sharedAnalyticsService=s,this.routes=d,this.paramRoute=p,this.treeData=[],this.zoom=0,this.reportId="",this.orgData=[],this.flag=0}ngOnInit(){$,$("#chart-container").empty(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId||e.companyId,this.getReportDetails()}),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Product/Services offering",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.companyProfileService.getCompanyAllDetails(this.cmpId,"product_offering,company_name").subscribe(e=>{e&&(this.data=e,this.currentCompany=e,this.orgCharts(),window.scroll(0,0))})}orgCharts(){this.flag=0,this.orgData=[],$("#chart-container").empty();let e=this;var n,i;n=$,i=JSONLoop,n(function(){e.datasource={name:e.currentCompany.company_name,id:"1",parentId:null,relationship:null,level:0},e.data.product_offering.forEach(function(d,p){d.parentId?new i(e.datasource,"id","children").findNodeById(e.datasource,d.parentId,function(g,m){g?(e.flag=1,console.error(g)):(delete d.parentId,m.children?m.children.push(d):m.children=[d])}):(delete d.parentId,Object.assign(e.datasource,d))}),n("#chart-container").orgchart({data:e.datasource,chartClass:"edit-state",zoom:!0,pan:!0,parentNodeSymbol:"fa-th-large",createNode:function(d,p){e.orgData.push(p)}}),e.flag&&e.onSubmitInfo()})}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="product offering.png",this.downloadLink.nativeElement.click()})}openDialog(){this.dialog.open(Cc.d,{width:"99%",data:{datasource:this.datasource,company_name:this.currentCompany.company_name},disableClose:!1}).afterClosed().subscribe(i=>{})}zoomin(){this.zoom=this.zoom+1,this.zoom<=9&&(document.getElementById("chart-container").style.transform=`scale(1.${this.zoom})`)}zoomout(){this.zoom>=0&&(this.zoom=this.zoom-1,document.getElementById("chart-container").style.transform=`scale(1.${this.zoom})`)}onSubmitInfo(){this.orgData.map(e=>{e.children&&delete e.children}),this.companyProfileService.saveCompanyProductOffering(this.currentCompany._id,this.orgData).subscribe(e=>{console.log("Company Produce Offering saved successfully")},e=>{console.error("Error occured while saving Company Produce Offering")})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.n),t.Y36(gt.t),t.Y36(S.uw),t.Y36(A.e),t.Y36(z.g),t.Y36(k.F0),t.Y36(k.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-product-offering"]],viewQuery:function(e,n){if(1&e&&(t.Gf(xc,5),t.Gf(wc,5),t.Gf(yc,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:26,vars:1,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","full screen",1,"btn-icon","fa","fa-expand",3,"click"],["id","zoom",1,"main-swot","main-swot-bar","float-l-width",2,"overflow","auto","height","55vh !important"],["screen",""],["style","margin: 10px","class","chart-headers",4,"ngIf"],[1,"org-container",2,"width","100%","margin-top","10px"],["id","chart-container"],[1,"chart-headers",2,"width","100%","padding","10px"],["title","zoom in",3,"click"],["title","zoom out",3,"click"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"chart-headers",2,"margin","10px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(7,"div",6,7),t.YNc(9,bc,4,1,"mat-card-subtitle",8),t.TgZ(10,"div",9),t._UZ(11,"div",10),t.qZA(),t.TgZ(12,"mat-card-subtitle",11)(13,"span"),t._uU(14,"Source\xa0:\xa0"),t.qZA(),t._uU(15," Wantstats "),t.qZA()(),t.TgZ(16,"div")(17,"button",12),t.NdJ("click",function(){return n.zoomin()}),t._uU(18,"+"),t.qZA(),t.TgZ(19,"button",13),t.NdJ("click",function(){return n.zoomout()}),t._uU(20,"-"),t.qZA()(),t.TgZ(21,"div",14),t._UZ(22,"img",null,15)(24,"a",null,16),t.qZA()),2&e&&(t.xp6(9),t.Q6J("ngIf",n.currentCompany))},directives:[O.O5,B.$j],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}.org-container[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex}#chart-container[_ngcontent-%COMP%]{overflow:initial!important;width:100%!important;height:auto!important}.orgchart[_ngcontent-%COMP%]{transform:matrix(.566231,0,0,.566231,-552,-106)!important;cursor:default!important}  .orgchart .node .leftEdge,   .orgchart .node .rightEdge,   .orgchart .node .topEdge{display:none}  .orgchart{transform:matrix(.954721,0,0,.954721,-30,-40);cursor:default!important;background-image:none;display:flex}  .orgchart .node .title{background:#305497;height:25px!important;display:flex!important;align-items:center!important;padding:0 10px!important;width:auto!important}  .orgchart .node .title i{padding-right:10px}']}),a})();var Oc=T(8340);const Pc=["screen"],Tc=["canvas"],kc=["downloadLink"];function Sc(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Dc(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Ac(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Zc(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}let Rc=(()=>{class a{constructor(e,n,i,r,s,d){this.localStorageService=e,this.dialog=n,this.routes=i,this.sharedAnalyticsService=r,this.paramRoute=s,this.authService=d,this.outputData=[],this.swotData=[],this.reportId=""}ngOnInit(){this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.currentProfile=this.outputData.company_name}),this.outputData&&this.categorizedData(this.outputData),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"SWOT",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}categorizedData(e){e.swot.map(n=>{"STRENGTH"===n.key&&(this.strength=n.value),"WEAKNESS"===n.key&&(this.weakness=n.value),"OPPORTUNITIES"===n.key&&(this.opportunity=n.value),"THREAT"===n.key&&(this.threat=n.value)})}openDialog(){this.dialog.open(Oc.A,{width:"99%",data:this.outputData,disableClose:!1}).afterClosed().subscribe(n=>{})}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();w(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="swot.png",this.downloadLink.nativeElement.click()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.n),t.Y36(S.uw),t.Y36(k.F0),t.Y36(z.g),t.Y36(k.gz),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-swot-analysis"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Pc,5),t.Gf(Tc,5),t.Gf(kc,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{outputData:"outputData"},decls:55,vars:16,consts:[["id","scroll",1,"main-container"],[1,"row"],[1,"col-12","m8"],[1,""],[1,"down-header"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"main-swot","float-l"],["screen",""],[1,"chart-headers",2,"margin","10px"],[1,"swot-container"],[1,"swot","bg1"],[4,"ngFor","ngForOf"],[1,"swot","bg2"],[1,"swot","bg3"],[1,"bg5"],[1,"swot","bg4"],[1,"chart-headers",2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"a",7),t.NdJ("click",function(){return n.analyze()}),t._uU(13,"Analyze"),t.qZA()(),t.TgZ(14,"div",8)(15,"i",9),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(16,"i",10),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(17,"div",11,12)(19,"mat-card-subtitle",13)(20,"span"),t._uU(21,"Title\xa0:\xa0"),t.qZA(),t._uU(22),t.ALo(23,"titlecase"),t.qZA(),t.TgZ(24,"div",14)(25,"div",15)(26,"p"),t._uU(27,"Strength"),t.qZA(),t.TgZ(28,"ul"),t.YNc(29,Sc,2,1,"li",16),t.qZA()(),t.TgZ(30,"div",17)(31,"p"),t._uU(32,"Weakness"),t.qZA(),t.TgZ(33,"ul"),t.YNc(34,Dc,2,1,"li",16),t.qZA()(),t.TgZ(35,"div",18)(36,"p"),t._uU(37,"Opportunity"),t.qZA(),t.TgZ(38,"ul"),t.YNc(39,Ac,2,1,"li",16),t.qZA()(),t._UZ(40,"div",19),t.TgZ(41,"div",20)(42,"p"),t._uU(43,"Threat"),t.qZA(),t.TgZ(44,"ul"),t.YNc(45,Zc,2,1,"li",16),t.qZA()()(),t.TgZ(46,"mat-card-subtitle",21)(47,"span"),t._uU(48,"Source\xa0:\xa0"),t.qZA(),t._uU(49," Wantstats "),t.qZA()()()()()()(),t.TgZ(50,"div",22),t._UZ(51,"img",null,23)(53,"a",null,24),t.qZA()),2&e&&(t.xp6(6),t.lnq("",n.currentReport.title," Market [",n.currentReport.me.start_year," - ",n.currentReport.me.end_year,"] "),t.xp6(2),t.hij(" ",t.lcZ(9,12,n.outputData.company_name),", SWOT Analysis "),t.xp6(14),t.HOy(" ",n.currentReport.title," Market [",n.currentReport.me.start_year," - ",n.currentReport.me.end_year,"], ",t.lcZ(23,14,n.outputData.company_name),", SWOT Analysis "),t.xp6(7),t.Q6J("ngForOf",n.strength),t.xp6(5),t.Q6J("ngForOf",n.weakness),t.xp6(5),t.Q6J("ngForOf",n.opportunity),t.xp6(6),t.Q6J("ngForOf",n.threat))},directives:[B.$j,O.sg],pipes:[O.rS],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}']}),a})();function Ec(a,o){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",16),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().onElementSelect(r)}),t._uU(2),t.qZA(),t.BQk()}if(2&a){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",e==n.selectEle?"mat-raised-button clicked-btn":"mat-raised-button"),t.xp6(1),t.Oqu(e)}}function Nc(a,o){if(1&a&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,null==e.currentCompany?null:e.currentCompany.company_name),", ",e.selectEle," ")}}function Ic(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",17),t._uU(2),t.qZA(),t.YNc(3,Nc,3,4,"div",18),t.qZA()),2&a){const e=t.oxw();t.xp6(2),t.lnq("",e.currentReport.title," Market [",e.currentReport.me.start_year," - ",e.currentReport.me.end_year,"] "),t.xp6(1),t.Q6J("ngIf",e.currentCompany)}}function Lc(a,o){if(1&a&&(t.TgZ(0,"div",19),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.companyOverview)}}function Uc(a,o){1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-financial-overview"),t.qZA())}function Yc(a,o){1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-product-offering"),t.qZA())}function qc(a,o){if(1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.keyDevelopment)}}function Hc(a,o){if(1&a&&(t.TgZ(0,"div",22),t._UZ(1,"app-output-swot-analysis",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.swotData)}}function Jc(a,o){if(1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.strategy)}}const Qc=function(a){return{orderType:"topPlayers",interConnect:a}};function zc(a,o){if(1&a&&t._UZ(0,"app-hardcoded-suggestions",23),2&a){const e=t.oxw();t.Q6J("suggestion",t.VKq(1,Qc,e.interConnectData))}}const Fc=[{path:"market-estimation",component:Ki},{path:"executive-summary",component:zn},{path:"definition",component:ia},{path:"list-of-assumptions",component:ua},{path:"market-structure",component:Ta},{path:"key-takeaways",component:la},{path:"market-insights",component:wa},{path:"me-segments",component:Ao},{path:"me-region",component:so},{path:"driveroutput",component:mi},{path:"droctcontainer",component:qi},{path:"supply-chain-output",component:$o},{path:"porters-forces-output",component:kr},{path:"porter-daigram",component:It},{path:"scope-of-study",component:Er},{path:"competitive-overview",component:ss},{path:"market-share-analysis",component:hs},{path:"key-development-growth-strategies",component:Cs},{path:"new-product-service-development",component:Os},{path:"merger-and-acquisition",component:As},{path:"competitive-benchmarking",component:Ls},{path:"output-company",component:(()=>{class a{constructor(e,n,i,r,s,d,p,f){this.companyProfileService=e,this.localStorageService=n,this.reportSectionService=i,this.spinner=r,this.routes=s,this.paramRoute=d,this.reportService=p,this.secEdgarService=f,this.companyEleList=[],this.topCompanies=[],this.fillingConnectData=[]}ngOnInit(){if(this.currentReport=this.localStorageService.get(P.cc.CURRENT_REPORT),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;const e=this.overlaps.filter(n=>"Report"==n.section_name);if(e.length){const n={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){n.section=e[0].section_name;for(let i=0;i<e[0].data.length&&i<2;i++)n.data.push(e[0].data[i])}this.reportConnectData=n}}this.spinner.show(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.getCompanyDetails(),this.getReportMenuItems(this.currentReport._id)})}getCompanyDetails(){this.spinner.show(),this.companyProfileService.getCompanyAllDetails(this.cmpId,"financial_overview,company_name,product_offering").subscribe(e=>{this.getReportSpecificCPdetails(),this.generateList(e),this.currentCompany=e,window.scroll(0,0),this.spinner.hide()})}onElementSelect(e){this.selectEle=e,window.scroll(0,0)}generateList(e){if(e){const n=e;n.financial_overview&&n.financial_overview.length&&n.financial_overview.forEach(i=>{i&&i.content&&JSON.parse(i.content)&&JSON.parse(i.content).data&&JSON.parse(i.content).data.dataStore&&JSON.parse(i.content).data.dataStore.length&&(this.companyEleList.push("Financial overview"),this.companyEleList=M.uniq(this.companyEleList))}),n.product_offering&&n.product_offering.length>1&&this.companyEleList.push("Product/Service offering")}else this.routes.navigate(["output-company-profile"]);this.selectEle=this.companyEleList[0],this.spinner.hide()}getReportSpecificCPdetails(){this.companyEleList=[],this.reportService.getRportCpData(this.currentReport._id).subscribe(e=>{e.data.cp&&e.data.cp.length&&e.data.cp.forEach(n=>{if(n.company_id===this.cmpId&&n.company_overview&&n.company_overview.length&&(this.companyOverview=this.reportSectionService.convertToReportDataElement(n.company_overview),this.companyEleList.push("Company overview")),n.company_id===this.cmpId&&n.swot_analysis&&n.swot_analysis.length){const i=M.flatMap(n.swot_analysis,"value");i&&i.length&&(this.swotData={swot:n.swot_analysis,company_name:this.currentCompany.company_name},this.companyEleList.push("SWOT analysis"))}n.company_id===this.cmpId&&n.strategy&&n.strategy.length&&(this.strategy=this.reportSectionService.convertToReportDataElement(n.strategy),this.companyEleList.push("Strategy")),n.company_id===this.cmpId&&n.key_development&&n.key_development.length&&(this.keyDevelopment=this.reportSectionService.convertToReportDataElement(n.key_development),this.companyEleList.push("Key development"))}),this.selectEle||(this.selectEle=this.companyEleList[0])})}getReportMenuItems(e){this.reportService.getReportMenuItems(e).subscribe(n=>{n&&n.data&&n.data.finalMenuData&&n.data.finalMenuData.length&&(this.appItems=n.data.finalMenuData,this.appItems.forEach(i=>{"Top Players"==i.label&&i.segmentItems.forEach(r=>{if(r.id!=this.cmpId){const s={_id:r.id,section:"Top Players",name:r.name};this.topCompanies.length<5&&this.topCompanies.push(s)}})}),this.interConnectData={data:this.topCompanies,section:"topPlayers"},this.checkAllTopPlayers(this.topCompanies))})}checkAllTopPlayers(e){e.forEach(n=>{this.secEdgarService.getSearchResult(void 0,"All Forms",n.name,void 0,void 0,1).subscribe(i=>{if(console.log("data",i),i&&!i.error){const r=JSON.parse(i);r.data&&r.data.length&&this.fillingConnectData.push({_id:n._id,name:n.name,section:n.section,sec_data:r})}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(gt.t),t.Y36(Z.n),t.Y36(L.A),t.Y36(U.t2),t.Y36(k.F0),t.Y36(k.gz),t.Y36(I.r),t.Y36(Pt.M))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-companies"]],decls:21,vars:10,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,"tabular-company"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngIf"],["style","padding: 15px 10px",4,"ngSwitchCase"],["style","padding-top: 15px 10px",4,"ngSwitchCase"],["style","padding: 15px",4,"ngSwitchCase"],[1,"col-3"],[3,"suggestion",4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["mat-raised-button","",1,"company-btn-option",3,"ngClass","click"],[1,"down-header"],["class","down-header",4,"ngIf"],[2,"padding","15px 10px"],[3,"outputData"],[2,"padding-top","15px 10px"],[2,"padding","15px"],[3,"suggestion"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,Ec,3,2,"ng-container",5),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,Ic,4,4,"div",7),t.YNc(8,Lc,2,1,"div",8),t.YNc(9,Uc,2,0,"div",9),t.YNc(10,Yc,2,0,"div",9),t.YNc(11,qc,2,1,"div",9),t.YNc(12,Hc,2,1,"div",10),t.YNc(13,Jc,2,1,"div",9),t.qZA()(),t.TgZ(14,"div",11),t.YNc(15,zc,1,3,"app-hardcoded-suggestions",12),t.qZA()()()(),t.TgZ(16,"div",13),t._UZ(17,"img",null,14)(19,"a",null,15),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngForOf",n.companyEleList),t.xp6(1),t.Q6J("ngSwitch",n.selectEle),t.xp6(1),t.Q6J("ngIf","SWOT analysis"!=n.selectEle),t.xp6(1),t.Q6J("ngSwitchCase","Company overview"),t.xp6(1),t.Q6J("ngSwitchCase","Financial overview"),t.xp6(1),t.Q6J("ngSwitchCase","Product/Service offering"),t.xp6(1),t.Q6J("ngSwitchCase","Key development"),t.xp6(1),t.Q6J("ngSwitchCase","SWOT analysis"),t.xp6(1),t.Q6J("ngSwitchCase","Strategy"),t.xp6(2),t.Q6J("ngIf",n.interConnectData))},directives:[O.sg,O.mk,O.RF,O.O5,O.n9,ec,vc,Mc,Rc,K],pipes:[O.rS],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.main-container[_ngcontent-%COMP%]{padding:0}.tabular-company[_ngcontent-%COMP%]   .company-btn-option[_ngcontent-%COMP%]{margin:0 10px 10px 0;font-size:12px}.company-container[_ngcontent-%COMP%]{margin-top:20px}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}"]}),a})()}];let Gc=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[k.Bz.forChild(Fc)],k.Bz]}),a})();var Bc=T(7531),jc=T(7261);let $c=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[O.ez,Gc,B.QW,j.m9,ft.JF,Bc.c,y.p0,jc.ZX,U.ef,St.g0,mt.To]]}),a})()}}]);