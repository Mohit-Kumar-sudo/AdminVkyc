"use strict";(self.webpackChunkwantstats=self.webpackChunkwantstats||[]).push([[850],{9850:(bd,de,O)=>{O.r(de),O.d(de,{ReportLayoutModule:()=>xd});var b=O(9808),S=O(1083),k=O(9614),H=O(4339),C=O(3094),w=O(4168),x=O(4159),M=O(7489),t=O(5e3),D=O(8966),I=O(2820),R=O(3116),L=O(5229),U=O(72),A=O(7675),X=O(5337),Pt=O(3191),Q=O(449),pe=O(7579),Ae=O(2076),Ze=O(1135),Vt=O(8306),he=O(576),ge=O(9646),Mt=O(2722),ue=O(5698),Ne=O(226),Ie=O(925),me=O(8962);const Le=[[["caption"]],[["colgroup"],["col"]]],Ue=["caption","colgroup, col"];function $t(i){return class extends i{constructor(...o){super(...o),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(o){const e=this._sticky;this._sticky=(0,Pt.Ig)(o),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const o=this._hasStickyChanged;return this._hasStickyChanged=!1,o}resetStickyChanged(){this._hasStickyChanged=!1}}}const vt=new t.OlP("CDK_TABLE");let Ct=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkCellDef",""]]}),i})(),wt=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),Rt=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class Fe{}const Je=$t(Fe);let tt=(()=>{class i extends Je{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=(0,Pt.Ig)(e),this._hasStickyChanged=n!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(vt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,n,a){if(1&e&&(t.Suo(a,Ct,5),t.Suo(a,wt,5),t.Suo(a,Rt,5)),2&e){let r;t.iGM(r=t.CRH())&&(n.cell=r.first),t.iGM(r=t.CRH())&&(n.headerCell=r.first),t.iGM(r=t.CRH())&&(n.footerCell=r.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[t._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),t.qOj]}),i})();class Wt{constructor(o,e){e.nativeElement.classList.add(...o._columnCssClassName)}}let Kt=(()=>{class i extends Wt{constructor(e,n){super(e,n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(tt),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[t.qOj]}),i})(),Xt=(()=>{class i extends Wt{constructor(e,n){var a;if(super(e,n),1===(null===(a=e._table)||void 0===a?void 0:a._elementRef.nativeElement.nodeType)){const r=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(tt),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[t.qOj]}),i})();class fe{constructor(){this.tasks=[],this.endTasks=[]}}const te=new t.OlP("_COALESCED_STYLE_SCHEDULER");let ve=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new pe.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fe,this._getScheduleObservable().pipe((0,Mt.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new fe;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ae.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,ue.q)(1))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.R0b))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),ee=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Ot?e.headerCell.template:this instanceof kt?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc),t.Y36(t.ZZ4))},i.\u0275dir=t.lG2({type:i,features:[t.TTD]}),i})();class Be extends ee{}const Ge=$t(Be);let Ot=(()=>{class i extends Ge{constructor(e,n,a){super(e,n),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(vt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[t.qOj,t.TTD]}),i})();class ze extends ee{}const Qe=$t(ze);let kt=(()=>{class i extends Qe{constructor(e,n,a){super(e,n),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(vt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[t.qOj,t.TTD]}),i})(),At=(()=>{class i extends ee{constructor(e,n,a){super(e,n),this._table=a}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(vt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[t.qOj]}),i})(),et=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.mostRecentCellOutlet=null,i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkCellOutlet",""]]}),i})(),ne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},directives:[et],encapsulation:2}),i})(),ae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},directives:[et],encapsulation:2}),i})(),Zt=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc))},i.\u0275dir=t.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const Ce=["top","bottom","left","right"];class je{constructor(o,e,n,a,r=!0,s=!0,c){this._isNativeHtmlTable=o,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=a,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(o,e){const n=[];for(const a of o)if(a.nodeType===a.ELEMENT_NODE){n.push(a);for(let r=0;r<a.children.length;r++)n.push(a.children[r])}this._coalescedStyleScheduler.schedule(()=>{for(const a of n)this._removeStickyStyle(a,e)})}updateStickyColumns(o,e,n,a=!0){if(!o.length||!this._isBrowser||!e.some(g=>g)&&!n.some(g=>g))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=o[0],s=r.children.length,c=this._getCellWidths(r,a),l=this._getStickyStartColumnPositions(c,e),_=this._getStickyEndColumnPositions(c,n),p=e.lastIndexOf(!0),u=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const g="rtl"===this.direction,m=g?"right":"left",v=g?"left":"right";for(const y of o)for(let T=0;T<s;T++){const P=y.children[T];e[T]&&this._addStickyStyle(P,m,l[T],T===p),n[T]&&this._addStickyStyle(P,v,_[T],T===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===p?[]:c.slice(0,p+1).map((y,T)=>e[T]?y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:c.slice(u).map((y,T)=>n[T+u]?y:null).reverse()}))})}stickRows(o,e,n){if(!this._isBrowser)return;const a="bottom"===n?o.slice().reverse():o,r="bottom"===n?e.slice().reverse():e,s=[],c=[],l=[];for(let p=0,u=0;p<a.length;p++){if(!r[p])continue;s[p]=u;const g=a[p];l[p]=this._isNativeHtmlTable?Array.from(g.children):[g];const m=g.getBoundingClientRect().height;u+=m,c[p]=m}const _=r.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var p,u;for(let g=0;g<a.length;g++){if(!r[g])continue;const m=s[g],v=g===_;for(const y of l[g])this._addStickyStyle(y,n,m,v)}"top"===n?null===(p=this._positionListener)||void 0===p||p.stickyHeaderRowsUpdated({sizes:c,offsets:s,elements:l}):null===(u=this._positionListener)||void 0===u||u.stickyFooterRowsUpdated({sizes:c,offsets:s,elements:l})})}updateStickyFooterContainer(o,e){if(!this._isNativeHtmlTable)return;const n=o.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(a=>!a)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(o,e){for(const a of e)o.style[a]="",o.classList.remove(this._borderCellCss[a]);Ce.some(a=>-1===e.indexOf(a)&&o.style[a])?o.style.zIndex=this._getCalculatedZIndex(o):(o.style.zIndex="",this._needsPositionStickyOnElement&&(o.style.position=""),o.classList.remove(this._stickCellCss))}_addStickyStyle(o,e,n,a){o.classList.add(this._stickCellCss),a&&o.classList.add(this._borderCellCss[e]),o.style[e]=`${n}px`,o.style.zIndex=this._getCalculatedZIndex(o),this._needsPositionStickyOnElement&&(o.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(o){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const a of Ce)o.style[a]&&(n+=e[a]);return n?`${n}`:""}_getCellWidths(o,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],a=o.children;for(let r=0;r<a.length;r++)n.push(a[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(o,e){const n=[];let a=0;for(let r=0;r<o.length;r++)e[r]&&(n[r]=a,a+=o[r]);return n}_getStickyEndColumnPositions(o,e){const n=[];let a=0;for(let r=o.length;r>0;r--)e[r]&&(n[r]=a,a+=o[r]);return n}}const oe=new t.OlP("CDK_SPL");let Et=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","rowOutlet",""]]}),i})(),Nt=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),It=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),Lt=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),Ut=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u,g,m){this._differs=e,this._changeDetectorRef=n,this._elementRef=a,this._dir=s,this._platform=l,this._viewRepeater=_,this._coalescedStyleScheduler=p,this._viewportRuler=u,this._stickyPositioningListener=g,this._ngZone=m,this._onDestroy=new pe.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new t.vpe,this.viewChange=new Ze.X({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","table"),this._document=c,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=(0,Pt.Ig)(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=(0,Pt.Ig)(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe((0,Mt.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,Q.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(a,r,s)=>this._getEmbeddedViewArgs(a.item,s),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(a=>{n.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this._ngZone&&t.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,ue.q)(1),(0,Mt.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=e.length?"":"none");const r=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,r,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=e.length?"":"none");const r=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,s)=>{this._addStickyColumnStyles([r],this._headerRowDefs[s])}),this._rowDefs.forEach(r=>{const s=[];for(let c=0;c<n.length;c++)this._renderRows[c].rowDef===r&&s.push(n[c]);this._addStickyColumnStyles(s,r)}),a.forEach((r,s)=>{this._addStickyColumnStyles([r],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let r=this._data[a];const s=this._getRenderRowsForData(r,a,n.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let c=0;c<s.length;c++){let l=s[c];const _=this._cachedRenderRowsMap.get(l.data);_.has(l.rowDef)?_.get(l.rowDef).push(l):_.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,n,a){return this._getRowDefs(e,n).map(s=>{const c=a&&a.has(s)?a.get(s):[];if(c.length){const l=c.shift();return l.dataIndex=n,l}return{data:e,rowDef:s,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Yt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=Yt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Yt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Yt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(s,c)=>s||!!c.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(e,!1);a&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),n||a||r}_switchDataSource(e){this._data=[],(0,Q.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;(0,Q.Z9)(this.dataSource)?e=this.dataSource.connect(this):function Ee(i){return!!i&&(i instanceof Vt.y||(0,he.m)(i.lift)&&(0,he.m)(i.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,ge.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,Mt.R)(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const a=Array.from(n.columns||[]).map(c=>this._columnDefsByName.get(c)),r=a.map(c=>c.sticky),s=a.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let a=0;a<e.viewContainer.length;a++){const r=e.viewContainer.get(a);n.push(r.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(r=>!r.when||r.when(n,e));else{let r=this._rowDefs.find(s=>s.when&&s.when(n,e))||this._defaultRowDef;r&&a.push(r)}return a}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,a,r={}){const s=e.viewContainer.createEmbeddedView(n.template,r,a);return this._renderCellTemplateForItem(n,r),s}_renderCellTemplateForItem(e,n){for(let a of this._getCellTemplates(e))et.mostRecentCellOutlet&&et.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,a=e.length;n<a;n++){const s=e.get(n).context;s.count=a,s.first=0===n,s.last=n===a-1,s.even=n%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[n].dataIndex,s.renderIndex=n):s.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const a=this._columnDefsByName.get(n);return e.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of n){const r=this._document.createElement(a.tag);r.setAttribute("role","rowgroup");for(const s of a.outlets)r.appendChild(s.elementRef.nativeElement);e.appendChild(r)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,a)=>n||a.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new je(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,ge.of)()).pipe((0,Mt.R)(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const a=this._noDataRowOutlet.viewContainer;if(n){const r=a.createEmbeddedView(e.templateRef),s=r.rootNodes[0];1===r.rootNodes.length&&(null==s?void 0:s.nodeType)===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else a.clear();this._isShowingNoDataRow=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.ZZ4),t.Y36(t.sBO),t.Y36(t.SBq),t.$8M("role"),t.Y36(Ne.Is,8),t.Y36(b.K0),t.Y36(Ie.t4),t.Y36(Q.k),t.Y36(te),t.Y36(me.rL),t.Y36(oe,12),t.Y36(t.R0b,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,n,a){if(1&e&&(t.Suo(a,Zt,5),t.Suo(a,tt,5),t.Suo(a,At,5),t.Suo(a,Ot,5),t.Suo(a,kt,5)),2&e){let r;t.iGM(r=t.CRH())&&(n._noDataRow=r.first),t.iGM(r=t.CRH())&&(n._contentColumnDefs=r),t.iGM(r=t.CRH())&&(n._contentRowDefs=r),t.iGM(r=t.CRH())&&(n._contentHeaderRowDefs=r),t.iGM(r=t.CRH())&&(n._contentFooterRowDefs=r)}},viewQuery:function(e,n){if(1&e&&(t.Gf(Et,7),t.Gf(Nt,7),t.Gf(It,7),t.Gf(Lt,7)),2&e){let a;t.iGM(a=t.CRH())&&(n._rowOutlet=a.first),t.iGM(a=t.CRH())&&(n._headerRowOutlet=a.first),t.iGM(a=t.CRH())&&(n._footerRowOutlet=a.first),t.iGM(a=t.CRH())&&(n._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[t._Bn([{provide:vt,useExisting:i},{provide:Q.k,useClass:Q.yy},{provide:te,useClass:ve},{provide:oe,useValue:null}])],ngContentSelectors:Ue,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(t.F$t(Le),t.Hsn(0),t.Hsn(1,1),t.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Nt,Et,Lt,It],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})();function Yt(i,o){return i.concat(Array.from(o))}let $e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[me.Cl]]}),i})();var ye=O(508);const We=[[["caption"]],[["colgroup"],["col"]]],Ke=["caption","colgroup, col"];let ct=(()=>{class i extends Ut{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[t._Bn([{provide:Q.k,useClass:Q.yy},{provide:Ut,useExisting:i},{provide:vt,useExisting:i},{provide:te,useClass:ve},{provide:oe,useValue:null}]),t.qOj],ngContentSelectors:Ke,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(t.F$t(We),t.Hsn(0),t.Hsn(1,1),t.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Nt,Et,Lt,It],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})(),nt=(()=>{class i extends Ct{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","matCellDef",""]],features:[t._Bn([{provide:Ct,useExisting:i}]),t.qOj]}),i})(),it=(()=>{class i extends wt{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[t._Bn([{provide:wt,useExisting:i}]),t.qOj]}),i})(),at=(()=>{class i extends tt{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[t._Bn([{provide:tt,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),t.qOj]}),i})(),ot=(()=>{class i extends Kt{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[t.qOj]}),i})(),lt=(()=>{class i extends Xt{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[t.qOj]}),i})(),dt=(()=>{class i extends Ot{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[t._Bn([{provide:Ot,useExisting:i}]),t.qOj]}),i})(),pt=(()=>{class i extends At{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[t._Bn([{provide:At,useExisting:i}]),t.qOj]}),i})(),ht=(()=>{class i extends ne{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[t._Bn([{provide:ne,useExisting:i}]),t.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},directives:[et],encapsulation:2}),i})(),gt=(()=>{class i extends ae{}return i.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[t._Bn([{provide:ae,useExisting:i}]),t.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},directives:[et],encapsulation:2}),i})(),ln=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[$e,ye.BQ],ye.BQ]}),i})();var j=O(4829),pn=O(1188);let ut=(()=>{class i{}return i.reportIds=["5ee06b90de208662745c3e10","5e203ef27bd47f0004269f16","5e2132c97d97af0004f1db47","5eded1121fd2245a9d4d55f0","5efc706143a46c345a6d5c7c","5ee39cd46761ae087d40b474","5ea01fc19736bf00044c57e0","5ede7ed51fd2245a9d4d54da","5ef0c8b33f9f1f406c85d979","5e2139407d97af0004f1dc42","5ea2d85d2b60b90004d13370","5e2b1e4f35e3250004e28126","5ec2859876d647000450c884","5eeaff3a8a6fe53a26b56e3c","5e7de74a3adb3d00045235e6","5e2980b18fb7610004367778","5ede7d881fd2245a9d4d54d6","5f0304a07b3d8b667f9e8667","5f02e0b39be6f35140188a6d","5f02f5589be6f35140188cb3","5e44fe7a431499b81bd0cfbb","5f059c67e5e3b0180db02b5e","5edb6ddc5e84760004d99cb5","5eb543c36e66720004958fe0","5eb2a7871e845b00042db42e","5e29b4258fb7610004367a42","5e8455141591300004822f09","5e2ada2735e3250004e27b14","5eff35ff430d8c3fe4d5769c","5e982ea6f6ba090004d9a4e7","5f22b1f843abd91218d1d533","5e955a1cc97a6a00048c4754","5f636e6394ef4c5219ac9cd1"],i.hardCodedLeads=[["TEREOS","Bunge","Imperial Sugar Company","POPSUGAR","IT'SUGAR"],["Glanbia Performance Nutrition (GPN)","Herbalife Nutrition","GlaxoSmithKline","Abbott Laboratories","Bayer AG"],["Starbucks","Red Thread","Caribou Coffee","Costa Coffee","Philz Coffee"],["Pernod Ricard","Brown-Forman Corporation","Diageo","Bacardi","LVMH"],["Conagra Brands","Associated British Foods plc","General Mills","Lantm\xe4nnen","Kellogg Company"],["Procter & Gamble","LOreal","Unilever","Kao Corporation","Johnson & Johnson"],["Kerry","The Hershey Company","NestleS.A.","TheJ.M.SmuckerCompany","Conagra Brands"],["New Belgium Brewing","Anheuser-Busch InBev","beamsuntory","Craft Brew Alliance"],["Starbucks","Nestle","Coca-Cola Amatil","JACOBS DOUWE EGBERTS","The Kraft Heinz Company"],["Sleep Number by Select Comfort","WestPoint Home","Casper"],["DowDuPont","Solvay","BASF","Lonza","Kemira"],["BASF","Kingspan","Owens Corning","Ravago"],["AIRBUS SAS","Textron","Leonardo"],["BAE Systems","General Dynamics","Lockheed Martin","Raytheon","Saab"],["Amgen","Becton Dickinson","AbbVie","Mylan","Eli Lilly and Company"],["Gentherm","AbbVie"],["Pernod Ricard","Brown-Forman","Bacardi","Anheuser-Busch InBev","Beam Suntory"],["Stryker","Medtronic","CONMED Corporation","Galderma"],["Galderma","Allergan","Valeant Pharmaceuticals","Integra LifeSciences","Sanofi"],["Galderma","Allergan","Ipsen","Valeant Pharmaceuticals","Teva Pharmaceuticals"],["Galderma","Allergan","AllerganFacialAesthetics","Valeant Pharmaceuticals","Sanofi"],["Cutera","Cynosure, Inc.","Alma Lasers","Galderma","Allergan"],["Allergan","Galderma","Cutera","Alma Lasers","Hologic"],["GoPro","Olympus","TomTom","Lattice Semiconductor"],["Magic Leap","Microsoft","Sony","IBM CORPORATION","Samsung Electronics"],["Teva Pharmaceuticals","Galderma","Albany Medical Center","Allergan","Glenmark Pharmaceuticals"],["Allergan","Teva Pharmaceuticals","Galderma"],["Allergan","Galderma","Integra LifeSciences","Bausch + Lomb","Ipsen"],["Allergan","Galderma","Integra LifeSciences","Bausch + Lomb"],["Microsoft","Sony","Google","Qualcomm Technologies, Inc","vuzix"],["3M","Pentair","Mitsubishi Chemical Corporation","Toray","Panasonic"],["Alfa Laval","Eaton","Donaldson","Cummins","Pall Corporation"],["Abbott","bioMerieux","Bio-Rad Laboratories","Danaher Corporation","Henry Schein"]],i.hardCodedStocks=[[{ticker:"CZZ",name:"Cosan Limited"},{ticker:"BG",name:"Bunge Limited"},{ticker:"BSEV3.SAO",name:"Biosev S.A."},{ticker:"RSGUF",name:"Rogers Sugar Inc."},{ticker:"TRIVENI.BSE",name:"Triveni Engineering & Industries Limited "}],[{ticker:"GLAPF",name:"Glanbia plc"},{ticker:"HLF",name:"Herbalife Nutrition Ltd."},{ticker:"GSK",name:"GlaxoSmithKline plc"},{ticker:"ABT",name:"Abbott Laboratories"},{ticker:"BAYRY",name:"Bayer Aktiengesellschaft"}],[{ticker:"SBUX",name:"Starbucks Corporation"},{ticker:"MIKO.BRU",name:"Miko NV"},{ticker:"BCCI",name:"Baristas Coffee Company Inc."},{ticker:"NSRGY",name:"Nestle S.A."},{ticker:"LK",name:"Luckin Coffee Inc."}],[{ticker:"PDRDY",name:"Pernod Ricard SA"},{ticker:"BF-B",name:"Brown-Forman Corporation"},{ticker:"DEO",name:"Diageo plc"},{ticker:"DVDCY",name:"Davide Campari-Milano S.p.A"},{ticker:"LVMUY",name:"LVMH Moet Hennessy - Louis Vuitton, Societe Europeenne"}],[{ticker:"GRBMF",name:"Grupo Bimbo, S.A.B. de C.V."},{ticker:"CAG",name:"Conagra Brands Inc."},{ticker:"ASBFY",name:"Associated British Foods plc"},{ticker:"GIS",name:"General Mills Inc."},{ticker:"K",name:"Kellogg Company"}],[{ticker:"PG",name:"The Procter & Gamble Company"},{ticker:"UL",name:"The Unilever Group"},{ticker:"KAOOY",name:"Kao Corporation"},{ticker:"SSDOY",name:"Shiseido Company, Limited"},{ticker:"TAIPY",name:"Taisho Pharmaceutical Holdings Co. Ltd."}],[{ticker:"KRYAY",name:"Kerry Group plc"},{ticker:"HSY",name:"The Hershey Company"},{ticker:"NSRGY",name:"Nestle S.A."},{ticker:"SJM",name:"The J. M. Smucker Company"},{ticker:"CAG",name:"Conagra Brands Inc."}],[{ticker:"MCDOWELL-N.NSE",name:"United Spirits LTD."},{ticker:"ABEV.ARG",name:"AMBEV SA"},{ticker:"TAP",name:"Molson Coors Beverage Company"},{ticker:"STZ",name:"Constellation Brands Inc."},{ticker:"UBL.NSE",name:"United Breweries Limited"}],[{ticker:"SBUX",name:"Starbucks Corporation"},{ticker:"NSRGY",name:"Nestle S.A."},{ticker:"KO",name:"The Coca-Cola Company"},{ticker:"SGLJF",name:"Strauss Group Ltd."},{ticker:"KHC",name:"The Kraft Heinz Company"}],[{ticker:"SNBR",name:"Sleep Number Corporation"},{ticker:"CULP",name:"Culp Inc."},{ticker:"TPX",name:"Tempur Sealy International Inc."}],[{ticker:"SOLVY",name:"Solvay SA"},{ticker:"BASFY",name:"BASF SE"},{ticker:"LZAGY",name:"Lonza Group Ltd "},{ticker:"KOYJF",name:"Kemira Oyj"},{ticker:"EVKIF",name:"Evonik Industries AG"}],[{ticker:"BASFY",name:"BASF SE"},{ticker:"KGSPY",name:"Kingspan Group plc "},{ticker:"OC",name:"Owens Corning"}],[{ticker:"EADSY",name:"Airbus SE"},{ticker:"TXT",name:"Textron Inc."},{ticker:"FINMY",name:"Leonardo S.p.a."}],[{ticker:"BAESY",name:"BAE Systems plc "},{ticker:"GD",name:"General Dynamics Corporation"},{ticker:"LMT",name:"Lockheed Martin Corporation"},{ticker:"RTX",name:"Raytheon Technologies Corporation"},{ticker:"SAABF",name:"Saab AB (publ)"}],[{ticker:"AMGN",name:"Amgen Inc. "},{ticker:"BDX",name:"Becton, Dickinson and Company"},{ticker:"ABBV",name:"AbbVie Inc."},{ticker:"MYL",name:"Mylan Inc."},{ticker:"LLY",name:"Eli Lilly and Company"}],[{ticker:"THRM",name:"Gentherm Incorporated"},{ticker:"ABBV",name:"AbbVie Inc."}],[{ticker:"PDRDY",name:"Pernod Ricard SA"},{ticker:"BF-B",name:"Brown-Forman Corporation"},{ticker:"DEO",name:"Diageo plc"},{ticker:"BUD",name:"Anheuser-Busch InBev SA/NV"}],[{ticker:"SYK",name:"Stryker Corporation"},{ticker:"MDT",name:"Medtronic plc"},{ticker:"CNMD",name:"CONMED Corporation"},{ticker:"BLU",name:"BELLUS Health Inc."}],[{ticker:"AGN",name:"Allergan plc"},{ticker:"IART",name:"Integra LifeSciences Holdings Corporation"},{ticker:"SNY",name:"Sanofi"},{ticker:"RVNC",name:"Revance Therapeutics Inc."},{ticker:"MKKGY",name:"MERCK Kommanditgesellschaft auf Aktien"}],[{ticker:"AGN",name:"Allergan plc"},{ticker:"IPSEY",name:"Ipsen S.A."},{ticker:"EOLS",name:"Evolus Inc."},{ticker:"RVNC",name:"Revance Therapeutics Inc."}],[{ticker:"AGN",name:"Allergan plc"},{ticker:"SNY",name:"Sanofi"},{ticker:"RVNC",name:"Revance Therapeutics Inc."}],[{ticker:"CUTR",name:"Cutera Inc."},{ticker:"AKP.FRK",name:"Anika Therapeutics Inc."},{ticker:"AGN",name:"Allergan plc"}],[{ticker:"AGN",name:"Allergan plc"},{ticker:"CUTR",name:"Cutera Inc."},{ticker:"HOLX",name:"Hologic Inc."},{ticker:"BHC",name:"Bausch Health Companies Inc."},{ticker:"ANIK",name:"Anika Therapeutics Inc."}],[{ticker:"SNE",name:"Sony Corporation"},{ticker:"GPRO",name:"GoPro Inc."},{ticker:"OCPNY",name:"Olympus Corporation"},{ticker:"TMOAF",name:"TomTom N.V."},{ticker:"PCRFY",name:"Panasonic Corporation"}],[{ticker:"PTC",name:"PTC Inc."},{ticker:"MSFT",name:"Microsoft Corporation"},{ticker:"SNE",name:"Sony Corporation"},{ticker:"AAPL",name:"Apple Inc."},{ticker:"SSUN.FRK",name:"Samsung Electronics Co. Ltd."}],[{ticker:"AGN",name:"Allergan"}],[{ticker:"AGN",name:"Allergan"},{ticker:"ANIK",name:"Anika Therapeutics Inc."},{ticker:"KWPCY",name:"Kewpie corporation"}],[{ticker:"AGN",name:"Allergan"},{ticker:"IART",name:"Integra LifeSciences Holdings Corporation"},{ticker:"BHC",name:"Bausch Health Companies Inc."},{ticker:"IPSEY",name:"Ipsen S.A."}],[{ticker:"AGN",name:"Allergan"},{ticker:"IART",name:"Integra LifeSciences Holdings Corporation"},{ticker:"SNY",name:"Sanofi"}],[{ticker:"MSFT",name:"Microsoft Corporation"},{ticker:"SNE",name:"Sony Corporation"},{ticker:"FB",name:"Facebook Inc."},{ticker:"SSUN.FRK",name:"Samsung Electronics Co. Ltd."},{ticker:"VUZI",name:"Vuzix Corporation"}],[{ticker:"MMM",name:"3M Company"},{ticker:"PNR",name:"Pentair plc"},{ticker:"MTLHY",name:"Mitsubishi Chemical Holdings Corporation"},{ticker:"TRYIY",name:"Toray Industries Inc."},{ticker:"PHG",name:"Koninklijke Philips N.V."}],[{ticker:"ALFVY",name:"Alfa Laval AB (publ)"},{ticker:"ETN",name:"Eaton Corporation plc"},{ticker:"DCI",name:"Donaldson Company Inc."},{ticker:"CMI",name:"Cummins Inc."},{ticker:"M9O.FRK",name:"Ahlstrom-Munksjo Oyj"}],[{ticker:"ABT",name:"Abbott Laboratories"},{ticker:"BIO",name:"Bio-Rad Laboratories Inc."},{ticker:"CEMI",name:"Chembio Diagnostics Inc."},{ticker:"DHR",name:"Danaher Corporation"},{ticker:"HSIC",name:"Henry Schein Inc."}]],i.hardCodedFilings=[["Cosan","Bunge"],["Herbalife","Glaxosmithkline","Abbott","Otsuka"],["Starbucks Corp","Caribou","Philz Coffee","Baristas Coffee Company Inc","Nestle SA"],["Pernod","Brown forman","Diageo","Thai Beverage"],["conagra","associated british","general mills","kellogg","Aryzta"],["The Procter & Gamble Company","loreal","Unilever","Taisho","Church Dwight"],["Hershey","conagra","Wholesome","Smucker"],["Redbridge"],["Starbucks Corp","Nestle SA","The Coca Cola Co","Strauss","Kraft Heinz Co"],["Sleep Number","Westpoint","Casper Sleep"],["Dowdupont","Solvay","Basf","Lonza Group","Evonik Industries"],["Basf","Kingspan Group","Owens Corning"],["Airbus","Textron","Lockheed Martin","Boeing"],["Bae Systems","General Dynamics","Lockheed Martin","Raytheon Technologies","Saab Ab"],["Amgen","Abbvie","Mylan","Eli Lilly","Becton Dickinson"],["Sensoria","Gentherm"],["Pernod","Brown forman","Anheuser","Diageo"],["Medtronic","Conmed","Bellus"],["Allergan","Valeant","Integra","Sanofi","Suneva Medical INC"],["Allergan","Evolus","Revance"],["Allergan","Suneva Medical INC"],["Cutera","Cynosure","Syneron"],["Allergan","Hologic","Bausch","Anika","Cutera"],["Sony Corp","GoPro INC","Olympus","TomTom N V","Panasonic Corp"],["Sony Corp","IBM Corp","Ptc Inc","Microsoft","Apple"],["Allergan","Suneva Medical INC"],["Allergan","Anika"],["Allergan","Suneva Medical INC","Integra Lifescience","Bausch"],["Allergan","Suneva Medical INC","Integra Lifescience","Sanofi","Valeant"],["Microsoft","Sony","Facebook","Vuzix","Avegant"],["3M","PENTAIR","Mitsubishi Chemical","Toray","Koninklijke"],["ALFA LAVAL","EATON","CUMMINS","AHLSTROM Munksjo","PARKER HANNIFIN CORP"],["Abbott","Chembio","Danaher","Henry schein","Thermo Fisher"]],i})();var hn=O(509),gn=O(1074),un=O(620),xe=O(8188),mn=O(3952),qt=O(9125),Ht=O(4383),Ft=O(1125);const be=function(i,o,e){return{type:i,reportId:o,reportName:e}};function _n(i,o){if(1&i&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&i){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.kEZ(7,be,e.section,e.report_id,e.report_name)),t.xp6(2),t.AsE(" ",t.lcZ(3,5,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function fn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,3,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}const Jt=function(i,o){return{reportId:i,reportName:o}};function vn(i,o){if(1&i&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&i){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.WLB(6,Jt,e.report_id,e.report_name)),t.xp6(2),t.hij(" ",t.lcZ(3,4,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function Cn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function wn(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1," more Sections..."),t.qZA())}function yn(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1," ...less Sections "),t.qZA())}function xn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",8)(1,"label",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return a.moreStatus=!a.moreStatus}),t.YNc(2,wn,2,0,"span",2),t.YNc(3,yn,2,0,"span",2),t.qZA()()}if(2&i){const e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",!e.moreStatus),t.xp6(1),t.Q6J("ngIf",e.moreStatus)}}function bn(i,o){if(1&i&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Sections"),t.qZA(),t.YNc(5,_n,6,11,"a",11),t.YNc(6,fn,6,5,"a",12),t.YNc(7,vn,6,9,"a",11),t.YNc(8,Cn,6,4,"a",12),t.YNc(9,xn,4,2,"a",13),t.qZA()()()),2&i){const e=o.$implicit,n=o.index,a=t.oxw(4);t.xp6(5),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)!=a.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)==a.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)!=a.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)==a.reportId),t.xp6(1),t.Q6J("ngIf",a.interConnectsMore.length&&n==a.interConnects.length-1)}}function Mn(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,bn,10,5,"div",6),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.interConnects)}}function On(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Mn,3,1,"div",2),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isTopPlayer)}}const kn=function(i){return{companyId:i,menu:"Financial Overview",id:"SBU",key:"financial_overview"}};function Sn(i,o){if(1&i&&(t.TgZ(0,"a",22)(1,"h6",15),t._uU(2),t.qZA()()),2&i){const e=t.oxw(2).$implicit;t.Q6J("queryParams",t.VKq(2,kn,null==e?null:e._id)),t.xp6(2),t.Oqu(null==e?null:e.name)}}function Tn(i,o){if(1&i&&(t.TgZ(0,"a")(1,"h6",15),t._uU(2),t.qZA()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(null==e?null:e.name)}}function Dn(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h6",10),t._uU(3,"Similar Companies"),t.qZA(),t.YNc(4,Sn,3,4,"a",19),t.YNc(5,Tn,3,1,"a",2),t.TgZ(6,"a",20)(7,"label",21),t._uU(8,"More Companies..."),t.qZA()()()()),2&i){const e=t.oxw(4);t.xp6(4),t.Q6J("ngIf","5f636e6394ef4c5219ac9cd1"!=e.reportId),t.xp6(1),t.Q6J("ngIf","5f636e6394ef4c5219ac9cd1"==e.reportId)}}function Pn(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,Dn,9,2,"div",13),t.qZA()),2&i){const e=o.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=e&&e<(null==n.suggestion||null==n.suggestion.interConnect?null:n.suggestion.interConnect.data.length))}}function Rn(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,Pn,2,1,"div",6),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",null==e.suggestion||null==e.suggestion.interConnect?null:e.suggestion.interConnect.data)}}function An(i,o){if(1&i&&(t.TgZ(0,"a",24)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&i){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.kEZ(7,be,e.section,e.report_id,e.report_name)),t.xp6(2),t.AsE(" ",t.lcZ(3,5,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function Zn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,3,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function En(i,o){if(1&i&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&i){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.WLB(6,Jt,e.report_id,e.report_name)),t.xp6(2),t.hij(" ",t.lcZ(3,4,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function Nn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function In(i,o){if(1&i&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Sections"),t.qZA(),t.YNc(5,An,6,11,"a",23),t.YNc(6,Zn,6,5,"a",12),t.YNc(7,En,6,9,"a",11),t.YNc(8,Nn,6,4,"a",12),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw(4);t.xp6(5),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)!=n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)==n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)!=n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)==n.reportId)}}function Ln(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,In,9,4,"div",6),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.interConnectsMore)}}function Un(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ln,3,1,"div",2),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isTopPlayer)}}function Yn(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",4),t.YNc(2,On,2,1,"div",2),t.YNc(3,Rn,3,1,"div",2),t.YNc(4,Un,2,1,"div",2),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.interConnects&&(null==e.interConnects?null:e.interConnects.length)),t.xp6(1),t.Q6J("ngIf",e.isTopPlayer),t.xp6(1),t.Q6J("ngIf",e.moreStatus&&e.interConnectsMore&&(null==e.interConnectsMore?null:e.interConnectsMore.length))}}function qn(i,o){if(1&i&&(t.TgZ(0,"a",29)(1,"h6",15),t._uU(2),t.qZA()()),2&i){const e=t.oxw(2).$implicit;t.Q6J("queryParams",t.WLB(2,Jt,null==e?null:e.report_id,null==e?null:e.report_name)),t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function Hn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.qZA()()}if(2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function Fn(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1," more Reports..."),t.qZA())}function Jn(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1," ...less Reports "),t.qZA())}function Bn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",8)(1,"label",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return a.moreReports=!a.moreReports}),t.YNc(2,Fn,2,0,"span",2),t.YNc(3,Jn,2,0,"span",2),t.qZA()()}if(2&i){const e=t.oxw(2).index,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.moreReports&&5==e),t.xp6(1),t.Q6J("ngIf",n.moreReports&&5!=e)}}function Gn(i,o){if(1&i&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Reports"),t.qZA(),t.YNc(5,qn,3,5,"a",28),t.YNc(6,Hn,3,1,"a",12),t.YNc(7,Bn,4,2,"a",13),t.qZA()()()),2&i){const e=t.oxw(),n=e.$implicit,a=e.index,r=t.oxw(2);t.xp6(5),t.Q6J("ngIf",(null==n?null:n.report_id)!=r.reportId),t.xp6(1),t.Q6J("ngIf",(null==n?null:n.report_id)==r.reportId),t.xp6(1),t.Q6J("ngIf",(null==r.reportConnectData?null:r.reportConnectData.data.length)&&(null==r.reportConnectData?null:r.reportConnectData.data.length)>5&&(5==a||a==(null==r.reportConnectData?null:r.reportConnectData.data.length)-1))}}function zn(i,o){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,Gn,8,3,"div",27),t.qZA()),2&i){const e=o.index,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.moreReports&&e<=5||n.moreReports)}}function Qn(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,zn,2,1,"div",25),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",null==e.reportConnectData?null:e.reportConnectData.data)}}function jn(i,o){if(1&i&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Reports"),t.qZA(),t.TgZ(5,"a",30)(6,"h6",15),t._uU(7),t.qZA()()()()()),2&i){const e=o.$implicit;t.xp6(5),t.Q6J("queryParams",t.WLB(2,Jt,null==e?null:e.report_id,null==e?null:e.report_name)),t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function Vn(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,jn,8,5,"div",6),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",null==e.hardCodedReportConnectData?null:e.hardCodedReportConnectData.data)}}function $n(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return a.openYtDailog(a.youtubeContents[0])}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("src",null==e.youtubeContents[0]?null:e.youtubeContents[0].imgUrl,t.LSH)}}function Wn(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("+",e.youtubeContents.length-1," more ")}}function Kn(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("-",e.youtubeContents.length-1," ")}}function Xn(i,o){if(1&i&&(t.TgZ(0,"label",21),t.YNc(1,Wn,2,1,"span",2),t.YNc(2,Kn,2,1,"span",2),t._uU(3,"Videos"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.videoStatus),t.xp6(1),t.Q6J("ngIf",e.videoStatus)}}function ti(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"+4 more "),t.qZA())}function ei(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"-4 "),t.qZA())}function ni(i,o){if(1&i&&(t.TgZ(0,"label",21),t.YNc(1,ti,2,0,"span",2),t.YNc(2,ei,2,0,"span",2),t._uU(3,"Videos"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.videoStatus),t.xp6(1),t.Q6J("ngIf",e.videoStatus)}}function ii(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw(2).openYtDailog(a)}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("src",null==e?null:e.imgUrl,t.LSH)}}const mt=function(i){return{searchQuery:i}};function ai(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,ii,4,1,"div",33),t.TgZ(2,"div",9)(3,"h6",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).openYtDailog(a)}),t._uU(4),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"a",42)(10,"label",21),t._uU(11,"More Videos..."),t.qZA()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e?null:e.imgUrl),t.xp6(2),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.hij(" ",t.Dn7(5,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(8,9,null==e?null:e.publishedAt)),t.xp6(2),t.Q6J("queryParams",t.VKq(11,mt,n.reportName))}}function oi(i,o){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,ai,12,13,"div",40),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function ri(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.videoStatus=!a.videoStatus}),t.TgZ(2,"div",8),t.YNc(3,$n,4,1,"div",33),t.TgZ(4,"div",9)(5,"h6",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.openYtDailog(a.youtubeContents[0])}),t._uU(6),t.ALo(7,"slice"),t.qZA(),t.TgZ(8,"div",35),t._uU(9),t.ALo(10,"date"),t.qZA(),t.YNc(11,Xn,4,2,"label",36),t.YNc(12,ni,4,2,"label",36),t.qZA()()(),t.TgZ(13,"div",5),t.YNc(14,oi,2,1,"div",25),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","110px")("expandedHeight","110px"),t.xp6(2),t.Q6J("ngIf",null==e.youtubeContents[0]?null:e.youtubeContents[0].imgUrl),t.xp6(2),t.Q6J("title",null==e.youtubeContents[0]?null:e.youtubeContents[0].title),t.xp6(1),t.hij(" ",t.Dn7(7,10,null==e.youtubeContents[0]?null:e.youtubeContents[0].title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(10,14,null==e.youtubeContents[0]?null:e.youtubeContents[0].publishedAt)),t.xp6(2),t.Q6J("ngIf",e.youtubeContents.length<5),t.xp6(1),t.Q6J("ngIf",e.youtubeContents.length>=5),t.xp6(2),t.Q6J("ngForOf",e.youtubeContents)}}function si(i,o){if(1&i&&(t.TgZ(0,"a",46)(1,"label",21),t._uU(2,"More News..."),t.qZA()()),2&i){const e=t.oxw(2);t.Q6J("queryParams",t.VKq(1,mt,e.reportName))}}function ci(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("+",e.finalNews.length-1," more ")}}function li(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("-",e.finalNews.length-1," ")}}function di(i,o){if(1&i&&(t.TgZ(0,"label",21),t.YNc(1,ci,2,1,"span",2),t.YNc(2,li,2,1,"span",2),t._uU(3,"News"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.newStat),t.xp6(1),t.Q6J("ngIf",e.newStat)}}function pi(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"+4 more "),t.qZA())}function hi(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"-4 "),t.qZA())}function gi(i,o){if(1&i&&(t.TgZ(0,"label",21),t.YNc(1,pi,2,0,"span",2),t.YNc(2,hi,2,0,"span",2),t._uU(3,"News"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.newStat),t.xp6(1),t.Q6J("ngIf",e.newStat)}}function ui(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h6",10),t._uU(3,"News Stories"),t.qZA(),t.TgZ(4,"h6",43)(5,"a",44),t._uU(6),t.ALo(7,"slice"),t.qZA()(),t.TgZ(8,"div",35),t._uU(9),t.qZA(),t.TgZ(10,"a",46)(11,"label",21),t._uU(12,"More News..."),t.qZA()()()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.Q6J("href",null==e?null:e.link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(7,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(null==e?null:e.source),t.xp6(1),t.Q6J("queryParams",t.VKq(9,mt,n.reportName))}}function mi(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,ui,13,11,"div",13),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function _i(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.newStat=!a.newStat}),t.TgZ(2,"div",8)(3,"div",9)(4,"h6",10),t._uU(5,"News Stories"),t.qZA(),t.TgZ(6,"h6",43)(7,"a",44),t._uU(8),t.ALo(9,"slice"),t.qZA()(),t.TgZ(10,"div",35),t._uU(11),t.qZA(),t.YNc(12,si,3,3,"a",45),t.YNc(13,di,4,2,"label",36),t.YNc(14,gi,4,2,"label",36),t.qZA()()(),t.TgZ(15,"div",5),t.YNc(16,mi,2,1,"div",6),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","90px")("expandedHeight","90px"),t.xp6(5),t.Q6J("title",null==e.finalNews[0]?null:e.finalNews[0].title),t.xp6(1),t.Q6J("href",null==e.finalNews[0]?null:e.finalNews[0].link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(9,11,null==e.finalNews[0]?null:e.finalNews[0].title,0,45),"... "),t.xp6(3),t.Oqu(null==e.finalNews[0]?null:e.finalNews[0].source),t.xp6(1),t.Q6J("ngIf",1==e.finalNews.length),t.xp6(1),t.Q6J("ngIf",e.finalNews.length<5&&e.finalNews.length>1),t.xp6(1),t.Q6J("ngIf",e.finalNews.length>=5),t.xp6(2),t.Q6J("ngForOf",e.finalNews)}}function fi(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw(2).openYtDailog(a)}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("src",null==e?null:e.imgUrl,t.LSH)}}function vi(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,fi,4,1,"div",33),t.TgZ(2,"div",9)(3,"h6",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).openYtDailog(a)}),t._uU(4),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"a",42)(10,"label",21),t._uU(11,"More Videos..."),t.qZA()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e?null:e.imgUrl),t.xp6(2),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.hij(" ",t.Dn7(5,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(8,9,null==e?null:e.publishedAt)),t.xp6(2),t.Q6J("queryParams",t.VKq(11,mt,n.reportName))}}function Ci(i,o){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,vi,12,13,"div",40),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Q6J("ngIf",e<3)}}function wi(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ci,2,1,"div",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.youtubeContents)}}function yi(i,o){if(1&i&&(t.TgZ(0,"div",41)(1,"div",9)(2,"h6",10),t._uU(3,"News Stories"),t.qZA(),t.TgZ(4,"h6",43)(5,"a",44),t._uU(6),t.ALo(7,"slice"),t.qZA()(),t.TgZ(8,"div",35),t._uU(9),t.qZA(),t.TgZ(10,"a",46)(11,"label",21),t._uU(12,"More News..."),t.qZA()()()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.Q6J("href",null==e?null:e.link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(7,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(null==e?null:e.source),t.xp6(1),t.Q6J("queryParams",t.VKq(9,mt,n.searchText))}}function xi(i,o){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,yi,13,11,"div",40),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Q6J("ngIf",e<3)}}function bi(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,xi,2,1,"div",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.finalNews)}}function Mi(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("+",e.leadsArray.length-1," more ")}}function Oi(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("-",e.leadsArray.length-1," ")}}const ki=function(i){return{vertical:i}};function Si(i,o){if(1&i&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Top Leads"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",48),t._uU(6),t.ALo(7,"titlecase"),t.qZA()(),t.TgZ(8,"a",50)(9,"label",21),t._uU(10,"More Leads..."),t.qZA()()()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(5),t.MGl("routerLink","/output-chart/leads-data/",e,""),t.xp6(1),t.hij(" ",t.lcZ(7,3,e)," "),t.xp6(2),t.Q6J("queryParams",t.VKq(5,ki,n.currentReport.vertical))}}function Ti(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,Si,11,7,"div",49),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function Di(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.leadsDb=!a.leadsDb}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Top Leads"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",48),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.TgZ(10,"label",21),t.YNc(11,Mi,2,1,"span",2),t.YNc(12,Oi,2,1,"span",2),t._uU(13,"Leads"),t.qZA()()()(),t.TgZ(14,"div",5),t.YNc(15,Ti,2,1,"div",6),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.MGl("routerLink","/output-chart/leads-data/",e.leadsArray[0],""),t.xp6(1),t.hij(" ",t.lcZ(9,8,e.leadsArray[0])," "),t.xp6(3),t.Q6J("ngIf",!e.leadsDb),t.xp6(1),t.Q6J("ngIf",e.leadsDb),t.xp6(3),t.Q6J("ngForOf",e.leadsArray)}}function Pi(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("+",(null==e.hardCodedFiling?null:e.hardCodedFiling.length)-1," more ")}}function Ri(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",(null==e.hardCodedFiling?null:e.hardCodedFiling.length)-1," ")}}function Ai(i,o){if(1&i&&(t.TgZ(0,"label",21),t.YNc(1,Pi,2,1,"span",2),t.YNc(2,Ri,2,1,"span",2),t._uU(3,"Fillings"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.fillingOverlap),t.xp6(1),t.Q6J("ngIf",e.fillingOverlap)}}function Zi(i,o){if(1&i&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Regulatory Fillings (US)"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",52),t._uU(6),t.ALo(7,"titlecase"),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("queryParams",t.VKq(4,mt,e)),t.xp6(1),t.hij(" ",t.lcZ(7,2,e)," ")}}function Ei(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,Zi,8,6,"div",49),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}const Ni=function(){return{searchQuery:""}};function Ii(i,o){1&i&&(t.TgZ(0,"a",54)(1,"label",55)(2,"span"),t._uU(3," more Fillings "),t.qZA()()()),2&i&&t.Q6J("queryParams",t.DdM(1,Ni))}function Li(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.fillingOverlap=!a.fillingOverlap}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Regulatory Fillings (US)"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",52),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.YNc(10,Ai,4,2,"label",36),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,Ei,2,1,"div",6),t.YNc(13,Ii,4,2,"a",53),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.Q6J("queryParams",t.VKq(10,mt,e.hardCodedFiling[0])),t.xp6(1),t.hij(" ",t.lcZ(9,8,e.hardCodedFiling[0])," "),t.xp6(2),t.Q6J("ngIf",e.hardCodedFiling.length>1),t.xp6(2),t.Q6J("ngForOf",e.hardCodedFiling),t.xp6(1),t.Q6J("ngIf",e.fillingOverlap)}}function Ui(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("+",e.hardcodedStocks.length-1," more ")}}function Yi(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" -",e.hardcodedStocks.length-1," ")}}function qi(i,o){if(1&i&&(t.TgZ(0,"label",21),t.YNc(1,Ui,2,1,"span",2),t.YNc(2,Yi,2,1,"span",2),t._uU(3,"Stocks"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.stocksOverlap),t.xp6(1),t.Q6J("ngIf",e.stocksOverlap)}}const Me=function(i,o){return{symbol:i,name:o}};function Hi(i,o){if(1&i&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Top Stocks"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",56),t._uU(6),t.ALo(7,"titlecase"),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("queryParams",t.WLB(5,Me,e.ticker,e.name)),t.xp6(1),t.AsE(" ",t.lcZ(7,3,e.name),", ( ",e.ticker," ) ")}}function Fi(i,o){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,Hi,8,8,"div",49),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function Ji(i,o){1&i&&(t.TgZ(0,"a",58)(1,"label",55)(2,"span"),t._uU(3," more Stocks "),t.qZA()()())}function Bi(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.stocksOverlap=!a.stocksOverlap}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Top Stocks"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",56),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.YNc(10,qi,4,2,"label",36),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,Fi,2,1,"div",6),t.YNc(13,Ji,4,0,"a",57),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.Q6J("queryParams",t.WLB(11,Me,e.hardcodedStocks[0].ticker,e.hardcodedStocks[0].name)),t.xp6(1),t.AsE(" ",t.lcZ(9,9,e.hardcodedStocks[0].name),", ( ",e.hardcodedStocks[0].ticker," ) "),t.xp6(2),t.Q6J("ngIf",e.hardcodedStocks.length>1),t.xp6(2),t.Q6J("ngForOf",e.hardcodedStocks),t.xp6(1),t.Q6J("ngIf",e.stocksOverlap)}}let W=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u,g){this.youtubeService=e,this.newsService=n,this.dialog=a,this.activatedRoute=r,this.localStorageService=s,this.leadsService=c,this.reportService=l,this.secEdgarService=_,this.sharedInterconenctService=p,this.cpService=u,this.toastr=g,this.moreReports=!1,this.videoStatus=!1,this.fillingOverlap=!1,this.stocksOverlap=!1,this.moreStatus=!1,this.contents=[],this.news=[],this.finalNews=[],this.newStat=!1,this.interConnect=!0,this.reportConnect=!1,this.reportStatus=!1,this.leadsDb=!1,this.reportId="",this.topCompanies=[],this.fillingConnect=[],this.reportConnectData={section:"",data:[]},this.hardCodedReportConnectData={section:"",data:[]},this.leadsArray=[],this.reportName="",this.currentOrder="normalOrder",this.isTopPlayer=!1,this.interConnects=[],this.interConnectsMore=[],this.searchText="",this.moreNewsStatus=!1,this.moreVideosStatus=!1,this.hardCodedFiling=[],this.sectionDetails={Drivers:{main_section:"Market Dynamics",section_name:"Drivers",router_link:"/droctcontainer"},Restraints:{main_section:"Market Dynamics",section_name:"Restraints",router_link:"/droctcontainer"},Opportunities:{main_section:"Market Dynamics",section_name:"Opportunities",router_link:"/droctcontainer"},Challenges:{main_section:"Market Dynamics",section_name:"Challenges",router_link:"/droctcontainer"},Trends:{main_section:"Market Dynamics",section_name:"Trends",router_link:"/droctcontainer"},"Suuply / Value Chain Analysis":{main_section:"Supply/Value Chain Analysis",router_link:"/supply-chain-output"},Porters:{main_section:"Porter's 5 Forces",router_link:"/porters-forces-output"}},this.order={normalOrder:["Drivers","Restraints","Suuply / Value Chain Analysis","Porters","Opportunities","Challenges","Trends"],supplyChainOrder:["Suuply / Value Chain Analysis","Porters","Drivers","Restraints","Opportunities","Challenges","Trends"],porterOrder:["Porters","Suuply / Value Chain Analysis","Drivers","Restraints","Opportunities","Challenges","Trends"]},this.secHardcore=["Johnson & Johnson","Novartis Ag.","Medtronic Plc","Abbott Laboratories"],this.hardCodedCovidContents=[{imgUrl:"https://i.ytimg.com/vi/yrxYhv2O3wU/mqdefault.jpg",videoid:"yrxYhv2O3wU",title:"What coronavirus means for the global economy | Ray Dalio",publishedAt:"2020-04-09T16:16:13Z"},{imgUrl:"https://i.ytimg.com/vi/yFisxvUNfMs/mqdefault.jpg",videoid:"yFisxvUNfMs",title:"Coronavirus outbreak: The economic impact explained",publishedAt:"2020-03-06T11:30:03Z"},{imgUrl:"https://i.ytimg.com/vi/9nrZwjcjS1A/mqdefault.jpg",videoid:"9nrZwjcjS1A",title:"Coronavirus: impact on Global Economy - BBC News",publishedAt:"2020-05-01T11:43:10Z"},{imgUrl:"https://i.ytimg.com/vi/l9ViEIip9q4/mqdefault_live.jpg",videoid:"l9ViEIip9q4",title:"NDTV India LIVE TV - Watch Coronavirus Live Updates | Latest News in Hindi | \u0939\u093f\u0902\u0926\u0940 \u0938\u092e\u093e\u091a\u093e\u0930",publishedAt:"2020-03-02T09:47:22Z"},{imgUrl:"https://i.ytimg.com/vi/WA1Ji-Hj1qo/mqdefault.jpg",videoid:"WA1Ji-Hj1qo",title:"Ray Dalio on the Economic Impact of the Coronavirus Crisis",publishedAt:"2020-04-15T23:10:20Z"}],this.hardcodedStocks=[],this.hardCodedReports={section:"Report",data:[]},this.hardCodedNews=[{title:"Botox and fillers post-Covid-19: How appointments will ...",link:"https://www.harpersbazaar.com/uk/beauty/skincare/a32627354/botox-fillers-post-covid-19/",published:"22-May-2020",text:"Botox and fillers post-Covid-19: How appointments will completely change. An aesthetic doctor explains the future of cosmetic dermatology clinics.",source:"harpersbazaar.com",linkExists:!1},{title:"Thinking about booking in for filler or Botox? Expect a rather ...",link:"https://www.bodyandsoul.com.au/beauty/news-reviews/thinking-about-booking-in-for-filler-or-botox-expect-a-rather-long-waitlist/news-story/88ae8ba22e120102006e98409df321d7",published:"24-May-2020",text:"... next Botox, dermal filler or plastic surgery appointment might look like post-COVID-19. ... But what does it mean for elective areas of health care like cosmetic ... the country, we take a look at how your next appointment will change. ... The patient will be asked to complete the rest of the form and this will be ...",source:"Body and Soul",linkExists:!1},{title:"COVID-19 Impact on Global Biodegradable Dermal Fillers Industry 2020: Market Size, Share, Trends, Applications, SWOT Analysis by Top Key Players, Demand and Forecast Report to 2025 - Jewish Life News",link:"https://jewishlifenews.com/uncategorized/covid-19-impact-on-global-biodegradable-dermal-fillers-industry-2020-market-size-share-trends-applications-swot-analysis-by-top-key-players-demand-and-forecast-report-to-2025/",published:"Mon, 01 Jun 2020 07:44:00 GMT",text:'<a href="https://jewishlifenews.com/uncategorized/covid-19-impact-on-global-biodegradable-dermal-fillers-industry-2020-market-size-share-trends-applications-swot-analysis-by-top-key-players-demand-and-forecast-report-to-2025/" target="_blank">COVID-19 Impact on Global Biodegradable Dermal Fillers Industry 2020: Market Size, Share, Trends, Applications, SWOT Analysis by Top Key Players, Demand and Forecast Report to 2025</a>&nbsp;&nbsp;<font color="#6f6f6f">Jewish Life News</font>',source:"Jewish Life News",img:"CBMi2AFodHRwczovL2pld2lzaGxpZmVuZXdzLmNvbS91bmNhdGVnb3JpemVkL2NvdmlkLTE5LWltcGFjdC1vbi1nbG9iYWwtYmlvZGVncmFkYWJsZS1kZXJtYWwtZmlsbGVycy1pbmR1c3RyeS0yMDIwLW1hcmtldC1zaXplLXNoYXJlLXRyZW5kcy1hcHBsaWNhdGlvbnMtc3dvdC1hbmFseXNpcy1ieS10b3Ata2V5LXBsYXllcnMtZGVtYW5kLWFuZC1mb3JlY2FzdC1yZXBvcnQtdG8tMjAyNS_SAdwBaHR0cHM6Ly9qZXdpc2hsaWZlbmV3cy5jb20vdW5jYXRlZ29yaXplZC9jb3ZpZC0xOS1pbXBhY3Qtb24tZ2xvYmFsLWJpb2RlZ3JhZGFibGUtZGVybWFsLWZpbGxlcnMtaW5kdXN0cnktMjAyMC1tYXJrZXQtc2l6ZS1zaGFyZS10cmVuZHMtYXBwbGljYXRpb25zLXN3b3QtYW5hbHlzaXMtYnktdG9wLWtleS1wbGF5ZXJzLWRlbWFuZC1hbmQtZm9yZWNhc3QtcmVwb3J0LXRvLTIwMjUvYW1wLw",linkExists:!1},{title:"Dermal Fillers and Botulinum Toxin Market Research Global Industry Analysis and Opportunity Assessment (2020-2027) - Cole of Duty",link:"https://coleofduty.com/technology/2020/06/01/dermal-fillers-and-botulinum-toxin-market-research-global-industry-analysis-and-opportunity-assessment-2020-2027/",published:"Mon, 01 Jun 2020 12:09:10 GMT",text:'<a href="https://coleofduty.com/technology/2020/06/01/dermal-fillers-and-botulinum-toxin-market-research-global-industry-analysis-and-opportunity-assessment-2020-2027/" target="_blank">Dermal Fillers and Botulinum Toxin Market Research Global Industry Analysis and Opportunity Assessment (2020-2027)</a>&nbsp;&nbsp;<font color="#6f6f6f">Cole of Duty</font>',source:"Cole of Duty",img:"CBMingFodHRwczovL2NvbGVvZmR1dHkuY29tL3RlY2hub2xvZ3kvMjAyMC8wNi8wMS9kZXJtYWwtZmlsbGVycy1hbmQtYm90dWxpbnVtLXRveGluLW1hcmtldC1yZXNlYXJjaC1nbG9iYWwtaW5kdXN0cnktYW5hbHlzaXMtYW5kLW9wcG9ydHVuaXR5LWFzc2Vzc21lbnQtMjAyMC0yMDI3L9IBAA",linkExists:!1},{title:"Hyaluronic Acid Based Dermal Fillers Market Outlook, Trends Analysis, Top Manufacturers, Shares, Growth Opportunities, Statistics & Forecast to 2026 - Jewish Life News",link:"https://jewishlifenews.com/market-reports/hyaluronic-acid-based-dermal-fillers-market-outlook-trends-analysis-top-manufacturers-shares-growth-opportunities-statistics-forecast-to-2026/",published:"Mon, 01 Jun 2020 16:39:00 GMT",text:'<a href="https://jewishlifenews.com/market-reports/hyaluronic-acid-based-dermal-fillers-market-outlook-trends-analysis-top-manufacturers-shares-growth-opportunities-statistics-forecast-to-2026/" target="_blank">Hyaluronic Acid Based Dermal Fillers Market Outlook, Trends Analysis, Top Manufacturers, Shares, Growth Opportunities, Statistics & Forecast to 2026</a>&nbsp;&nbsp;<font color="#6f6f6f">Jewish Life News</font>',source:"Jewish Life News",img:"CBMiuAFodHRwczovL2pld2lzaGxpZmVuZXdzLmNvbS9tYXJrZXQtcmVwb3J0cy9oeWFsdXJvbmljLWFjaWQtYmFzZWQtZGVybWFsLWZpbGxlcnMtbWFya2V0LW91dGxvb2stdHJlbmRzLWFuYWx5c2lzLXRvcC1tYW51ZmFjdHVyZXJzLXNoYXJlcy1ncm93dGgtb3Bwb3J0dW5pdGllcy1zdGF0aXN0aWNzLWZvcmVjYXN0LXRvLTIwMjYv0gG8AWh0dHBzOi8vamV3aXNobGlmZW5ld3MuY29tL21hcmtldC1yZXBvcnRzL2h5YWx1cm9uaWMtYWNpZC1iYXNlZC1kZXJtYWwtZmlsbGVycy1tYXJrZXQtb3V0bG9vay10cmVuZHMtYW5hbHlzaXMtdG9wLW1hbnVmYWN0dXJlcnMtc2hhcmVzLWdyb3d0aC1vcHBvcnR1bml0aWVzLXN0YXRpc3RpY3MtZm9yZWNhc3QtdG8tMjAyNi9hbXAv",linkExists:!1}],this.hardCodedActionCameraNews=[{title:"What the Best Action Cameras Can Do That Your Phone Can't",link:"https://www.themanual.com/outdoors/the-best-action-cameras/",published:"19-Jun-2020",text:"Bringing its drone and camera expertise to the action camera market, DJI introduced the Osmo Action camera in 2019. Like the Hero8, the ...",source:"The Manual",linkExists:!1},{title:"T3 Awards 2020: GoPro HERO8 Black is king of the action ...",link:"https://www.t3.com/us/news/t3-awards-2020-gopro-hero-8-black-is-king-of-the-action-cameras",published:"08-Jun-2020",text:"GoPro has dominated the action camera market for a while now, and it hasn't let us down with its latest flagship shooter: the GoPro HERO8 ...",source:"T3",linkExists:!1},{title:"[Herald Interview] Linkflow seeks to be Korea's first hardware ...",link:"https://www.theinvestor.co.kr/view.php?ud=20200525000475",published:"25-May-2020",text:"... market not only because Korea takes up only a small segment, 0.8 percent of 1 trillion won ($805 million), of the global action camera market ...",source:"The Investor",linkExists:!1},{title:"Is GoPro Finally a Buy?",link:"https://www.fool.com/investing/2020/06/04/is-gopro-finally-a-buy.aspx",published:"04-Jun-2020",text:"The action camera market will always be a small one, but the company has been right-sized while it was making key changes. James Brumley.",source:"Motley Fool",linkExists:!1},{title:"Forget evil tech or rogue machines, here are the real concerns ...",link:"https://cio.economictimes.indiatimes.com/news/next-gen-technologies/forget-evil-tech-or-rogue-machines-here-are-the-real-concerns-of-ai-adoption/76522411",published:"23-Jun-2020",text:"The adoption of AI is increasing rapidly across the world with no industry remaining ... reasons \u2013 that governmental bodies around the world are taking action.",source:"ETCIO.com",linkExists:!1}],this.hardCodedNewsVerticalGarden=[{title:"Vertical Garden Construction Market 2021: Recent Study including Growth Factors",link:"https://www.mccourier.com/vertical-garden-construction-market-2021-recent-study-including-growth-factors-applications-regional-analysis-key-players-and-forecast-2028/",source:"The Courier",linkExists:!1},{title:"Vertical Garden Construction Market \u2013 Latest Trends",link:"https://thebrockvilleobserver.ca/uncategorized/219543/vertical-garden-construction-market-latest-trends-and-future-growth-analysis-2021-2026/",source:"Brockville Observer",linkExists:!1},{title:"Global Vertical Garden Construction Market-Industry Analysis",link:"https://clarkcountyblog.com/news/1137311/global-vertical-garden-construction-market-industry-analysis-and-forecast-2019-2027-by-type-application-and-region/",source:"Clark County Blog",linkExists:!1}],this.hardCodedNewsZeroEnergy=[{title:"World needs no new oil, gas projects under path to net-zero emissions by 2050",link:"https://www.spglobal.com/platts/en/market-insights/latest-news/natural-gas/051821-world-needs-no-new-oil-gas-projects-under-path-to-net-zero-emissions-by-2050-iea",source:"S&P Global",linkExists:!1},{title:"Deloitte to open new Milan headquarters at Allianz\u2019s Corso Italia 23 campus",link:"https://www.propertyfundsworld.com/2021/05/18/300415/deloitte-open-new-milan-headquarters-allianzs-corso-italia-23-campus",source:"Property Funds World",linkExists:!1},{title:"REELCAUSE Green Hydrogen Energy, Advanced Renewable Energy",link:"https://www.bignewsnetwork.com/news/269506996/reelcause-green-hydrogen-energy-advanced-renewable-energy",source:"Big News Network.com",linkExists:!1},{title:"Why setting net-zero carbon standards is imperative for mitigating climate change",link:"https://gulfbusiness.com/why-setting-net-zero-carbon-standards-is-imperative-for-mitigating-climate-change/",source:"Gulf Business",linkExists:!1},{title:"The future of green building is retrofit",link:"https://www.reminetwork.com/articles/future-green-building-retrofit/",source:"REMI Network",linkExists:!1}],this.hardCodedNewsLaminatedVeneerLumber=[{title:"3 Lumber Stocks to Consider Adding on Dips ",link:"https://www.entrepreneur.com/article/371721",source:"Entrepreneur",linkExists:!1},{title:"Mapping the timber industry boom in 2021",link:"https://www.archpaper.com/2021/04/2021-timber-map/",source:"The Architect's Newspaper",linkExists:!1},{title:"Raute's 1Q net sales increased by 4%",link:"https://www.lesprom.com/en/news/Rautes_1Q_net_sales_increased_by_4_98589/",source:"Lesprom",linkExists:!1},{title:"High lumber prices a boon to Alberta\u2019s forestry industry",link:"https://www.reddeeradvocate.com/news/high-lumber-prices-a-boon-to-albertas-forestry-industry/",source:"Red Deer Advocate",linkExists:!1},{title:"Ignore cynics talking rot, timber apartments are a hit with tenants",link:"https://www.smh.com.au/business/companies/ignore-cynics-talking-rot-timber-apartments-are-a-hit-with-tenants-20210505-p57p32.html",source:"Sydney Morning Herald",linkExists:!1}],this.hardCodedFacialFatTransferNews=[{title:"These Are the Top Plastic Surgery Trends of the Last Decade ...",link:"https://www.newbeauty.com/top-plastic-surgery-trends/",published:"6 days ago",source:"NewBeauty Magazine"},{title:"Could hand rejuvenation treatments be the choice for you?",link:"https://www.longevitylive.com/live-better/hand-rejuvenation-treatments/",published:"1 month ago",source:"Longevity LIVE"},{title:"Dr. Stark Is Taking Liposuction Results To The Next Level With ...",link:"https://hauteliving.com/hautebeauty/639366/dr-stark-is-taking-liposuction-results-to-the-next-level-with-vaser-lipo/",published:"1 week ago",source:"Haute Living"},{title:"These are the beauty treatments replacing cosmetic surgery in 2020",link:"https://www.womanandhome.com/beauty/beauty-news/cosmetic-beauty-trends-2020-ditch-surgery-343639/",published:"Jan 1, 2020",source:"woman&home"},{title:"Medical Director of Amaris B. Clinic Predicts 2020 Cosmetic ...",link:"https://www.biospectrumasia.com/news/54/15296/medical-director-of-amaris-b-clinic-predicts-2020-cosmetic-surgery-trend.html",published:"Jan 22, 2020",source:"BSA bureau"}],this.hardCodedHyaluronicAcid=[{title:"Croma-Pharma GmbH expands its portfolio introducing pure HA",link:"https://www.businesswire.com/news/home/20200715005327/en/Croma-Pharma-GmbH-expands-portfolio-introducing-pure-HA",published:"1 week ago",source:"Business Wire"},{title:"Valensa awarded patent for hyaluronic acid, astaxanthin joint ...",link:"https://www.nutritionaloutlook.com/view/valensa-awarded-patent-for-hyaluronic-acid-astaxanthin-joint-ingredients",published:"1 week ago",source:"Nutritional Outlook"},{title:"Are You Using Hyaluronic Acid Wrong - Hyaluronic Acid Myths ...",link:"https://www.harpersbazaar.com/beauty/skin-care/a31116680/are-you-misusing-hyaluronic-acid/",published:"2 weeks ago",source:"HarpersBAZAAR.com"},{title:"The HydraFacial Company Announces Launch of HydraFacial ...",link:"https://www.prnewswire.com/news-releases/the-hydrafacial-company-announces-launch-of-hydrafacial-connect-platform-301096937.html",published:"1 day ago",source:"PRNewswire"},{title:"AsSeenOnTV.pro and Kevin Harrington's DRTV Campaign ...",link:"https://www.prweb.com/releases/asseenontv_pro_and_kevin_harringtons_drtv_campaign_with_lenogen_by_lenovie/prweb17250950.htm",published:"2 days ago",source:"PR Web"}],this.hardCodedBotulinumToxin=[{title:"(2nd LD) ITC favors Medytox over Daewoong in botulinum toxin strain dispute",link:"https://en.yna.co.kr/view/AEN20200707000252320",published:"2 weeks ago",source:"Yonhap News"},{title:"Croma-Pharma announces submission for their botulinum ...",link:"https://www.businesswire.com/news/home/20200708005060/en/Croma-Pharma-announces-submission-botulinum-toxin-treat-glabellar",published:"2 weeks ago",source:"Business Wire"},{title:"Court rejects Medytox's request not to revoke lic...",link:"http://www.koreabiomed.com/news/articleView.html?idxno=8729",published:"2 weeks ago",source:"Korea Biomedical Review"},{title:"[News Focus] Who will win BTX strain dispute \u2013 Daewoong or Medytox?",link:"http://www.koreabiomed.com/news/articleView.html?idxno=8676",published:"2 weeks ago",source:"Korea Biomedical Review"},{title:"Yonhap News Summary",link:"https://en.yna.co.kr/view/AEN20200707005800320",published:"2 days ago",source:"Yonhap News"}],this.hardCodedWaterPurifier=[{title:"Onsitego collaborates with DuPont to launch maintenance services for water purifiers",link:"http://www.businessworld.in/article/Onsitego-collaborates-with-DuPont-to-launch-maintenance-services-for-water-purifiers/27-07-2020-301884/",published:"4 days ago",source:"BW Businessworld"},{title:"instrAction Names Florian Rohde as Managing Director and Chief Technical Officer",link:"https://www.globenewswire.com/news-release/2020/07/09/2059669/0/en/instrAction-Names-Florian-Rohde-as-Managing-Director-and-Chief-Technical-Officer.html",published:"3 weeks ago",source:"GlobeNewswire"},{title:"Interview with Sudish Panicker, MD and Head, BNY Mellon International Operations (India)",link:"https://indiacsr.in/interview-with-sudish-panicker-md-and-head-bny-mellon-international-operations-india/",published:"4 hours ago",source:"IndiaCSR"},{title:"Major role for wastewater epidemiology in tackling Covid-19, says group",link:"https://envirotecmagazine.com/2020/07/30/major-role-for-wastewater-epidemiology-in-tackling-covid-19-says-group/",published:"1 day ago",source:"Envirotec"},{title:"New solar material could clean drinking water",link:"https://www.eurekalert.org/pub_releases/2020-07/uarl-nsm071320.php",published:"2 weeks ago",source:"EurekAlert"}],this.hardCodedWearableAmbulatory=[{title:"Bardy Diagnostics names new CEO",link:"https://www.massdevice.com/bardy-diagnostics-names-new-ceo/",source:"Mass Device"},{title:"5 Lesser-Known Growth Stocks Rated 'Strong Buy'",link:"https://stocknews.com/news/irtc-stag-ramp-iipr-yext-5-lesser-known-growth-stocks-rated-strong-buy/",source:"StockNews.com"},{title:"This telemedicine system could get medtech sales reps back to ORs",link:"https://www.massdevice.com/this-telemedicine-system-could-get-medtech-sales-reps-back-to-ors/",source:"Mass Device"},{title:"Ascom UMS Selected Oxitone Medical as a Wearable Solution ...",link:"https://www.prnewswire.com/il/news-releases/ascom-ums-selected-oxitone-medical-as-a-wearable-solution-for-continuous-remote-monitoring-of-covid-19-patients-301086121.html",source:"PRNewswire"},{title:"Radar-Based Blood Pressure Sensors on the Way",link:"https://www.eetimes.com/radar-based-blood-pressure-sensors-on-the-way/",source:"EE Times"}],this.hardCodedCovidTestingKit=[{title:"Should You 'Buy the Dip' in Abbott Laboratories?",link:"https://stocknews.com/news/abt-should-you-buy-the-dip-in-abbott-laboratories/",source:"StockNews.com"},{title:"Are These DIY Gargling COVID-19 Test Kits the Answer to the Safe Return of Live Events?",link:"https://edm.com/news/testfrwd-diy-gargling-covid-19-test-kits",source:"EDM.com"},{title:"COVID-19 test kit for live events created by Austrian start-up",link:"https://djmag.com/news/covid-19-test-kit-live-events-created-austrian-start",source:"DJ Mag"},{title:"Rapid antigen tests are cheaper & give quick results but RT-PCR tests are more reliable, say scientists",link:"https://health.economictimes.indiatimes.com/news/medical-devices/rapid-antigen-tests-are-cheaper-give-quick-results-but-rt-pcr-tests-are-more-reliable-say-scientists/78106436",source:"ETHealthworld.com"},{title:"The rise of the COVID-19 test kit market",link:"https://www.healthcareglobal.com/medical-devices-and-pharma/rise-covid-19-test-kit-market",source:"Healthcare Global - Healthcare News, Magazine and Website"}],this.hardCodedPetroleumPitch=[{title:"Tesla's stock loses charge after Musk's battery pitch",link:"https://in.reuters.com/article/us-tesla-stocks/teslas-stock-loses-charge-after-musks-battery-pitch-idINKCN26E1WL",source:"Reuters India"},{title:"Coronavirus crisis gives oil exporters a crash course in energy transition",link:"https://www.arabnews.com/node/1736591/business-economy",source:"Arab News"},{title:"Proactive Investors One2One Investor Forum",link:"https://www.proactiveinvestors.com/register/event_details/294",source:"Proactive Investors USA & Canada"},{title:"Brett Icahn to Rejoin His Father\u2019s Firm",link:"https://www.wsj.com/articles/brett-icahn-poised-to-rejoin-his-fathers-firm-11601499938",source:"Wall Street Journal"},{title:"Stocks end higher on bargain hunting",link:"https://mb.com.ph/2020/09/11/stocks-end-higher-on-bargain-hunting/",source:"Manila Bulletin"}],this.hardCodedEuropeZincChemicals=[{title:"Trafigura builds stake in battery Ni future",link:"https://www.amm.com/Article/3955536/Trafigura-builds-stake-in-Europes-battery-Ni-future.html",source:"American Metal Market"},{title:"Firms sign agreement to develop zinc-air ESS market in India",link:"https://www.bestmag.co.uk/indnews/firms-sign-agreement-develop-zinc-air-ess-market-india",source:"bestmag"},{title:"A US$ 500 million giant merger in the field of PVC stabilizers ...",link:"https://www.oaoa.com/news/business/a-us-500-million-giant-merger-in-the-field-of-pvc-stabilizers-oyak-merged-akdeniz/article_ae1586f9-101a-54be-904b-5233735e31af.html",source:"Odessa American"},{title:"The place of Europe in the new plant breeding landscape ...",link:"https://www.europeanscientist.com/en/features/the-place-of-europe-in-the-new-plant-breeding-landscape-evolution-of-field-trials/",source:"The European Scientist"},{title:"The EU\u2019s Farm-2-Fork and Green Deal ...",link:"https://www.europeanscientist.com/en/agriculture/the-eus-farm-2-fork-and-green-deal-are-they-more-than-happy-talk/",source:"The European Scientist"}],this.hardCodedAcneTreatment=[{title:"How Does Clindamycin for Acne Work?",link:"https://www.healthline.com/health/clindamycin-for-acne",source:"Healthline"},{title:"First officially registered Acne patch by DermaAngel makes ...",link:"https://www.prnewswire.com/in/news-releases/first-officially-registered-acne-patch-by-dermaangel-makes-foray-into-the-indian-market-847831399.html",source:"PR Newswire India"},{title:"Albany Molecular Research Inc. (AMRI) Named Exclusive API ...",link:"https://www.marketscreener.com/news/latest/Albany-Molecular-Research-Inc-AMRI-Named-Exclusive-API-Supplier-for-Recently-Approved-Acne-Treatm--31652352/",source:"marketscreener.com"},{title:"The 5 Best Face Washes For Cystic Acne",link:"https://www.elitedaily.com/p/the-5-best-face-washes-for-cystic-acne-39555468",source:"Elite Daily"},{title:"Maskne Is Real \u2014 Here\u2019s How To Deal",link:"https://www.refinery29.com/en-us/2020/10/10136549/maskne-treatment",source:"Refinery29"}],this.hardCodedBronze=[{title:"Sri Lanka- Empty bullets, shells to be used as",link:"https://menafn.com/1101060904/Sri-Lanka-Empty-bullets-shells-to-be-used-as-raw-material-for-traditional-industries",source:"MENAFN.COM"},{title:"How Rosie Assoulin and Five Other Designers Created a...",link:"https://www.elle.com/fashion/a34349398/how-rosie-assoulin-and-five-other-designers-created-a-collection-using-upcycled-car-parts/",source:"ELLE.com"},{title:"Putting waste to good use: govt to reuse discarded railway...",link:"http://www.adaderana.lk/news/68748/putting-waste-to-good-use-govt-to-reuse-discarded-railway-sleepers-empty-shell-cases-and-other-material",source:"adaderana.lk"},{title:"Stainless Steel, Bronze, Brass, or Aluminum: How to Choose Handle Materials",link:"https://www.archdaily.com/929360/stainless-steel-bronze-brass-or-aluminum-how-to-choose-handle-materials",source:"ArchDaily"},{title:"Toppan Receives Bronze Class SAM Sustainability Award for 2nd Year",link:"https://www.printedelectronicsnow.com/contents/view_breaking-news/2020-02-10/toppan-receives-bronze-class-sam-sustainability-award-for-2nd-year/",source:"Printed Electronics Now Magazine"}],this.hardCodedBrass=[{title:"Analysis: Interpretation of the Development Plan for the New Energy Vehicle Industry",link:"https://news.metal.com/newscontent/101305330/analysis-interpretation-of-the-development-plan-for-the-new-energy-vehicle-industry",source:"SMM - Shanghai Metals Market"},{title:"Non-ferrous scrap exporters hesitant to ship to China",link:"https://www.argusmedia.com/en/news/2153113-nonferrous-scrap-exporters-hesitant-to-ship-to-china",source:"Argus Media"},{title:"UP's Ghunghroo Industry Sees Revival With Strong...",link:"https://swarajyamag.com/insta/ups-ghunghroo-industry-sees-revival-with-strong-export-demand-following-yogi-govts-scheme-for-artisans",source:"Swarajya"},{title:"Shimmering bells of Etah to shine globally",link:"http://www.millenniumpost.in/business/shimmering-bells-of-etah-to-shine-globally-422160",source:"Millennium Post"},{title:"China to allow imports of new-standard scrap metal from Nov. 1",link:"https://www.zawya.com/mena/en/markets/story/China_to_allow_imports_of_newstandard_scrap_metal_from_Nov_1-TR20201019nL4N2HA2XSX1/",source:"ZAWYA"}],this.hardCodedFertilityServices=[{title:"The Challenges of Commercializing Fertility",link:"https://hbswk.hbs.edu/item/the-challenges-of-commercializing-fertility",source:"Harvard Business School Working Knowledge"},{title:"Inception Fertility Announces Appointment of Nicole R. Braley...",link:"https://www.prnewswire.com/news-releases/inception-fertility-announces-appointment-of-nicole-r-braley-as-chief-marketing-officer-301167281.html",source:"PRNewswire"},{title:"INVO Bioscience Announces Pricing of Follow-on Public...",link:"https://www.prnewswire.com/news-releases/invo-bioscience-announces-pricing-of-follow-on-public-offering-and-listing-on-the-nasdaq-capital-market-301172506.html",source:"PRNewswire"},{title:"The most effective fertility supplements",link:"https://www.nutritionaloutlook.com/view/the-most-effective-fertility-supplements",source:"Nutritional Outlook"},{title:"Advanced Fertility Center of Chicago Welcomes Reproductive...",link:"https://www.prnewswire.com/news-releases/advanced-fertility-center-of-chicago-welcomes-reproductive-endocrinologist-dr-debra-schell-301158406.html",source:"PRNewswire"}],this.hardCodedNewsIndustrialRobotics=[{title:"North America robot sales see double-digit growth\n ",link:"https://www.todaysmedicaldevelopments.com/article/robot-sales-north-america-2022/ ",source:"Todays Medical Developments",linkExists:!1},{title:"Global robot sales bounce back to hit record highs ",link:"https://drivesncontrols.com/news/fullstory.php/aid/7072/Global_robot_sales_bounce_back_to_hit_record_highs.html ",source:"Drivesn controls",linkExists:!1},{title:"Robot Sales Surge in Europe, Asia and the Americas \u2013 IFR Reports ",link:"hhttps://www.businesswire.com/news/home/20220621005720/en/Robot-Sales-Surge-in-Europe-Asia-and-the-Americas-%E2%80%93-IFR-Reports ",source:"Business wire",linkExists:!1}],this.hardCodedNewsNextGenerationSequencing=[{title:"How Next-Generation Sequencing Can Help Us In The War Against Cancer ",link:"https://www.forbes.com/sites/forbestechcouncil/2022/06/24/how-next-generation-sequencing-can-help-us-in-the-war-against-cancer/ ",source:"Forbes",linkExists:!1},{title:"MGI to Take Another Crack at US Next-Gen Sequencing Market This Summer",link:"https://www.genomeweb.com/sequencing/mgi-take-another-crack-us-next-gen-sequencing-market-summer  ",source:"Genomweb",linkExists:!1},{title:"Merck illumina Launch Research Test To Unlock Deeper Insights Into Tumor Genome ",link:"https://medicaldialogues.in/news/industry/pharma/merck-illumina-launch-research-test-to-unlock-deeper-insights-into-tumor-genome-94984  ",source:"Medical Dialogues",linkExists:!1}],this.flag=1}ngOnInit(){if(window.scroll(0,0),console.log("this.suggestion",this.suggestion),"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType)if(this.activatedRoute.snapshot.queryParams.reportId)this.reportService.getById(this.activatedRoute.snapshot.queryParams.reportId).subscribe(e=>{if(e){this.localStorageService.set(k.cc.CURRENT_REPORT,{_id:e._id,title:e.title,category:e.category,vertical:e.vertical,cp:e.cp,me:{start_year:e.me.start_year,end_year:e.me.end_year,base_year:e.me.base_year},overlaps:e.overlaps,owner:e.owner,tocList:e.tocList,status:e.status,title_prefix:e.title_prefix,youtubeContents:e.youtubeContents}),this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.process();const a=M.indexOf(ut.reportIds,this.activatedRoute.snapshot.queryParams.reportId);a>-1?(this.leadsArray=ut.hardCodedLeads[a],this.hardcodedStocks=ut.hardCodedStocks[a],this.hardCodedFiling=ut.hardCodedFilings[a]):(this.getLeadsStocksFilings(M.flatMap(e.cp,"company_id")),this.localStorageService.set(k.cc.CURRENT_CP_IDS,M.flatMap(e.cp,"company_id")))}});else if(this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType){this.process();const e=M.indexOf(ut.reportIds,this.currentReport._id);e>-1?(this.leadsArray=ut.hardCodedLeads[e],this.hardcodedStocks=ut.hardCodedStocks[e],this.hardCodedFiling=ut.hardCodedFilings[e]):(this.cps=this.localStorageService.get(k.cc.CURRENT_CP_IDS),this.getLeadsStocksFilings(this.cps))}}getNewsVideos(e){this.finalNews=[],this.news=[],this.youtubeContents=[],e?"Corona Economy"==e?(this.hardCodedCovidContents.forEach(n=>{this.youtubeContents.push(n)}),this.getNewsAndVideos("Corona Economy",[])):(this.getVideos(e+" industry"),this.getNewsAndVideos(e+" industry",[])):(this.hardCodedCovidContents.forEach(n=>{this.youtubeContents.push(n)}),this.getNewsAndVideos("Corona Economy",[]))}process(){if(this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.currentReport&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType){if(this.reportId=this.currentReport._id,this.reportName=this.currentReport.title,this.overlaps=this.currentReport.overlaps?this.currentReport.overlaps:[],this.youtubeContents=this.currentReport.youtubeContents?this.currentReport.youtubeContents:[],this.cp=this.localStorageService.get(k.cc.CP),this.reportId==this.sharedInterconenctService.reportId)this.reportConnectData=this.sharedInterconenctService.reportConnectData,this.fillingConnect=this.sharedInterconenctService.fillingConnect,this.finalNews=this.sharedInterconenctService.finalNews;else{if(this.currentReport.overlaps){const e=this.overlaps.filter(n=>"Report"==n.section_name);if(e.length){const n={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){n.section=e[0].section_name;for(let a=0;a<e[0].data.length;a++)n.data.push(e[0].data[a])}this.reportConnectData=n,this.sharedInterconenctService.reportConnectData=this.reportConnectData}}this.getNewsAndVideos(this.reportName+" industry",[]),this.sharedInterconenctService.reportId=this.reportId}if(!this.isTopPlayer&&this.overlaps&&this.overlaps.length){const e={};this.overlaps.forEach(n=>{const a=[];if(n.data&&n.data.length)for(let r=0;r<2;r++)a.push(n.data[r]);e[n.section_name]=a}),this.interConnectData=e,this.sharedInterconenctService.interConnectData=this.interConnectData,this.orderInterConnects(this.currentOrder)}}}ngOnChanges(e){this.suggestion=e.suggestion.currentValue;const n=this.suggestion.orderType;"topPlayers"==n?this.isTopPlayer=!0:this.currentOrder="supplychain"==n?"supplyChainOrder":"porter"==n?"porterOrder":"normalOrder",this.sharedInterconenctService.sharedText.subscribe(a=>{this.searchText=a,("covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType)&&("newsVideos"==this.suggestion.orderType&&(this.hardCodedReportConnectData={section:"",data:[]},"Corona Economy"!=this.searchText&&(this.hardCodedReportConnectData=this.hardCodedReports)),this.getNewsVideos(this.searchText))})}getNewsAndVideos(e,n){"5e2ada2735e3250004e27b14"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedFacialFatTransferNews,this.sharedInterconenctService.finalNews=this.finalNews):"5e8455141591300004822f09"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedHyaluronicAcid,this.sharedInterconenctService.finalNews=this.finalNews):"5eb543c36e66720004958fe0"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedActionCameraNews,this.sharedInterconenctService.finalNews=this.finalNews):"5f02f5589be6f35140188cb3"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedBotulinumToxin,this.sharedInterconenctService.finalNews=this.finalNews):"5f22b1f843abd91218d1d533"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedWaterPurifier,this.sharedInterconenctService.finalNews=this.finalNews):"5e86cb182af83b0004733a74"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedWearableAmbulatory,this.sharedInterconenctService.finalNews=this.finalNews):"5f636e6394ef4c5219ac9cd1"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedCovidTestingKit,this.sharedInterconenctService.finalNews=this.finalNews):"5e212fdd7d97af0004f1dada"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedPetroleumPitch,this.sharedInterconenctService.finalNews=this.finalNews):"5f8432da2502900fe65a2953"!=this.reportId&&"5f8d25a7de8a618a3f0abb21"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5f97e2804b4e9c1a04010937"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedAcneTreatment,this.sharedInterconenctService.finalNews=this.finalNews):"5f9fe2bed5f1cc58807dcc0e"!=this.reportId&&"5fa157964fc5c58d57921c17"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5f9bf4f9d5f1cc58807dc82e"!=this.reportId&&"5fa021761bc9973c681dd60f"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5e20382d7bd47f0004269ed0"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedFertilityServices,this.sharedInterconenctService.finalNews=this.finalNews):"5e98947ef6ba090004d9a844"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsVerticalGarden,this.sharedInterconenctService.finalNews=this.finalNews):"5e9f1075f2792f00046ee8f7"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsZeroEnergy,this.sharedInterconenctService.finalNews=this.finalNews):"5e79ebcb6d7f240004e4eafe"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsLaminatedVeneerLumber,this.sharedInterconenctService.finalNews=this.finalNews):"62b085714332013719059102"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsIndustrialRobotics,this.sharedInterconenctService.finalNews=this.finalNews):"62b30bd943320137190591c1"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsNextGenerationSequencing,this.sharedInterconenctService.finalNews=this.finalNews):e&&(this.news=[],"5e29b4258fb7610004367a42"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?this.finalNews=this.hardCodedNews:this.newsService.getAll(e,0).subscribe(a=>{this.news.push(a),this.getNewsData(this.news)})):(this.finalNews=this.hardCodedBronze,this.sharedInterconenctService.finalNews=this.finalNews):(this.finalNews=this.hardCodedBrass,this.sharedInterconenctService.finalNews=this.finalNews):(this.finalNews=this.hardCodedEuropeZincChemicals,this.sharedInterconenctService.finalNews=this.finalNews)}getVideos(e){this.contents=[],this.youtubeService.getAll(e.toLowerCase()).subscribe(n=>{n&&n.items.length&&n.items.forEach(a=>{this.contents.push({imgUrl:a.snippet&&a.snippet.thumbnails&&a.snippet.thumbnails.medium&&a.snippet.thumbnails.medium.url?a.snippet.thumbnails.medium.url:"",videoid:a.id&&a.id.videoId?a.id.videoId:"",title:a.snippet&&a.snippet.title?a.snippet.title:"",publishedAt:a.snippet&&a.snippet.publishedAt?a.snippet.publishedAt:""})})}),this.youtubeContents=this.contents}getVideoData(e){if(this.contents=[],e&&e.length){const n=Math.ceil(5/e.length);e.forEach(a=>{a.items.forEach((r,s)=>{s<n&&this.contents.push(r)})}),this.sharedInterconenctService.contents=this.contents}}getNewsData(e){if(this.finalNews=[],e&&e.length){const n=Math.ceil(5/e.length);e.forEach(a=>{a.forEach((r,s)=>{s<n&&this.finalNews.push(r)})}),this.sharedInterconenctService.finalNews=this.finalNews}}openYtDailog(e){this.dialog.open(pn.L,{width:"650px",height:"350px",data:{url:e},disableClose:!1})}getTopLeadsCompany(e){this.leadsArray=[],e&&e.length&&this.leadsService.getTopLeadsCp(e,this.currentReport.vertical).then(n=>{n&&n.data&&(this.leadsArray=n.data)}).catch(n=>{})}orderInterConnects(e){const n=this.order[e];this.interConnects=[],n.length&&n.forEach(a=>{const r=this.interConnectData[a];if(r&&r.length&&r[0]){const s={report_id:r[0].report_id,report_name:r[0].report_name,main_section:this.sectionDetails[a].main_section,router_link:this.sectionDetails[a].router_link,section:void 0};this.sectionDetails[a].section_name&&(s.section=this.sectionDetails[a].section_name),this.interConnects.push(s)}if(r&&r.length>1&&r[1]){const s={report_id:r[1].report_id,report_name:r[1].report_name,main_section:this.sectionDetails[a].main_section,router_link:this.sectionDetails[a].router_link,section:void 0};this.sectionDetails[a].section_name&&(s.section=this.sectionDetails[a].section_name),this.interConnectsMore.push(s)}})}getLeadsStocksFilings(e){this.localInterConnects=this.localStorageService.get(k.cc.CURRENT_INTERCONNECTS),this.localInterConnects&&this.localInterConnects.reportId==this.currentReport._id?this.processInterConnectData(this.localInterConnects.data):this.cpService.getInterconnects({cps:e}).subscribe(n=>{n&&n.length&&(this.processInterConnectData(n),this.localStorageService.set(k.cc.CURRENT_INTERCONNECTS,{reportId:this.currentReport._id,data:n}))},n=>{console.log(n)})}processInterConnectData(e){this.hardcodedStocks=[],this.hardCodedFiling=[],this.leadsArray=[];const n=M.compact(M.flatMap(M.flatMap(e,"inter_connect"),"leads"));n.length&&n.forEach(a=>{this.leadsArray.push(a.split(",   ")[0])}),this.hardcodedStocks=M.remove(M.compact(M.flatMap(M.flatMap(e,"inter_connect"),"stocks")),a=>{if(""!=a.name&&""!=a.ticker)return a}),this.hardCodedFiling=M.compact(M.flatMap(M.flatMap(e,"inter_connect"),"filings"))}showMessage(){this.toastr.info("This report is not a part of current subscription.","Message")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(hn.F),t.Y36(gn.I),t.Y36(D.uw),t.Y36(S.gz),t.Y36(A.n),t.Y36(un.C),t.Y36(I.r),t.Y36(xe.M),t.Y36(mn.t),t.Y36(qt.t),t.Y36(Ht._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-hardcoded-suggestions"]],inputs:{suggestion:"suggestion"},features:[t.TTD],decls:13,vars:10,consts:[["displayMode","flat","multi","true"],[1,"sug-head"],[4,"ngIf"],[3,"hideToggle",4,"ngIf"],[1,"bottom-line"],[1,"bgs"],["class","row col margin-one zero-padding bottom-line",4,"ngFor","ngForOf"],[1,"row","col","margin-one","zero-padding","bottom-line"],[1,"header-card"],[1,"widther"],[1,"dataOverlap"],[3,"routerLink","queryParams",4,"ngIf"],[3,"click",4,"ngIf"],["class","header-card",4,"ngIf"],[3,"routerLink","queryParams"],[1,"sectionName"],[1,"reportName"],[3,"click"],[1,"btns",3,"click"],["routerLink","/chart-results",3,"queryParams",4,"ngIf"],["routerLink","/top-bar-cp"],[1,"btns"],["routerLink","/chart-results",3,"queryParams"],["target","_blank",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",3,"routerLink","queryParams"],["class","row col margin-one zero-padding",4,"ngFor","ngForOf"],[1,"row","col","margin-one","zero-padding"],["class","row col margin-one zero-padding bottom-line",4,"ngIf"],["routerLink","/market-estimation","target","_blank",3,"queryParams",4,"ngIf"],["routerLink","/market-estimation","target","_blank",3,"queryParams"],["routerLink","/market-estimation",3,"queryParams"],[3,"hideToggle"],[1,"bottom-line",3,"collapsedHeight","expandedHeight","click"],["class","blue-block white-bg",3,"click",4,"ngIf"],[1,"sectionName","video-section",3,"title","click"],[1,"span"],["class","btns",4,"ngIf"],[1,"blue-block","white-bg",3,"click"],[1,"dataOverlap","padding-left-10"],[1,"suggestion-img",3,"src"],["class","header-card bottom-line",4,"ngIf"],[1,"header-card","bottom-line"],["routerLink","/output-chart/youtube",3,"queryParams"],[1,"sectionName",3,"title"],["target","_blank",3,"href"],["routerLink","/output-chart/api-search",3,"queryParams",4,"ngIf"],["routerLink","/output-chart/api-search",3,"queryParams"],[1,"header-card","blue-flex"],[3,"routerLink"],["class","header-card blue-flex",4,"ngIf"],["routerLink","/output-chart/leads-db",3,"queryParams"],[3,"collapsedHeight","expandedHeight","click"],["routerLink","/output-chart/sec-edgar",3,"queryParams"],["class","header-card","routerLink","/output-chart/sec-edgar",3,"queryParams",4,"ngIf"],["routerLink","/output-chart/sec-edgar",1,"header-card",3,"queryParams"],[1,"btns","btn-margin-left"],["routerLink","/stocks",3,"queryParams"],["class","header-card","routerLink","/stocks",4,"ngIf"],["routerLink","/stocks",1,"header-card"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-accordion",0)(1,"div",1),t._uU(2,"Suggested Interconnects"),t.qZA(),t.YNc(3,Yn,5,3,"div",2),t.YNc(4,Qn,3,1,"div",2),t.YNc(5,Vn,3,1,"div",2),t.YNc(6,ri,15,16,"mat-expansion-panel",3),t.YNc(7,_i,17,15,"mat-expansion-panel",3),t.YNc(8,wi,2,1,"div",2),t.YNc(9,bi,2,1,"div",2),t.YNc(10,Di,16,10,"mat-expansion-panel",3),t.YNc(11,Li,14,12,"mat-expansion-panel",3),t.YNc(12,Bi,14,14,"mat-expansion-panel",3),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",n.interConnects&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.reportConnectData&&(null==n.reportConnectData?null:n.reportConnectData.data.length)&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardCodedReportConnectData&&(null==n.hardCodedReportConnectData?null:n.hardCodedReportConnectData.data.length)&&"newsVideos"==n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.youtubeContents&&n.youtubeContents.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.finalNews.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.youtubeContents&&n.youtubeContents.length&&("covid"==n.suggestion.orderType||"newsVideos"==n.suggestion.orderType)),t.xp6(1),t.Q6J("ngIf",n.finalNews.length&&("covid"==n.suggestion.orderType||"newsVideos"==n.suggestion.orderType)),t.xp6(1),t.Q6J("ngIf",n.leadsArray.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardCodedFiling.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardcodedStocks.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType))},directives:[Ft.pp,b.O5,b.sg,S.yS,Ft.ib,Ft.yz],pipes:[b.rS,b.OU,b.uU],styles:[".header-card[_ngcontent-%COMP%]{display:flex}.header-card[_ngcontent-%COMP%]   .suggestion-img[_ngcontent-%COMP%]{width:120px;height:70px;padding-left:10px}.header-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;padding-top:3px}.header-card[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{font-size:10px;color:#333;line-height:1.2}.header-card[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{font-size:9px;border:none;color:#00f;background:rgba(0,0,0,.1);cursor:pointer}.header-card[_ngcontent-%COMP%]   .pads[_ngcontent-%COMP%]{padding:5px;cursor:pointer}  .mat-expansion-panel-header{padding:0 4px!important}  .col,   .col-3,   hr{margin:0!important;padding:0 10px 0 0!important}  .mat-expansion-panel-body{padding:0 4px!important}  .mat-expansion-panel{box-shadow:none!important;background:transparent}.sug-head[_ngcontent-%COMP%]{font-size:14px;font-weight:500;padding:0 0 5px 5px}.blue-block[_ngcontent-%COMP%]{height:80px;background-color:#2b5498;color:#fff;font-weight:500;padding:10px;font-size:12px;margin:5px 0}.widther[_ngcontent-%COMP%]{padding-left:10px;margin:5px 0}.blue-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.white-bg[_ngcontent-%COMP%]{background-color:transparent;padding:0}.reportName[_ngcontent-%COMP%]{font-size:10px;color:#4c4c4c}.sectionName[_ngcontent-%COMP%]{font-size:13px}.dataOverlap[_ngcontent-%COMP%]{font-size:11px;color:#000000de}.video-section[_ngcontent-%COMP%]{color:#4087ff;cursor:pointer;padding-top:14px!important}.bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.3)}.padding-left-10[_ngcontent-%COMP%]{padding-left:10px}a[_ngcontent-%COMP%]{color:#2b5498!important}a[_ngcontent-%COMP%]:hover{color:#007bff!important}.btn-margin-left[_ngcontent-%COMP%]{margin-left:10px}"]}),i})();const Gi=["screenPie"],zi=["screenBar"],Qi=["screenImg"],ji=["canvas"],Vi=["downloadLink"];function $i(i,o){if(1&i&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function Wi(i,o){if(1&i&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Ki(i,o){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Xi(i,o){1&i&&(t.ynx(0,26),t.YNc(1,Wi,2,1,"th",27),t.YNc(2,Ki,2,1,"td",28),t.BQk()),2&i&&t.s9C("matColumnDef",o.$implicit)}function ta(i,o){1&i&&t._UZ(0,"tr",31)}function ea(i,o){1&i&&t._UZ(0,"tr",32)}function na(i,o){if(1&i&&(t.TgZ(0,"div",18)(1,"p",19)(2,"span",20),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",21),t.YNc(6,Xi,3,1,"ng-container",22),t.YNc(7,ta,1,0,"tr",23),t.YNc(8,ea,1,0,"tr",24),t.qZA(),t.TgZ(9,"p",25)(10,"span",20),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function ia(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function aa(i,o){if(1&i&&t._UZ(0,"img",42),2&i){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function oa(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a)}),t.qZA(),t.YNc(4,ia,1,0,"i",36),t.qZA()(),t.TgZ(5,"div",37,38)(7,"p",19)(8,"span",20),t._uU(9,"Title\xa0:\xa0"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"div",39),t.YNc(12,aa,1,1,"img",40),t.qZA(),t.TgZ(13,"p",25)(14,"span",20),t._uU(15,"Source\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(4),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function ra(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function sa(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a)}),t.qZA(),t.TgZ(4,"i",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().downloadExcel(a)}),t.qZA(),t.YNc(5,ra,1,0,"i",36),t.qZA()(),t.TgZ(6,"div",37,44)(8,"p",19)(9,"span",20),t._uU(10,"Title\xa0:\xa0"),t.qZA(),t._uU(11),t.qZA(),t._UZ(12,"canvas",45),t.TgZ(13,"p",25)(14,"span",20),t._uU(15,"Source\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(5),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function ca(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function la(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a)}),t.qZA(),t.TgZ(4,"i",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().downloadExcel(a)}),t.qZA(),t.YNc(5,ca,1,0,"i",36),t.qZA()(),t.TgZ(6,"div",46,47)(8,"p",19)(9,"span",20),t._uU(10,"Title\xa0:\xa0"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"div",48)(13,"p",49),t._uU(14),t.qZA(),t._UZ(15,"canvas",50),t.qZA(),t.TgZ(16,"p",19),t._uU(17),t.qZA(),t.TgZ(18,"p",25)(19,"span",20),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(5),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function da(i,o){if(1&i&&(t.TgZ(0,"div",12),t.ynx(1,13),t.YNc(2,$i,2,1,"div",14),t.YNc(3,na,13,6,"div",15),t.YNc(4,oa,17,4,"div",15),t.YNc(5,sa,17,10,"div",15),t.YNc(6,la,22,11,"div",15),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const pa=function(){return{orderType:"driver"}};let St=(()=>{class i{constructor(e,n,a,r){this.dialog=e,this.authService=n,this.localStorageService=a,this.excelDownloadService=r,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){if(this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.permissions=this.authService.getUserPermissions(),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;const e=this.overlaps.filter(a=>"Drivers"==a.section_name);if(e.length){const a={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){a.section=e[0].section_name;for(let r=0;r<e[0].data.length&&r<2;r++)a.data.push(e[0].data[r])}this.interConnectData=a}const n=this.overlaps.filter(a=>"Report"==a.section_name);if(n.length){const a={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){a.section=n[0].section_name;for(let r=0;r<n[0].data.length&&r<2;r++)a.data.push(n[0].data[r])}this.reportConnectData=a}}window.scroll(0,0)}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}ngAfterViewInit(){}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(R.e),t.Y36(A.n),t.Y36(X.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-secondary-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Gi,5),t.Gf(zi,5),t.Gf(Qi,5),t.Gf(ji,5),t.Gf(Vi,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},inputs:{secondaryOutputModel:"secondaryOutputModel"},decls:17,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid content-p",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"container-fluid","content-p"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"float-l-width","header-background"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,da,7,6,"div",6),t.qZA()(),t._UZ(9,"div"),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(12,"div",9),t._UZ(13,"img",null,10)(15,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("",null==n.secondaryOutputModel?null:n.secondaryOutputModel.heading,", ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.reportName," Market [",null==n.secondaryOutputModel?null:n.secondaryOutputModel.startYear," - ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.endYear,"] "),t.xp6(2),t.Q6J("ngForOf",null==n.secondaryOutputModel?null:n.secondaryOutputModel.mainData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,pa)))},directives:[b.sg,b.RF,b.n9,ct,at,it,ot,nt,lt,dt,ht,pt,gt,b.O5,j.jh,W],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:20px;width:100%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]     p{margin:5px 8px!important;font-size:15px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}  .Bullet span:first-child{display:none}"]}),i})();const ha=["screenPie"],ga=["screenBar"],ua=["screenImg"],ma=["canvas"],_a=["downloadLink"];let fa=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.reportService=a,this.authService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend,this.spinner.show()}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"EXECUTIVE_SUMMARY").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{console.log("error",n)})}generateImage(e){this.permissions.imageExport?"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()}):this.authService.showNotSubscribedMsg()}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length&&e[0]&&e[0].content?(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(e[0].content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Executive Summary"},e.forEach(n=>{"EXECUTIVE SUMMARY"===n.section_name&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Executive Summary"})}),this.emptyList.push(e[0]),this.emptyList=M.uniq(this.emptyList),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let a=!1;this.emptyList=this.emptyList.filter(r=>!(!a&&r==n&&(this.driverList.push(r),a=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(I.r),t.Y36(R.e),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-executive-summary"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ha,5),t.Gf(ga,5),t.Gf(ua,5),t.Gf(ma,5),t.Gf(_a,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[St],styles:[""]}),i})();var Oe=O(4594);const va=["screenPie"],Ca=["screenBar"],wa=["screenImg"],ya=["canvas"],xa=["downloadLink"];function ba(i,o){if(1&i&&(t.TgZ(0,"div",18),t._UZ(1,"div",19),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function Ma(i,o){if(1&i&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Oa(i,o){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function ka(i,o){1&i&&(t.ynx(0,28),t.YNc(1,Ma,2,1,"th",29),t.YNc(2,Oa,2,1,"td",30),t.BQk()),2&i&&t.s9C("matColumnDef",o.$implicit)}function Sa(i,o){1&i&&t._UZ(0,"tr",33)}function Ta(i,o){1&i&&t._UZ(0,"tr",34)}function Da(i,o){if(1&i&&(t.TgZ(0,"div",20)(1,"p",21)(2,"span",22),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",23),t.YNc(6,ka,3,1,"ng-container",24),t.YNc(7,Sa,1,0,"tr",25),t.YNc(8,Ta,1,0,"tr",26),t.qZA(),t.TgZ(9,"p",27)(10,"span",22),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function Pa(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function Ra(i,o){if(1&i&&t._UZ(0,"img",49),2&i){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function Aa(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",36)(3,"div",36)(4,"div",36)(5,"div",37),t.TgZ(6,"div",38)(7,"div",39)(8,"i",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t._UZ(9,"i",41),t.YNc(10,Pa,1,0,"i",42),t.qZA()()(),t.TgZ(11,"div",43,44)(13,"p",45)(14,"span",22),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",46),t.YNc(18,Ra,1,1,"img",47),t.qZA(),t.TgZ(19,"p",27)(20,"span",22),t._uU(21,"Source\xa0:\xa0"),t.qZA(),t._uU(22),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Za(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function Ea(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",36)(3,"div",36)(4,"div",36)(5,"div",37),t.TgZ(6,"div",38)(7,"div",39)(8,"i",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t.TgZ(9,"i",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().downloadExcel(a)}),t.qZA(),t.YNc(10,Za,1,0,"i",42),t.qZA()()(),t.TgZ(11,"div",43,51)(13,"p",45)(14,"span",22),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",52),t.TgZ(18,"p",27)(19,"span",22),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Na(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function Ia(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",53),t.TgZ(3,"div",38)(4,"div",39)(5,"i",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t.TgZ(6,"i",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().downloadExcel(a)}),t.qZA(),t.YNc(7,Na,1,0,"i",42),t.qZA()()(),t.TgZ(8,"div",54,55)(10,"p",45)(11,"span",22),t._uU(12,"Title\xa0:\xa0"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"div",56)(15,"p",57),t._uU(16),t.qZA(),t._UZ(17,"canvas",58),t.qZA(),t.TgZ(18,"p",21),t._uU(19),t.qZA(),t.TgZ(20,"p",27)(21,"span",22),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(7),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function La(i,o){if(1&i&&(t.TgZ(0,"div",14),t.ynx(1,15),t.YNc(2,ba,2,1,"div",16),t.YNc(3,Da,13,6,"div",17),t.YNc(4,Aa,23,4,"div",17),t.YNc(5,Ea,22,10,"div",17),t.YNc(6,Ia,24,11,"div",17),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const Ua=function(i){return{type:i}};function Ya(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"a",59),t._uU(2),t.qZA(),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("queryParams",t.VKq(2,Ua,e)),t.xp6(1),t.Oqu(e)}}const qa=function(){return{orderType:"driver"}};let Ha=(()=>{class i{constructor(e,n,a,r,s,c,l,_){this.dialog=e,this.routes=n,this.reportService=a,this.reportSectionService=r,this.spinner=s,this.authService=c,this.localStorageService=l,this.excelDownloadService=_,this.reportData=[],this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend,this.spinner.show()}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;const n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){const r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}const a=this.overlaps.filter(r=>"Report"==r.section_name);if(a.length){const r={section:"",data:[]};if(a[0].data&&a[0].data.length&&a[0].section_name){r.section=a[0].section_name;for(let s=0;s<a[0].data.length&&s<2;s++)r.data.push(a[0].data[s])}this.reportConnectData=r}}this.reportService.getSectionKeyDetials(this.reportId,"MARKET_DYNAMICS").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(a=>{"introduction"===a.meta_info.section_key&&(this.reportData=this.reportSectionService.convertToReportDataElement(a.content)),this.emptyList.push(a.section_name),this.emptyList=M.uniq(this.emptyList)}),M.find(e,["meta_info.section_key","introduction"])&&this.reportData.length||this.reportData.push({data:`Following is the Market Dynamics Analysis for ${this.reportName} Market`,id:1,type:"TEXT"}),this.emptyList=M.remove(this.emptyList,a=>"MARKET DYNAMICS"!==a),this.compareList.forEach(a=>{let r=!1;this.emptyList=this.emptyList.filter(s=>!(!r&&s==a&&(this.driverList.push(s),r=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(R.e),t.Y36(A.n),t.Y36(X.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-drivers"]],viewQuery:function(e,n){if(1&e&&(t.Gf(va,5),t.Gf(Ca,5),t.Gf(wa,5),t.Gf(ya,5),t.Gf(xa,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:21,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,"down-header","container-fluid"],[1,"sub-heading","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"tabular","col-8"],[4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid content-p",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"container-fluid","content-p"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption2"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["style","margin: 5px 8px !important;",4,"matCellDef"],["mat-header-cell",""],[2,"margin","5px 8px !important"],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033","padding","10px"],["screenImg",""],[1,"mat-caption",2,"text-align","center","font-size","15px","padding","5px"],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"col-10"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["routerLink","/droctcontainer","mat-raised-button","",1,"driver-btn",3,"queryParams"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8,"Introduction"),t.qZA(),t.TgZ(9,"div"),t.YNc(10,La,7,6,"div",6),t.qZA()(),t._UZ(11,"div"),t.qZA(),t.TgZ(12,"div",7),t._UZ(13,"app-hardcoded-suggestions",8),t.qZA()(),t.TgZ(14,"mat-toolbar",9),t.YNc(15,Ya,3,4,"ng-container",10),t.qZA()()(),t.TgZ(16,"div",11),t._UZ(17,"img",null,12)(19,"a",null,13),t.qZA()),2&e&&(t.xp6(6),t.lnq("Market Dynamics, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(4),t.Q6J("ngForOf",n.reportData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,qa)),t.xp6(2),t.Q6J("ngForOf",n.driverList))},directives:[b.sg,b.RF,b.n9,ct,at,it,ot,nt,dt,ht,pt,gt,b.O5,j.jh,W,Oe.Ye,S.yS],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}"]}),i})();var E=O(88);let Fa=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-drivers-output-dialog"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"drivers-output-dialog works!"),t.qZA())},styles:[""]}),i})();var Bt=O(9532),J=O(3176),B=O(9224);const Ja=["screenPie"],Ba=["screenBar"],Ga=["screenImg"],za=["screen"],Qa=["canvas"],ja=["downloadLink"],Va=["callAPIDialog"];function $a(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).analyze()}),t._uU(1,"Analyze"),t.qZA()}}function Wa(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,$a,2,0,"a",16),t.qZA(),t.TgZ(3,"div",17)(4,"a",18),t._uU(5,"Send "),t._UZ(6,"i",19),t.qZA(),t.TgZ(7,"a",18),t._uU(8,"PPT "),t._UZ(9,"i",20),t.qZA(),t.TgZ(10,"i",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().generateImage("screen")}),t.qZA(),t._UZ(11,"i",22),t.TgZ(12,"i",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().openDroctDialog()}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf","Drivers"==e.typeParam||"Restraints"==e.typeParam)}}function Ka(i,o){if(1&i&&(t.TgZ(0,"mat-card-content",25,26)(2,"div",27)(3,"p",28)(4,"span",29),t._uU(5,"Title\xa0:\xa0"),t.qZA(),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"span",30),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t._UZ(11,"div",31),t.TgZ(12,"p",32)(13,"span",29),t._uU(14,"Source\xa0:\xa0"),t.qZA(),t._uU(15,"Wantstats "),t.qZA()()()),2&i){const e=t.oxw();t.xp6(6),t.HOy("Market Dynamics, ",t.lcZ(7,5,e.types),", ",e.reportName," Market [",e.startYear," - ",e.endYear,"]"),t.xp6(3),t.hij("Year ",e.showYear,"")}}function Xa(i,o){if(1&i&&(t.TgZ(0,"div",41),t._UZ(1,"div",42),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function to(i,o){if(1&i&&(t.TgZ(0,"th",51),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function eo(i,o){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function no(i,o){1&i&&(t.ynx(0,48),t.YNc(1,to,2,1,"th",49),t.YNc(2,eo,2,1,"td",50),t.BQk()),2&i&&t.s9C("matColumnDef",o.$implicit)}function io(i,o){1&i&&t._UZ(0,"tr",53)}function ao(i,o){1&i&&t._UZ(0,"tr",54)}function oo(i,o){if(1&i&&(t.TgZ(0,"div",43)(1,"p",28)(2,"span",29),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",44),t.YNc(6,no,3,1,"ng-container",45),t.YNc(7,io,1,0,"tr",46),t.YNc(8,ao,1,0,"tr",47),t.qZA(),t.TgZ(9,"p",32)(10,"span",29),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function ro(i,o){if(1&i&&t._UZ(0,"img",64),2&i){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function so(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",55),t._UZ(2,"div",56),t.TgZ(3,"div",57)(4,"div",17)(5,"a",18),t._uU(6,"Send "),t._UZ(7,"i",19),t.qZA(),t.TgZ(8,"a",58),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(a)}),t._uU(9,"PPT "),t._UZ(10,"i",20),t.qZA(),t.TgZ(11,"i",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a.type,a)}),t.qZA(),t._UZ(12,"i",59),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).openDialog(a)}),t.qZA()()()(),t.TgZ(14,"div",60,61)(16,"p",28)(17,"span",29),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"div",62),t.YNc(21,ro,1,1,"img",63),t.qZA(),t.TgZ(22,"p",32)(23,"span",29),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25),t.qZA()()()}if(2&i){const e=t.oxw().$implicit;t.xp6(19),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function co(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",17)(3,"a",18),t._uU(4,"Send "),t._UZ(5,"i",19),t.qZA(),t.TgZ(6,"a",58),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(a)}),t._uU(7,"PPT "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"i",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a.type,a)}),t.qZA(),t.TgZ(10,"i",65),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadPpt(a)}),t.qZA(),t.TgZ(11,"i",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a.type,a)}),t.qZA(),t.TgZ(12,"i",66),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadExcel(a)}),t.qZA(),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).openDialog(a)}),t.qZA()()(),t.TgZ(14,"div",67,68)(16,"p",28)(17,"span",29),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA(),t._UZ(20,"canvas",69),t.TgZ(21,"p",32)(22,"span",29),t._uU(23,"Source\xa0:\xa0"),t.qZA(),t._uU(24),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(19),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function lo(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",70)(2,"div",17)(3,"a",18),t._uU(4,"Send "),t._UZ(5,"i",19),t.qZA(),t.TgZ(6,"a",58),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(a)}),t._uU(7,"PPT "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"i",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a.type,a)}),t.qZA(),t.TgZ(10,"i",65),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadPpt(a)}),t.qZA(),t.TgZ(11,"i",66),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadExcel(a)}),t.qZA(),t.TgZ(12,"i",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).openDialog(a)}),t.qZA()()(),t.TgZ(13,"div",71,72)(15,"p",28)(16,"span",29),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"div",73)(20,"p",74),t._uU(21),t.qZA(),t._UZ(22,"canvas",75),t.qZA(),t.TgZ(23,"p",28),t._uU(24),t.qZA(),t.TgZ(25,"p",32)(26,"span",29),t._uU(27,"Source\xa0:\xa0"),t.qZA(),t._uU(28),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(18),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function po(i,o){if(1&i&&(t.TgZ(0,"div",36),t.ynx(1,37),t.YNc(2,Xa,2,1,"div",38),t.YNc(3,oo,13,6,"div",39),t.YNc(4,so,26,3,"div",40),t.YNc(5,co,25,9,"div",40),t.YNc(6,lo,29,10,"div",40),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}function ho(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",33),t._uU(2),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,po,7,6,"div",35),t.qZA()()),2&i){const e=o.$implicit,n=o.index,a=t.oxw();t.xp6(2),t.hij(" ",e," "),t.xp6(2),t.Q6J("ngForOf",a.reportData[n])}}const go=function(){return{orderType:"driver"}};let uo=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u,g){this.dialog=e,this.routes=n,this.activateRoutes=a,this.reportService=r,this.authService=s,this.reportSectionService=c,this.spinner=l,this.pptService=_,this.localStorageService=p,this.excelDownloadService=u,this.sharedAnalyticsService=g,this.ratingData=[],this.contentData=[],this.droctName=[],this.reportData=[],this.finalObject=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend,this.open=!1,this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.permissions=this.authService.getUserPermissions(),this.reportDetails=this.localStorageService.get(k.cc.CURRENT_REPORT),this.sectionDetails=this.localStorageService.get(k.cc.CURRENT_SECTION),a.queryParams.subscribe(m=>this.typeParam=m.type)}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}getReportDetailsSuccess(e,n){if(e.map(a=>{a.meta&&a.meta.type===n.toUpperCase()&&this.ratingData.push(a.meta.data),a.meta_info.parent_section_key===n.toLowerCase()&&this.contentData.push(a)}),this.contentData&&this.contentData.length&&this.ratingData&&this.ratingData.length){this.contentData.map(r=>{if(this.droctName.push(r.meta.data.name),r.content){let s=this.reportSectionService.convertToReportDataElement(r.content);this.reportData.push(s)}});let a=this.ratingData;if(this.ratingData.length>0)if(this.ratingData[0].rating.length)M.map(this.ratingData[0].rating,"year").forEach(s=>{let c={name:this.droctType,year:s,children:[],types:this.types};a.forEach(l=>{if(l.rating.length>0){const _=M.find(l.rating,["year",s]);c.children.push({name:l.name,rating:_?_.rating:5}),c.children=M.uniqBy(c.children,"name")}}),this.finalObject.push(c)}),this.generateTrees();else{let r=[];for(let s=this.startYear;s<=this.endYear;s++)r.push(s);r.length&&(r.forEach(s=>{let c={name:this.droctType,year:s,children:[],types:this.types};a.forEach(l=>{c.children.push({name:l.name,rating:5}),c.children=M.uniqBy(c.children,"name")}),this.finalObject.push(c)}),this.generateTrees())}window.scroll(0,0)}else this.routes.navigate(["driveroutput"]);this.spinner.hide()}generateImage(e,n=null){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(a=>{this.canvas.nativeElement.src=a.toDataURL(),this.downloadLink.nativeElement.href=a.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(a=>{this.canvas.nativeElement.src=a.toDataURL(),this.downloadLink.nativeElement.href=a.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e?x(this.screenImg.nativeElement).then(a=>{this.canvas.nativeElement.src=a.toDataURL(),this.downloadLink.nativeElement.href=a.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):x(this.screen.nativeElement).then(a=>{this.canvas.nativeElement.src=a.toDataURL(),this.downloadLink.nativeElement.href=a.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:this.typeParam,subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}openDialog(e){this.dialog.open(H.C,{width:"98%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}generateTrees(){if(this.cnt=0,0==this.cnt){let e=this.finalObject.length;this.cnt=(this.cnt+1+e)%e,this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year,this.cnt++,this.cnt>0&&(this.driverInterval=E.interval(()=>{this.finalObject.length>0&&(this.cnt=(this.cnt+1+e)%e,E.select("#driver-container svg").remove(),this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year)},1e3))}}renderTree(e){var _,s=E.select("#driver-container").append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),c=0,p=E.tree().size([245,300]);(_=E.hierarchy(e,function(m){return m.children})).x0=122.5,_.y0=0,function g(m){var v=p(_),y=v.descendants(),T=v.descendants().slice(1),P=s.selectAll("g.node").data(y,function(d){return d.id||(d.id=++c)}),N=P.enter().append("g").attr("class","node").attr("transform",function(d){return"translate("+m.y0+","+m.x0+")"});N.append("image").attr("href",function(d){return d.children||d._children?1==d.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(d){return d._children?"lightsteelblue":"#fff"}).style("color","#000"),N.append("text").attr("x",function(d){return 10}).attr("dy",function(d){return d.children||d._children?"-1em":"0.5em"}).attr("text-anchor",function(d){return d.children||d._children?"middle":"start"}).text(function(d){return 5==d.data.rating?d.data.name:d.data.rating>5&&d.data.rating<=10?d.data.rating>5&&d.data.rating<=7?d.data.name+" (medium impact)":d.data.name+" (high impact )":d.depth>0?d.data.name+" (low impact)":d.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(d){return d.data.percent>=70?"bold":"normal"}).call(function h(d,f){d.each(function(){for(var bt,Z=E.select(this),st=Z.text().split(/\s+/).reverse(),K=[],_t=0,Qt=Z.attr("y"),Dt=parseFloat(Z.attr("dy")),ft=Z.text(null).append("tspan").attr("x",0).attr("y",Qt).attr("dy",Dt+"em");bt=st.pop();)K.push(bt),ft.text(K.join(" ")),ft.node().getComputedTextLength()>f&&(K.pop(),ft.text(K.join(" ")),K=[bt],ft=Z.append("tspan").attr("x",0).attr("y",Qt).attr("dy",1*++_t+Dt+"em").text(bt))})},380);var Y=N.merge(P);Y.attr("transform",function(d){return"translate("+d.y+","+d.x+")"}),Y.select("image").attr("href",function(d){return d.children||d._children?d.data.rating>0?"../../assets/images/"+d.data.rating+".png":1==d.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),Y.select("text").style("fill-opacity",1);var F=P.exit().attr("transform",function(d){return"translate("+m.y+","+m.x+")"}).remove();F.select("circle").attr("r",1e-6),F.select("text").style("fill-opacity",1e-6);var q=s.selectAll("path.link").data(T,function(d){return d.id});function z(d,f){return`M ${d.y} ${d.x}\n            C ${(d.y+f.y)/2} ${d.x},\n              ${(d.y+f.y)/2} ${f.x},\n              ${f.y} ${f.x}`}q.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(d){return.5*d.data.rating+"px"}).attr("stroke",function(d){return d.data.rating>=4&&d.data.rating<=10?d.data.rating>=4&&d.data.rating<8?"#999":"red":"green"}).attr("d",function(d){var f={x:m.x0,y:m.y0};return z(f,f)}).merge(q).attr("d",function(d){return z(d,d.parent)}),q.exit().attr("d",function(d){var f={x:m.x,y:m.y};return z(f,f)}).remove(),y.forEach(function(d){d.x0=d.x,d.y0=d.y})}(_)}ngOnInit(){this.spinner.show(),this.ratingData=[],this.finalObject=[],this.contentData=[],this.reportData=[],this.droctName=[],E.select("#driver-container").selectAll("svg").remove(),this.driverInterval&&this.driverInterval.stop(),this.activateRoutes.queryParams.subscribe(e=>{this.spinner.show(),this.ratingData=[],this.finalObject=[],this.contentData=[],this.reportData=[],this.droctName=[],E.select("#driver-container").selectAll("svg").remove(),this.showYear=null,this.types=e.type.toLowerCase(),this.droctType=e.type;const n=this.localStorageService.get(k.cc.CURRENT_REPORT);if(this.reportName=n.title,this.startYear=n.me.start_year,this.endYear=n.me.end_year,this.reportId=n._id,n.overlaps){this.overlaps=n.overlaps;let r=this.overlaps.filter(c=>c.section_name==this.droctType);if(r.length){let c={section:"",data:[]};if(r[0].data&&r[0].data.length&&r[0].section_name){c.section=r[0].section_name;for(let l=0;l<r[0].data.length&&l<2;l++)c.data.push(r[0].data[l])}this.interConnectData=c}let s=this.overlaps.filter(c=>"Report"==c.section_name);if(s.length){let c={section:"",data:[]};if(s[0].data&&s[0].data.length&&s[0].section_name){c.section=s[0].section_name;for(let l=0;l<s[0].data.length&&l<2;l++)c.data.push(s[0].data[l])}this.reportConnectData=c}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_DYNAMICS").subscribe(r=>{this.getReportDetailsSuccess(r,this.types),window.scroll(0,0)},r=>{console.log("error",r)})})}ngAfterViewInit(){}openDroctDialog(){this.dialog.open(Fa,{width:"99%",data:this.finalObject,disableClose:!1}).afterClosed().subscribe(n=>{})}ngOnDestroy(){this.ratingData=[],this.finalObject=[],this.contentData=[],this.droctName=[],this.reportData=[],E.select("#driver-container").selectAll("svg").remove()}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(S.gz),t.Y36(I.r),t.Y36(R.e),t.Y36(L.A),t.Y36(U.t2),t.Y36(Bt._),t.Y36(A.n),t.Y36(X.O),t.Y36(J.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-droct-driver-container"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ja,5),t.Gf(Ba,5),t.Gf(Ga,5),t.Gf(za,5),t.Gf(Qa,5),t.Gf(ja,5),t.Gf(Va,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first),t.iGM(a=t.CRH())&&(n.callAPIDialog=a.first)}},decls:23,vars:11,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],["class","float-l-width header-background",4,"ngIf"],["class","padding20 outer-year-conatiner float-l-width",4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"down-header"],[1,"accordion"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"float-l-width","header-background"],[1,"float-l"],["class","btn-link","role","button",3,"click",4,"ngIf"],[1,"float-right"],[1,"btn-icon","ppt-btn"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],["role","button",1,"btn-link",3,"click"],[1,"padding20","outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"margin-left","10px"],["id","driver-container"],[1,"mat-caption"],[1,"mat-head"],["id","contents",1,""],["class","seprator-div",4,"ngFor","ngForOf"],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p",4,"ngSwitchCase"],["class","",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"content-p"],[3,"innerHTML"],[1,""],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-8"],[1,"col-4","zero-padding"],[1,"btn-icon","ppt-btn",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"responsiveImg",3,"src"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"header-background","float-l-width"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","90%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Wa,13,1,"div",4),t.YNc(5,Ka,16,7,"mat-card-content",5),t.TgZ(6,"div",6),t._UZ(7,"img",null,7)(9,"a",null,8),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.ALo(13,"titlecase"),t.qZA(),t.TgZ(14,"div",10),t.YNc(15,ho,5,2,"div",11),t.qZA()(),t.TgZ(16,"div",12),t._UZ(17,"app-hardcoded-suggestions",13),t.qZA()()()(),t.TgZ(18,"div",6),t._UZ(19,"img",null,7)(21,"a",null,8),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.finalObject.length),t.xp6(1),t.Q6J("ngIf",n.finalObject.length),t.xp6(7),t.HOy(" Market Dynamics, ",t.lcZ(13,8,n.types),", ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(3),t.Q6J("ngForOf",n.droctName),t.xp6(2),t.Q6J("suggestion",t.DdM(10,go)))},directives:[b.O5,B.dn,b.sg,b.RF,b.n9,ct,at,it,ot,nt,lt,dt,ht,pt,gt,j.jh,W],pipes:[b.rS],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.3);display:block;padding:10px 20px 0}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{width:50%;margin:auto}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{list-style:none}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.accordion[_ngcontent-%COMP%]{margin:20px inherit}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:500px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}@media screen and (min-width: 600px) and (max-width: 1000px){.outer-year-conatiner[_ngcontent-%COMP%]{overflow:auto}}"]}),i})();const mo=["screen"],_o=["canvas"],fo=["downloadLink"];let vo=(()=>{class i{constructor(e,n,a,r,s){this.dialogRef=e,this.data=n,this.localStorageService=a,this.routes=r,this.authService=s,this.finalObject=[]}ngOnInit(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.data&&this.data.data&&(this.treeData=this.data.data,this.baseYear=this.data.baseYear,this.metric=this.data.metric),this.generateTrees(),window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}generateTrees(){this.renderTree(this.treeData)}renderTree(e){var _,s=E.select("#dendo-container1").append("svg").attr("width",850).attr("height",380).append("g").attr("transform","translate(230,5)"),c=0,l=750,p=E.tree().size([365,390]);(_=E.hierarchy(e,function(m){return m.children})).x0=182.5,_.y0=0,_.children.forEach(function u(m){m.children&&(parseInt(m.depth)>1?(m._children=m.children,m.children=null,m.data.open=!1):m.children.forEach(u))}),function g(m){var v=p(_),y=v.descendants(),T=v.descendants().slice(1),P=s.selectAll("g.node").data(y,function(h){return h.id||(h.id=++c)}),N=P.enter().append("g").attr("class","node").attr("transform",function(h){return"translate("+m.y0+","+m.x0+")"}).on("click",function V(h){h.children?(h._children=h.children,h.children=null,h.data.open=!1):(h.children=h._children,h._children=null,h.data.open=!0),g(h)});N.append("image").attr("href",function(h){return h.children||h._children?1==h.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","white").attr("text","+").attr("cursor","pointer").style("fill",function(h){return h._children?"lightsteelblue":"#fff"}).style("color","#000"),N.append("text").attr("x",function(h){return 10}).attr("dy",function(h){return h.children||h._children?"-1em":"0.5em"}).attr("text-anchor",function(h){return h.children||h._children?"end":"start"}).text(function(h){let d="";h&&h.data&&h.data.percent&&(d=h.data.percent,d=d.replace("%",""));let f="";return h.data.name&&(f=h.data.name.substring(h.data.name.indexOf("_")+1)),0==h.depth?h.data.name:3==h.depth&&void 0===h.data.amount?f:f+", "+h.data.amount+", "+d+"%"}).style("fill-opacity",1e-6).style("font","10px sans-serif").style("font-weight",function(h){return h.data.percent>=70?"bold":"normal"});var Y=N.merge(P);Y.transition().duration(l).attr("transform",function(h){return"translate("+h.y+","+h.x+")"}),Y.select("image").attr("href",function(h){return h.children||h._children?1==h.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),Y.select("text").style("fill-opacity",1);var F=P.exit().transition().duration(l).attr("transform",function(h){return"translate("+m.y+","+m.x+")"}).remove();F.select("circle").attr("r",1e-6),F.select("text").style("fill-opacity",1e-6);var q=s.selectAll("path.link").data(T,function(h){return h.id});function z(h,d){return`M ${h.y} ${h.x}\n            C ${(h.y+d.y)/2} ${h.x},\n              ${(h.y+d.y)/2} ${d.x},\n              ${d.y} ${d.x}`}q.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(h){return"green"==h.data.color?"2px":"1px"}).attr("stroke",function(h){return h.data.color}).attr("d",function(h){var d={x:m.x0,y:m.y0};return z(d,d)}).merge(q).transition().duration(l).attr("d",function(h){return z(h,h.parent)}),q.exit().transition().duration(l).attr("d",function(h){var d={x:m.x,y:m.y};return z(d,d)}).remove(),y.forEach(function(h){h.x0=h.x,h.y0=h.y})}(_)}analyze(){this.routes.navigateByUrl("/dashboard"),this.doClose()}doClose(){this.data=[],E.select("#dendo-container1").selectAll("svg").remove(),this.dialogRef.close()}clickout(){this.data=[]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(S.F0),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-market-estimation-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(mo,5),t.Gf(_o,5),t.Gf(fo,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.clickout()},!1,t.evT)},decls:31,vars:5,consts:[[1,"row","col","header-background","header1"],[1,"col-2"],["role","button",1,"analyze",3,"click"],[1,"col-4"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["id","dendo-container1"],[2,"width","100%"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1)(6,"div",3),t.TgZ(7,"div",1)(8,"div",4)(9,"i",5),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t._UZ(10,"i",6),t.TgZ(11,"i",7),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(12,"mat-card-content",8,9)(14,"div",10)(15,"p",11)(16,"span",12),t._uU(17,"Title :"),t.qZA(),t._uU(18),t.qZA()(),t.TgZ(19,"div"),t._UZ(20,"div",13),t.TgZ(21,"div",14)(22,"p",15)(23,"span",12),t._uU(24,"Source :"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()()(),t.TgZ(26,"div",16),t._UZ(27,"img",null,17)(29,"a",null,18),t.qZA()),2&e&&(t.xp6(18),t.xDo("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"], Base Year: ",n.baseYear," (",n.metric,")"))},directives:[B.dn],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0!important}.header1[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}"]}),i})();var Tt=O(5758),re=O(4128),Gt=O(520);let Co=(()=>{class i{constructor(e,n){this.http=e,this.marketEstimationService=n}getMarketBreakupRegionDataService(e,n){let a=[];return n&&n.children.forEach((r,s)=>{a.push(this.marketEstimationService.getMeDataByRegion(e,r.id))}),(0,re.D)([...a])}getMarketBreakupSegmentDataService(e,n){let a=[];return n&&n.children&&n.children.forEach((r,s)=>{a.push(this.marketEstimationService.getMeDataBySegment(e,r.id))}),(0,re.D)([...a])}getMarketBreakupDataService(e,n,a){let r=this.getMarketBreakupRegionDataService(e,n),s=this.getMarketBreakupSegmentDataService(e,a);return(0,re.D)([r,s])}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Gt.eN),t.LFG(Tt.L))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wo=["screen"],yo=["canvas"],xo=["downloadLink"],bo=["callAPIDialog"],Mo=function(){return{orderType:"driver"}};let Oo=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u){this.dialog=e,this.routes=n,this.localStorageService=a,this.marketEstimationService=r,this.spinner=s,this.authService=c,this.reportService=l,this.activatedRoute=_,this.sharedAnalyticsService=p,this.requestMarketBreakupDataService=u,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.baseYear="",this.cnt=0,this.metric="",this.bifurcationLevel=1,this.sharedAnalyticsService.setReload(!0)}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Market Estimation, "+this.reportName+" Market ["+this.startYear+" - "+this.endYear+"], Base Year: "+this.baseYear,this.downloadLink.nativeElement.click()})}ngOnInit(){this.sharedAnalyticsService.setReload(!0),this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.activatedRoute.snapshot.queryParams.reportId?this.reportService.getById(this.activatedRoute.snapshot.queryParams.reportId).subscribe(e=>{e&&(this.localStorageService.set(k.cc.CURRENT_REPORT,{_id:e._id,title:e.title,category:e.category,vertical:e.vertical,me:{start_year:e.me.start_year,end_year:e.me.end_year,base_year:e.me.base_year},overlaps:e.overlaps,owner:e.owner,tocList:e.tocList,status:e.status,title_prefix:e.title_prefix,youtubeContents:e.youtubeContents}),this.getAPIData())}):this.getAPIData()}getAPIData(){this.sharedAnalyticsService.setReload(!0);const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.activatedRoute.snapshot.queryParams&&(this.activatedRoute.snapshot.queryParams.reportId&&(this.reportId=this.activatedRoute.snapshot.queryParams.reportId,console.log("reportId",this.reportId),this.reportService.setReportData(this.reportId)),this.activatedRoute.snapshot.queryParams.reportName&&(this.reportName=this.activatedRoute.snapshot.queryParams.reportName)),this.marketEstimationService.getMeData(this.reportId).subscribe(n=>{this.activatedRoute.snapshot.queryParams&&n.data&&n.data[0]&&n.data[0].me&&(this.startYear=n.data[0].me.start_year,this.endYear=n.data[0].me.end_year,n.data[0].me.data&&(this.meData=n.data[0].me.data),n.data[0].me.bifurcationLevel&&(this.bifurcationLevel=n.data[0].me.bifurcationLevel)),this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){e&&e.data&&e.data[0]&&e.data[0].me&&(this.data=e.data[0].me.segment,this.allRegions=e.data[0].me.geo_segment,this.baseYear=e.data[0].me.base_year,this.regionData=[],this.allRegions.length?(this.allRegions.forEach(n=>{this.regionData.push({id:n.id,name:n.region,children:n.countries})}),this.regions={id:"1",name:"Region",children:this.regionData},this.orgCharts(this.regions)):this.spinner.hide())}getRegionDataSuccess(e,n){if(e&&e.data&&e.data[0]){!this.metric&&e.data[0].metric&&(this.metric=e.data[0].metric,this.metric="Kilo Tons"==this.metric?e.data[0].metric:"USD "+this.metric);let a=e.data[0].value;this.regions.children.forEach(r=>{if(r.id==n){let s=Object.keys(a[a.length-1]),c="",l="";s.forEach(_=>{_.includes("CAGR (%) ")&&(c=_)}),l=r.name.replace(/ /gi,"_"),r.amount=this.convertToTwoDecimal(a[a.length-1][this.baseYear]),r.percent=this.convertToTwoDecimal(a[a.length-1][c]),r.open=!0,r.color="#999",this.regions.open=!0,this.regions.color="#999",r.children.forEach(_=>{a.forEach(p=>{(p[l.toLowerCase()]==_.name||p[l]==_.name)&&(_.amount=this.convertToTwoDecimal(p[this.baseYear]),_.percent=this.convertToTwoDecimal(p[c]),_.color="#999")})})}r.children&&this.changeColor(r.children)})}}getSegmentDataSuccess(e,n){if(e&&e.data&&e.data[0]&&e.data[0].value){!this.metric&&e.data[0].metric&&(this.metric=e.data[0].metric,this.metric="Kilo Tons"==this.metric?e.data[0].metric:"USD "+this.metric);let a=e.data[0].value;this.treeData.children.forEach(r=>{if(r.id==n){let s=Object.keys(a[a.length-1]),c="",l="",_=r.name;s.forEach(p=>{p.includes("CAGR (%) ")?c=p:p.includes("_parent")&&(l=p)}),r.amount=this.convertToTwoDecimal(a[a.length-1][this.baseYear]),r.percent=this.convertToTwoDecimal(a[a.length-1][c]),r.open=!0,r.color="#999",this.regions.amount=this.convertToTwoDecimal(a[a.length-1][this.baseYear]),this.regions.percent=this.convertToTwoDecimal(a[a.length-1][c]),this.treeData.open=!0,this.treeData.color="#999",r.children.forEach(p=>{if(a.forEach(u=>{let g=p.name.replace(/ /gi,"_").toLowerCase();g=g.replace(/&/gi,"and"),g=g.replace(/-/gi,"_"),g=g.replace(/,/gi,"_"),g=g.replace(/\(/gi,""),g=g.replace(/\)/gi,""),g=g.replace(/\./gi,"_"),(u[l]==p.name||u[l]==g)&&(p.amount=this.convertToTwoDecimal(u[this.baseYear]),p.percent=this.convertToTwoDecimal(u[c]),p.color="#999")}),p.children&&p.children.length){let u=_+" "+p.name;u=u.replace(/ /gi,"_").toLowerCase(),u=u.replace(/&/gi,"and"),u=u.replace(/-/gi,"_"),u=u.replace(/,/gi,"_"),u=u.replace(/\(/gi,""),u=u.replace(/\)/gi,""),u=u.replace(/\./gi,"_");const m=M.find(this.meData,["key",u+"_value"]);if(m&&m.value){let v=m.value;p.children.forEach(y=>{v.forEach(T=>{let P=y.name.replace(/ /gi,"_").toLowerCase();P=P.replace(/&/gi,"and"),P=P.replace(/-/gi,"_"),P=P.replace(/,/gi,"_"),P=P.replace(/\(/gi,""),P=P.replace(/\)/gi,""),P=P.replace(/\./gi,"_"),(T[u]==y.name||T[u]==P)&&(y.amount=this.convertToTwoDecimal(T[this.baseYear]),y.percent=this.convertToTwoDecimal(T[c]),y.color="#999",y.open=!1)})})}else p.children.forEach(v=>{v.color="#999",v.open=!1})}})}r.children&&this.changeColor(r.children)})}}convertToTwoDecimal(e){return isNaN(e)?e:parseFloat(e).toFixed(2)}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}openDroctDialog(){this.dialog.open(vo,{width:"99%",data:{data:this.treeData,baseYear:this.baseYear,metric:this.metric},disableClose:!1}).afterClosed().subscribe(a=>{})}orgCharts(e){let n=this;var a,r;a=$,r=JSONLoop,a(function(){var s={};n.data.forEach(function(l,_){l.pid?new r(s,"id","children").findNodeById(s,l.pid,function(u,g){u?console.error(u):(delete l.pid,g.children?g.children.push(l):g.children=[l])}):(delete l.pid,Object.assign(s,l))}),n.treeData=s,n.requestMarketBreakupDataService.getMarketBreakupDataService(n.reportId,n.regions,n.treeData).subscribe(l=>{let _=[],p=[];l&&l[0]&&(p=l[0],n.regions.children.forEach((u,g)=>{n.getRegionDataSuccess(p[g],u.id)})),l&&l[1]&&(_=l[1],n.treeData.children.length==_.length&&n.treeData.children.forEach((u,g)=>{n.getSegmentDataSuccess(_[g],u.id)})),n.treeData.children.push(n.regions),n.createChart(n.treeData,0)})})}createRegions(e){this.regionData=[],e.forEach(n=>{this.regionData.push({id:n.id,name:n.region,children:n.countries})}),this.regions={id:"1",name:"Region",children:this.regionData}}changeColor(e){let n=[];e.forEach(r=>{n.push(parseInt(r.amount))});let a=Math.max(...n);e.forEach(r=>{parseInt(r.amount)==a&&(r.color="green"),r.children&&this.changeColor(r.children)})}createChart(e,n){var p,c=E.select("#dendo-container").append("svg").attr("width",800).attr("height",380).append("g").attr("transform","translate(230,5)"),l=0,_=750,u=E.tree().size([365,340]);(p=E.hierarchy(e,function(v){return v.children})).x0=182.5,p.y0=0,p.children.forEach(function g(v){v.children&&(parseInt(v.depth)>1?(v._children=v.children,v.children=null,v.data.open=!1):v.children.forEach(g))}),function m(v){var y=u(p),T=y.descendants(),P=y.descendants().slice(1),N=c.selectAll("g.node").data(T,function(d){return d.id||(d.id=++l)}),Y=N.enter().append("g").attr("class","node").attr("transform",function(d){return"translate("+v.y0+","+v.x0+")"}).on("click",function h(d){d.children?(d._children=d.children,d.children=null,d.data.open=!1):(d.children=d._children,d._children=null,d.data.open=!0),m(d)});Y.append("image").attr("href",function(d){return d.children||d._children?1==d.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","white").attr("text","+").attr("cursor","pointer").style("fill",function(d){return d._children?"lightsteelblue":"#fff"}).style("color","#000"),Y.append("text").attr("x",function(d){return 10}).attr("dy",function(d){return d.children||d._children?"-1em":"0.5em"}).attr("text-anchor",function(d){return d.children||d._children?"end":"start"}).text(function(d){let f="";d&&d.data&&d.data.percent&&(f=d.data.percent,f=f.replace("%",""));let Z="";return d.data.name&&(Z=d.data.name.substring(d.data.name.indexOf("_")+1)),0==d.depth||3==d.depth&&void 0===d.data.amount?Z:Z+", "+d.data.amount+", "+f+"%"}).style("fill-opacity",1e-6).style("font","10px sans-serif").style("font-weight",function(d){return d.data.percent>=70?"bold":"normal"});var F=Y.merge(N);F.transition().duration(_).attr("transform",function(d){return"translate("+d.y+","+d.x+")"}),F.select("image").attr("href",function(d){return d.children||d._children?1==d.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),F.select("text").style("fill-opacity",1);var q=N.exit().transition().duration(_).attr("transform",function(d){return"translate("+v.y+","+v.x+")"}).remove();q.select("circle").attr("r",1e-6),q.select("text").style("fill-opacity",1e-6);var G=c.selectAll("path.link").data(P,function(d){return d.id});function V(d,f){return`M ${d.y} ${d.x}\n            C ${(d.y+f.y)/2} ${d.x},\n              ${(d.y+f.y)/2} ${f.x},\n              ${f.y} ${f.x}`}G.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(d){return"green"==d.data.color?"2px":"1px"}).attr("stroke",function(d){return d.data.color}).attr("d",function(d){var f={x:v.x0,y:v.y0};return V(f,f)}).merge(G).transition().duration(_).attr("d",function(d){return V(d,d.parent)}),G.exit().transition().duration(_).attr("d",function(d){var f={x:v.x,y:v.y};return V(f,f)}).remove(),T.forEach(function(d){d.x0=d.x,d.y0=d.y})}(p),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(A.n),t.Y36(Tt.L),t.Y36(U.t2),t.Y36(R.e),t.Y36(I.r),t.Y36(S.gz),t.Y36(J.g),t.Y36(Co))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-market-estimation"]],viewQuery:function(e,n){if(1&e&&(t.Gf(wo,5),t.Gf(yo,5),t.Gf(xo,5),t.Gf(bo,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first),t.iGM(a=t.CRH())&&(n.callAPIDialog=a.first)}},decls:33,vars:10,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],["id","main-div",1,"row"],[1,"col-9","m8",2,"margin-bottom","20px"],[1,"down-header","container-fluid"],[1,"header-background","float-l-width"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"padding20","outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["id","dendo-container"],[1,"mat-caption1"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"col-3"],[1,"suggestion",3,"suggestion"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"a",7),t.NdJ("click",function(){return n.analyze()}),t._uU(9,"Analyze"),t.qZA()(),t.TgZ(10,"div",8)(11,"i",9),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(12,"i",10),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(13,"mat-card-content",11,12)(15,"div",13)(16,"p",14)(17,"span",15),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA()(),t.TgZ(20,"div"),t._UZ(21,"div",16),t.TgZ(22,"p",17)(23,"span",15),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()(),t.TgZ(26,"div",18),t._UZ(27,"img",null,19)(29,"a",null,20),t.qZA()(),t.TgZ(31,"div",21),t._UZ(32,"app-hardcoded-suggestions",22),t.qZA()()()()),2&e&&(t.xp6(5),t.lnq("Market Breakup, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(14),t.xDo(" Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"], Base Year: ",n.baseYear," (",n.metric,") "),t.xp6(13),t.Q6J("suggestion",t.DdM(9,Mo)))},directives:[B.dn,W],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.3);display:block;padding:10px 20px 0}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{width:50%;margin:auto}.accordion[_ngcontent-%COMP%]{margin:20px inherit}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}.tabular2[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.mat-raised-button[_ngcontent-%COMP%]{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.margin-20-bottom[_ngcontent-%COMP%]{margin-bottom:20px}p[_ngcontent-%COMP%]{padding-left:15px}.table-caption[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.mat-caption1[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}#dendo-container[_ngcontent-%COMP%]{margin-left:-100px}@media screen and (min-width: 600px) and (max-width: 1000px){#dendo-container[_ngcontent-%COMP%]{width:auto;overflow:scroll;margin-left:0}#main-div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.suggestion[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.3);padding:10px 20px 0;width:460px;height:480px;display:flex;flex-wrap:wrap;overflow:scroll;margin-left:13px}}"]}),i})();const ko=["screenPie"],So=["screenBar"],To=["screenImg"],Do=["canvas"],Po=["downloadLink"];let Ro=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.reportService=a,this.authService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{console.log("error",n)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?html2canvas(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?html2canvas(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&html2canvas(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"definition"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Definition, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let a=!1;this.emptyList=this.emptyList.filter(r=>!(!a&&r==n&&(this.driverList.push(r),a=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(I.r),t.Y36(R.e),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mi-definition"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ko,5),t.Gf(So,5),t.Gf(To,5),t.Gf(Do,5),t.Gf(Po,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[St],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})(),Ao=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mi-key-takeaways"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"mi-key-takeaways works!"),t.qZA())},styles:[""]}),i})();const Zo=["screenPie"],Eo=["screenBar"],No=["screenImg"],Io=["canvas"],Lo=["downloadLink"];let Uo=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.reportService=a,this.reportSectionService=r,this.spinner=s,this.authService=c,this.localStorageService=l,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.localStorageService.get(k.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(a=>{this.getReportDetailsSuccess(a),window.scroll(0,0)},a=>{console.log("error",a)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?html2canvas(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?html2canvas(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&html2canvas(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"assumptions"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"List of assumptions, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let a=!1;this.emptyList=this.emptyList.filter(r=>!(!a&&r==n&&(this.driverList.push(r),a=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(R.e),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mi-list-of-assumptions"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Zo,5),t.Gf(Eo,5),t.Gf(No,5),t.Gf(Io,5),t.Gf(Lo,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[St],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})(),Yo=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mi-market-insights"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"mi-market-insights works!"),t.qZA())},styles:[""]}),i})();const qo=["screenPie"],Ho=["screenBar"],Fo=["screenImg"],Jo=["canvas"],Bo=["downloadLink"];let Go=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.reportService=a,this.reportSectionService=r,this.spinner=s,this.authService=c,this.localStorageService=l,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.localStorageService.get(k.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(a=>{this.getReportDetailsSuccess(a),window.scroll(0,0)},a=>{console.log("error",a)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"structure"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market structure, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let a=!1;this.emptyList=this.emptyList.filter(r=>!(!a&&r==n&&(this.driverList.push(r),a=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(R.e),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mi-market-structure"]],viewQuery:function(e,n){if(1&e&&(t.Gf(qo,5),t.Gf(Ho,5),t.Gf(Fo,5),t.Gf(Jo,5),t.Gf(Bo,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[St],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const zo=["screen"],Qo=["canvas"],jo=["downloadLink"];function Vo(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadPieData()}),t.qZA()}}function $o(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadTableData()}),t.qZA()}}function Wo(i,o){if(1&i&&t._UZ(0,"img",23),2&i){const e=t.oxw(3);t.Q6J("src",e.reportData.data.imageUrl,t.LSH)}}function Ko(i,o){if(1&i&&(t.TgZ(0,"div",16,17)(2,"p",18)(3,"span",19),t._uU(4,"Title :"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",20),t.YNc(7,Wo,1,1,"img",21),t.qZA(),t.TgZ(8,"p",22)(9,"span",19),t._uU(10,"Source :"),t.qZA(),t._uU(11),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(5),t.hij("",e.reportData.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.reportData.data.imageUrl),t.xp6(4),t.hij("",e.reportData.data.metaDataValue.source," ")}}function Xo(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",24,17)(3,"div"),t._UZ(4,"br"),t.TgZ(5,"p",18)(6,"span",19),t._uU(7,"Title :"),t.qZA(),t._uU(8),t.qZA(),t._UZ(9,"canvas",25),t.TgZ(10,"p",22)(11,"span",19),t._uU(12,"Source :"),t.qZA(),t._uU(13),t.qZA()()()()),2&i){const e=t.oxw(2);t.xp6(8),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartData)("labels",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartLabels)("chartType",e.pieChartType)("options",e.pieChartOptions)("plugins",e.pieChartPlugins)("legend",e.pieChartLegend),t.xp6(4),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.source," ")}}function tr(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",24)(2,"div",null,17),t._UZ(4,"br"),t.TgZ(5,"p",18)(6,"span",19),t._uU(7,"Title :"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"div",26)(10,"p",27),t._uU(11),t.qZA(),t._UZ(12,"canvas",28),t.qZA(),t.TgZ(13,"p",18),t._uU(14),t.qZA(),t.TgZ(15,"p",22)(16,"span",19),t._uU(17,"Source :"),t.qZA(),t._uU(18),t.qZA()()()()),2&i){const e=t.oxw(2);t.xp6(8),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartData)("labels",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartLabels)("options",e.barChartOptions)("plugins",e.barChartPlugins)("legend",e.barChartLegend)("chartType",e.barChartType),t.xp6(2),t.hij(" ",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.source," ")}}function er(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",4),t.ynx(2,5),t.TgZ(3,"div",6)(4,"div",7)(5,"a",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().analyze()}),t._uU(6,"Analyze"),t.qZA()(),t.TgZ(7,"div",9)(8,"i",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().generateImage()}),t.qZA(),t.YNc(9,Vo,1,0,"i",11),t.YNc(10,$o,1,0,"i",11),t.TgZ(11,"i",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().doClose()}),t.qZA()()(),t.YNc(12,Ko,12,3,"div",13),t.YNc(13,Xo,14,8,"div",14),t.YNc(14,tr,19,10,"div",14),t.BQk(),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngSwitch",null==e.reportData||null==e.reportData.data?null:e.reportData.data.type),t.xp6(7),t.Q6J("ngIf","PIE"===(null==e.reportData||null==e.reportData.data?null:e.reportData.data.type)),t.xp6(1),t.Q6J("ngIf","PIE"!==(null==e.reportData||null==e.reportData.data?null:e.reportData.data.type)),t.xp6(2),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}let ke=(()=>{class i{constructor(e,n,a,r,s,c){this.dialogRef=e,this.reportData=n,this.excelDownloadService=a,this.toastr=r,this.routes=s,this.authService=c,this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}ngOnInit(){this.hide="IMAGE"!==this.reportData.type,this.barChartOptions.scales.xAxes[0].stacked=!1,this.barChartOptions.scales.yAxes[0].stacked=!1,document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}doClose(){this.dialogRef.close(),this.reportData={}}downLoadPieData(){this.excelDownloadService.generateExcelSheet([""],this.reportData.pieData,this.reportData.data.data.metaDataValue.title,"PIE")}downLoadTableData(){let e=this.reportData.barData,n=M.keys(e.dataStore[0]);this.excelDownloadService.generateExcelSheet(n,e.dataStore,e.title,"BAR")}analyze(){this.routes.navigateByUrl("/dashboard"),this.doClose()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(X.O),t.Y36(Ht._W),t.Y36(S.F0),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-me-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(zo,5),t.Gf(Qo,5),t.Gf(jo,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:6,vars:1,consts:[[4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"analyze","btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["class","btn-icon fa fa-file-excel-o",3,"click",4,"ngIf"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],["class","container-fluid float-l-width",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],[1,"container-fluid","float-l-width"],["screen",""],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"mat-caption"],[1,"responsiveImg",3,"src"],[1,"container-fluid","float-l"],["height","100","baseChart","",3,"data","labels","chartType","options","plugins","legend"],[2,"display","flex","align-items","center","width","95%"],[1,"mat-caption",2,"text-align","left"],["height","100","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.YNc(0,er,15,6,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",null,2)(4,"a",null,3),t.qZA()),2&e&&t.Q6J("ngIf",n.reportData)},directives:[b.O5,b.RF,b.n9,j.jh],styles:[".responsiveImg[_ngcontent-%COMP%]{width:80%;height:80%}.card-border[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right[_ngcontent-%COMP%]{float:right}.modal-container[_ngcontent-%COMP%]{width:100%!important}  .mat-dialog-container{width:100%!important;padding:0!important}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:17px 0;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}  .mat-select-value,   .mat-select-arrow,   .mat-select-placeholder{color:#fff!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.align-centers[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}"]}),i})();var Se=O(8656);let Te=(()=>{class i{transform(e,n){let a=e;if(a.includes("CAGR (%) (")){let r=a.split("-");return r&&r.length&&(n=parseInt(n,10)+1,r[0]=r[0].replace(/\([0-9]+/,"("+n),a=r.join("-")),a}return a}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"changeTableCAGRYear",type:i,pure:!0}),i})(),De=(()=>{class i{constructor(e){this.MarketEstimationService=e}transform(e,n){let a=e.split("_").join(" ");return e&&n.forEach(r=>{let s,c=M.find(n,["id",r.pid]);c&&(s=r.name.replace(c.name,"").replace("_","")),a==this.MarketEstimationService.replacedTxtWithSegName(r.name)&&(a=a.replace(a,s))}),a}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Tt.L,16))},i.\u0275pipe=t.Yjl({name:"giveSegmentName",type:i,pure:!0}),i})(),Pe=(()=>{class i{transform(e){let n=e;return e&&(n=e.toString().replace(/parent/g," ")),n}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"removeParent",type:i,pure:!0}),i})();const nr=["screenPie"],ir=["screenBar"],ar=["screenImg"],or=["canvas"],rr=["downloadLink"];function sr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a,0)}),t.qZA()}}function cr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sendChartToWhatsApp()}),t._uU(4,"Send "),t._UZ(5,"i",20),t.qZA(),t.TgZ(6,"a",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().addSlideToPPT(a)}),t._uU(7,"PPT "),t._UZ(8,"i",21),t.qZA(),t.TgZ(9,"i",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a)}),t.qZA(),t.TgZ(10,"i",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().downloadPpt(a)}),t.qZA(),t.TgZ(11,"i",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadPieData()}),t.qZA(),t.YNc(12,sr,1,0,"i",25),t.qZA()(),t.TgZ(13,"div",26,27)(15,"p",28)(16,"span",29),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"canvas",30),t.TgZ(20,"p",31)(21,"span",29),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(12),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function lr(i,o){if(1&i&&(t.TgZ(0,"div",13),t.ynx(1,14),t.YNc(2,cr,24,10,"div",15),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","PIE")}}function dr(i,o){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.chart_title[e])}}function pr(i,o){if(1&i&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"changeTableCAGRYear"),t.ALo(3,"giveSegmentName"),t.ALo(4,"removeParent"),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,t.xi3(3,4,t.lcZ(4,7,e),n.segments),n.base_year)," ")}}function hr(i,o){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"giveSegmentName"),t.qZA()),2&i){const e=o.$implicit,n=t.oxw().$implicit,a=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e[n],a.segments)," ")}}function gr(i,o){1&i&&(t.ynx(0,43),t.YNc(1,pr,5,9,"th",44),t.YNc(2,hr,3,4,"td",45),t.BQk()),2&i&&t.s9C("matColumnDef",o.$implicit)}function ur(i,o){1&i&&t._UZ(0,"tr",48)}function mr(i,o){1&i&&t._UZ(0,"tr",49)}function _r(i,o){if(1&i&&(t.TgZ(0,"div",37)(1,"p",28)(2,"span",29),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",38),t.YNc(6,gr,3,1,"ng-container",39),t.YNc(7,ur,1,0,"tr",40),t.YNc(8,mr,1,0,"tr",41),t.qZA(),t.TgZ(9,"p",42)(10,"span",29),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function fr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(a,r)}),t.qZA()}}function vr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",51),t._UZ(2,"div",52),t.TgZ(3,"div",53)(4,"div",18)(5,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(6,"Send "),t._UZ(7,"i",20),t.qZA(),t.TgZ(8,"a",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(a)}),t._uU(9,"PPT "),t._UZ(10,"i",21),t.qZA(),t.TgZ(11,"i",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a)}),t.qZA(),t.TgZ(12,"i",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadPpt(a)}),t.qZA(),t.TgZ(13,"i",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).downLoadPieData()}),t.qZA(),t.YNc(14,fr,1,0,"i",25),t.qZA()()(),t.TgZ(15,"div",26,27)(17,"p",28)(18,"span",29),t._uU(19,"Title\xa0:\xa0"),t.qZA(),t._uU(20),t.qZA(),t._UZ(21,"canvas",54),t.TgZ(22,"p",31)(23,"span",29),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(14),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Cr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(a,r)}),t.qZA()}}function wr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",17)(2,"div",55)(3,"a",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).index;return t.oxw().analyze(a)}),t._uU(4,"Analyze"),t.qZA()(),t.TgZ(5,"div",18)(6,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(7,"Send "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"a",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(a)}),t._uU(10,"PPT "),t._UZ(11,"i",21),t.qZA(),t.TgZ(12,"i",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a)}),t.qZA(),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadPpt(a)}),t.qZA(),t.TgZ(14,"i",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).index;return t.oxw().downLoadTableData(a)}),t.qZA(),t.YNc(15,Cr,1,0,"i",25),t.qZA()(),t.TgZ(16,"div",57,58)(18,"p",28)(19,"span",29),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"div",59)(23,"p",60),t._uU(24),t.qZA(),t._UZ(25,"canvas",61),t.qZA(),t.TgZ(26,"p",28),t._uU(27),t.qZA(),t.TgZ(28,"p",31)(29,"span",29),t._uU(30,"Source\xa0:\xa0"),t.qZA(),t._uU(31),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(15),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.chartOptions)("plugins",n.chartPlugins)("legend",n.chartLegend)("chartType",n.chartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function yr(i,o){if(1&i&&t._UZ(0,"p",62),2&i){const e=t.oxw().$implicit;t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function xr(i,o){if(1&i&&(t.TgZ(0,"div",13),t.ynx(1,14),t.YNc(2,_r,13,6,"div",34),t.YNc(3,vr,26,10,"div",35),t.YNc(4,wr,32,11,"div",35),t.YNc(5,yr,1,1,"p",36),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR"),t.xp6(1),t.Q6J("ngSwitchCase","TEXT")}}function br(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,dr,2,1,"div",33),t.YNc(2,xr,6,5,"div",6),t.qZA()),2&i){const e=o.$implicit,n=o.index;t.xp6(1),t.Q6J("ngIf",n>0),t.xp6(1),t.Q6J("ngForOf",e)}}const Mr=function(){return{orderType:"driver"}};let Or=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u,g,m,v){this.routes=e,this.dialog=n,this.authService=a,this.activatedRoutes=r,this.marketEstimationService=s,this.spinner=c,this.pptService=l,this.localStorageService=_,this.reportSectionService=p,this.sharedAnalyticsService=u,this.excelDownloadService=g,this.toastr=m,this.segmentService=v,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.allRegions=[],this.base_year="",this.start_year="",this.end_year="",this.pieChartData="",this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.allKeys=[],this.reportDataArray=[],this.selectedRegion="",this.labelX="",this.metric="",this.chart_title=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend,this.chartOptions=w.barChartOptions,this.chartType=w.barChartType,this.chartLegend=w.barChartLegend,this.chartPlugins=w.barChartPlugins,this.chartLabels=[],this.chartData=[],this.renderBar=!1,this.colMetaData=[],this.dataStore=[],this.dataForTable=[],this.renderTable=!1,this.analyzeDataArray=[],this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.bifurcationLevel=1}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show();const e=this.activatedRoutes.snapshot.queryParams;e&&e.segmentId&&(this.paramsSegmentId=e.segmentId),this.activatedRoutes.queryParams.subscribe(n=>{if(n&&n.segmentId){this.spinner.show();const a=M.find(this.allRegions,["id",n.segmentId]);a&&(this.reportData=[],this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.onRegionSelected(a.id,a.region))}}),this.dataStore=[],this.dataForTable=[],this.colMetaData=[],this.getAPIData()}sendChartToWhatsApp(){return this.authService.showNotSubscribedMsg()}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}getAPIData(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}let a=this.overlaps.filter(r=>"Report"==r.section_name);if(a.length){let r={section:"",data:[]};if(a[0].data&&a[0].data.length&&a[0].section_name){r.section=a[0].section_name;for(let s=0;s<a[0].data.length&&s<2;s++)r.data.push(a[0].data[s])}this.reportConnectData=r}}this.marketEstimationService.getMeData(this.reportId).subscribe(n=>{n&&n.data&&n.data.length&&(this.getReportDetailsSuccess(n),this.segments=n.data[0].me.segment),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){if(e&&e.data&&e.data.length>0&&(e.data[0].me&&e.data[0].me.geo_segment&&e.data[0].me.geo_segment.length>0&&e.data[0].me.geo_segment.forEach(n=>{this.allRegions.push(n)}),this.base_year=e.data[0].me.base_year,this.bifurcationLevel=e.data[0].me.bifurcationLevel),this.paramsSegmentId){const n=M.find(this.allRegions,["id",this.paramsSegmentId]);n&&this.onRegionSelected(n.id,n.region)}else this.spinner.hide()}onRegionSelected(e,n){this.selectedRegion=n,this.segmentService.getDataByRegion(this.reportId,e).subscribe(a=>{a&&a.data&&this.getRegionDataSuccess(a)},a=>{this.spinner.hide()})}getRegionDataSuccess(e){if(e&&(this.regionData=e),this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],e&&e.data&&e.data.length){let n;this.chart_title=[],e.data.forEach(r=>{if(r.title.includes("BY COUNTRIES")&&(n=r,n)){let l="";l=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),this.pieData={title:`${this.reportName} Market [${this.base_year}] by ${this.selectedRegion} - (${l})`,source:"Wantstats",calType:"BY_VALUE",columns:[]},this.metric=n.metric&&"Kilo Tons"==n.metric?n.metric:"USD "+(n.metric?n.metric:"Mn"),this.dataStore=[];let _="";n.rowHeaders.forEach(p=>{p.includes("%")||parseInt(p)||(_=p)}),n.value&&n.value.forEach(p=>{let u=p[this.base_year];isNaN(u)||(u=parseFloat(u).toFixed(2));let g={header:M.startCase(p[_]).split("_").join(" "),value:u},m=Object.assign({},p),v=Object.keys(m);v=v.filter(y=>y.includes("%")),v.forEach(y=>{delete m[y]}),delete Object.assign(m,{rowHeader:m[_]})[_],"Total"!=m.rowHeader&&this.pieData.columns.push(g)}),this.pieChartData=JSON.stringify(this.pieData)}if(n=r,n){let l=n.text;this.segments.forEach(p=>{let u,m,g=M.find(this.segments,["id",p.pid]);g&&p.name.includes(g.name+"_")?(m=g.name,u=p.name.replace(g.name,"").split("_").join("")):u=p.name,l.toLowerCase().includes(this.marketEstimationService.replacedTxtWithSegName(p.name.toLowerCase()))&&(u.split(" ").forEach(v=>{l=l.split(this.marketEstimationService.replacedTxtWithSegName(" "+v.toLowerCase()+" ")).join(" "+v+" ").split(m).join(""),m=""}),l=l.replace(this.reportName,this.reportName.toLowerCase()))}),n.custom_text&&(l=l+"<br><br>"+n.custom_text),this.textData={content:l},this.dataStore=[],this.dataForTable=[];let _="";if(n.value&&n.value.length&&Object.keys(n.value[0]).forEach(p=>{parseInt(p)||p.includes("%")||"undefined"!==p&&(_=p)}),n.value&&(n.value.forEach(p=>{let u=Object.assign({},p),g=Object.assign({},p),m=Object.keys(g);m=m.filter(y=>y.includes("%")),m.forEach(y=>{delete g[y]}),m=Object.keys(g),m.includes("rowHeader")||delete Object.assign(g,{rowHeader:g[_]})[_],"Total"!=g.rowHeader&&this.dataStore.push(g),Object.keys(u).forEach(y=>{isNaN(u[y])||(u[y]=parseFloat(u[y]).toFixed(2))}),this.dataForTable.push(u)}),this.colMetaData=[],this.dataStore&&this.dataStore.length)){let p={},u=this.dataStore[0];if(u){let g=Object.keys(u);this.colMetaData.push({header:this.reportName+" Market",name:"rowHeader",type:"text"});for(let m of g)this.colMetaData.push({name:m,header:m,type:"number"}),p[m]=""}}}let s=!0;if(this.dataStore&&this.dataStore.length){s=!0;for(let l of this.dataStore){let _=M.keys(l),p=!0;for(let u of _)if("rowHeader"!=u&&0!=l[u]){p=!1;break}if(0==p){s=!1;break}}}let c=this.dataStore;if(c&&c[0]&&0==s){let l=Object.keys(c[0]),_=[];this.dataForBarChart=[],c.forEach(g=>{let m=g.rowHeader.split("_").join(" ");this.segments.forEach(v=>{let y,T=M.find(this.segments,["id",v.pid]);T&&(y=v.name.replace(T.name,"").replace("_","")),m==this.marketEstimationService.replacedTxtWithSegName(v.name)&&(m=m.replace(m,y))}),_.push(m)}),l=l.filter(g=>"rowHeader"!==g),l.forEach(g=>{let m={};for(let v=0;v<_.length;v++)m[_[v]]=c[v][g];m.rowHeader=g,isNaN(m.rowHeader)||this.dataForBarChart.push(m)}),r.title.includes("BY COUNTRIES")?this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.selectedRegion):this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+this.marketEstimationService.getRegionTitle(r.title,this.segments));let p="";if(r.title.includes("BY COUNTRIES"))p=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.selectedRegion,this.tabSelected=this.selectedRegion,this.subSegmentSelected="";else{let g=this.marketEstimationService.getRegionTitle(r.title,this.segments);p=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+g,this.title=g;let v=this.title.replace(/ by /gi," by ").split(" by ");this.tabSelected=v[1],this.subSegmentSelected=v[0],"Regions"==this.tabSelected&&(this.tabSelected="Region")}this.analyzeData={reportId:this.reportId,tabSelected:this.tabSelected,subSegmentSelected:this.subSegmentSelected},this.analyzeDataArray.push(this.analyzeData);let u="";if(u=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),this.barData={title:p,source:"Wantstats",columnMetaData:this.colMetaData,dataStore:this.dataForBarChart,labelY:u},this.allKeys=[],this.dataForTable&&this.dataForTable.length){let g=Object.keys(this.dataForTable[0]);g.forEach(y=>{parseInt(y)||y.includes("%")||"undefined"!==y&&this.allKeys.push(y)}),g.forEach(y=>{"undefined"!==y&&(parseInt(y)||y.includes("CAGR (%) ("))&&this.allKeys.push(y)});let m="",v="";if(v=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),r.title.includes("BY COUNTRIES")?m=`${this.reportName} Market [${this.startYear} - ${this.endYear}] by ${this.selectedRegion} - (${v})`:r.title&&(m=`${this.reportName} Market [${this.startYear} - ${this.endYear}], ${this.marketEstimationService.getRegionTitle(r.title,this.segments)} - (${v})`),this.dataForTable.length&&(this.tableData={title:m,source:"Wantstats",rows:this.allKeys.length,columns:this.allKeys,dataStore:this.dataForTable}),this.textData.content){let y=this.textData.content;y=y.replace(/%%/g,"%"),this.textData.content=y}this.barChartJson.push(JSON.stringify(this.barData)),this.textDataJson.push(this.textData),this.tableDataJson.push(JSON.stringify(this.tableData))}}});let a=[{data:this.pieChartData,order_id:1,type:"PIE"}];for(let r=0;r<this.barChartJson.length;r++)this.reportDataArray.push(this.reportSectionService.convertToReportDataElement([{data:this.barChartJson[r],order_id:2,type:"BAR"},{data:this.tableDataJson[r],order_id:3,type:"TABLE"},{data:this.textDataJson[r],order_id:4,type:"TEXT"}]));this.reportData=this.reportSectionService.convertToReportDataElement(a),this.reportData&&this.reportData.length&&this.reportData[0].data&&this.reportData[0].data.chartLabels&&(this.reportData[0].data.chartLabels=this.reportData[0].data.chartLabels.map(r=>r+", "+this.metric))}this.spinner.hide(),window.scroll(0,0),this.rederBarChart()}rederBarChart(){this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.renderBar=!0}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e,n){let a={data:e,pieData:this.pieData.columns,barData:JSON.parse(this.tableDataJson[n])};this.dialog.open(ke,{width:"99%",data:a,disableClose:!1}).afterClosed().subscribe(s=>{})}analyze(e){this.sharedAnalyticsService.data=this.analyzeDataArray[e],this.routes.navigateByUrl("/dashboard")}downLoadPieData(){this.excelDownloadService.downloadExcel({type:"PIE",data:{metaDataValue:this.pieData}})}downLoadTableData(e){let n=JSON.parse(this.tableDataJson[e]),a=M.keys(n.dataStore[0]);this.excelDownloadService.generateExcelSheet(a,n.dataStore,n.title,"BAR")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(S.F0),t.Y36(D.uw),t.Y36(R.e),t.Y36(S.gz),t.Y36(Tt.L),t.Y36(U.t2),t.Y36(Bt._),t.Y36(A.n),t.Y36(L.A),t.Y36(J.g),t.Y36(X.O),t.Y36(Ht._W),t.Y36(Se.B))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-me-region"]],viewQuery:function(e,n){if(1&e&&(t.Gf(nr,5),t.Gf(ir,5),t.Gf(ar,5),t.Gf(or,5),t.Gf(rr,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:18,vars:8,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid margin-20-bottom",4,"ngSwitchCase"],[1,"container-fluid","margin-20-bottom"],[1,"float-l-width","header-background"],[1,"float-right"],[1,"btn-icon","ppt-btn",3,"click"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"mat-caption"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],["class","down-header container-fluid",4,"ngIf"],["class","container-fluid over-flow",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],["class","content-p container-fluid",3,"innerHTML",4,"ngSwitchCase"],[1,"container-fluid","over-flow"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-caption"],[3,"matColumnDef"],["class","first-letter-caps","mat-header-cell","",4,"matHeaderCellDef"],["class","first-letter-caps","mat-cell","",4,"matCellDef"],["mat-header-cell","",1,"first-letter-caps"],["mat-cell","",1,"first-letter-caps"],["mat-header-row",""],["mat-row",""],[1,"container-fluid"],[1,"row","col","header-background"],[1,"col-8"],[1,"col-4","zero-padding"],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],[1,"content-p","container-fluid",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,lr,3,2,"div",6),t.YNc(9,br,3,2,"div",7),t.qZA()(),t._UZ(10,"div"),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-hardcoded-suggestions",9),t.qZA()()()(),t.TgZ(13,"div",10),t._UZ(14,"img",null,11)(16,"a",null,12),t.qZA()),2&e&&(t.xp6(6),t.HOy("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] By ",n.selectedRegion,""),t.xp6(2),t.Q6J("ngForOf",n.reportData),t.xp6(1),t.Q6J("ngForOf",n.reportDataArray),t.xp6(3),t.Q6J("suggestion",t.DdM(7,Mr)))},directives:[b.sg,b.RF,b.n9,b.O5,j.jh,ct,at,it,ot,nt,lt,dt,ht,pt,gt,W],pipes:[Te,De,Pe],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.card-border{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border{border:0!important}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.desc{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-year-conatiner{position:relative}.outer-year-conatiner .year-container{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner .center{text-align:center}.align-center{color:#0000008a;align-items:center}.tabular2{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading{font-weight:500;font-size:15px;margin:5px 0}.listing{padding:0;list-style:none;display:flex;margin:0}.listing li{margin:0 10px}.mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer{padding-bottom:20px}div.comment-item{outline:none}.conponent-table{width:100%}.my-sidebar{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg{border:1px solid #ddd;border-radius:4px;padding:5px;width:500px}.responsiveImg:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div th.mat-header-cell:first-of-type,.seprator-div td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div th.mat-header-cell:last-of-type,.seprator-div td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div tr.mat-header-row{height:20px!important}.seprator-div tr.mat-row{height:32px!important}.main-container{padding:0}.border{border:1px solid #00000033}.margin-20-bottom{margin-bottom:20px}p{padding-left:15px}.table-caption{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.first-letter-caps{text-transform:capitalize}.over-flow{overflow-x:auto}.purchase-notification{border:2px solid black;padding:2px;font-size:1.2em;font-weight:700;text-align:center}\n"],encapsulation:2}),i})();var kr=O(7271);let Sr=(()=>{class i{transform(e){let n=e;return e&&(n=e.toString().replace(/_/g," ")),n}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"replaceUnderscoreWithSpace",type:i,pure:!0}),i})();const Tr=["screenPie"],Dr=["screenBar"],Pr=["screenImg"],Rr=["canvas"],Ar=["downloadLink"];function Zr(i,o){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.chart_title[e])}}function Er(i,o){if(1&i&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"changeTableCAGRYear"),t.ALo(3,"giveSegmentName"),t.ALo(4,"removeParent"),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,t.xi3(3,4,t.lcZ(4,7,e),n.segments),n.base_year)," ")}}function Nr(i,o){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"giveSegmentName"),t.qZA()),2&i){const e=o.$implicit,n=t.oxw().$implicit,a=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e[n],a.segments)," ")}}function Ir(i,o){1&i&&(t.ynx(0,27),t.YNc(1,Er,5,9,"th",28),t.YNc(2,Nr,3,4,"td",29),t.BQk()),2&i&&t.s9C("matColumnDef",o.$implicit)}function Lr(i,o){1&i&&t._UZ(0,"tr",32)}function Ur(i,o){1&i&&t._UZ(0,"tr",33)}function Yr(i,o){if(1&i&&(t.TgZ(0,"div",19)(1,"p",20)(2,"span",21),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",22),t.YNc(6,Ir,3,1,"ng-container",23),t.YNc(7,Lr,1,0,"tr",24),t.YNc(8,Ur,1,0,"tr",25),t.qZA(),t.TgZ(9,"p",26)(10,"span",21),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",null==e||null==e.data?null:e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function qr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(a,r)}),t.qZA()}}function Hr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"a",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(4,"Send "),t._UZ(5,"i",38),t.qZA(),t.TgZ(6,"a",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(a)}),t._uU(7,"PPT "),t._UZ(8,"i",39),t.qZA(),t.TgZ(9,"i",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a)}),t.qZA(),t.TgZ(10,"i",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadPpt(a)}),t.qZA(),t.TgZ(11,"i",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).index;return t.oxw().downLoadTableData(a)}),t.qZA(),t.YNc(12,qr,1,0,"i",43),t.qZA()(),t.TgZ(13,"div",44,45)(15,"p",20)(16,"span",21),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"canvas",46),t.TgZ(20,"p",47)(21,"span",21),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("legend",n.pieChartLegend),t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function Fr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(a,r)}),t.qZA()}}function Jr(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",49)(3,"a",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).index;return t.oxw().analyze(a)}),t._uU(4,"Analyze"),t.qZA()(),t.TgZ(5,"div",36)(6,"a",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(7,"Send "),t._UZ(8,"i",38),t.qZA(),t.TgZ(9,"a",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(a)}),t._uU(10,"PPT "),t._UZ(11,"i",39),t.qZA(),t.TgZ(12,"i",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).generateImage(a)}),t.qZA(),t.TgZ(13,"i",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).downloadPpt(a)}),t.qZA(),t.TgZ(14,"i",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).index;return t.oxw().downLoadTableData(a)}),t.qZA(),t.YNc(15,Fr,1,0,"i",43),t.qZA()(),t.TgZ(16,"div",51,52)(18,"p",20)(19,"span",21),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"div",53)(23,"p",54),t._uU(24),t.qZA(),t._UZ(25,"canvas",55),t.qZA(),t.TgZ(26,"p",20),t._uU(27),t.qZA(),t.TgZ(28,"p",47)(29,"span",21),t._uU(30,"Source\xa0:\xa0"),t.qZA(),t._uU(31),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(15),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.chartOptions)("plugins",n.chartPlugins)("legend",n.chartLegend)("chartType",n.chartType),t.xp6(2),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function Br(i,o){if(1&i&&t._UZ(0,"p",56),2&i){const e=t.oxw().$implicit;t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function Gr(i,o){if(1&i&&(t.TgZ(0,"div",14),t.ynx(1,15),t.YNc(2,Yr,13,6,"div",16),t.YNc(3,Hr,24,9,"div",17),t.YNc(4,Jr,32,11,"div",17),t.YNc(5,Br,1,1,"p",18),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR"),t.xp6(1),t.Q6J("ngSwitchCase","TEXT")}}function zr(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Zr,2,1,"div",12),t.YNc(2,Gr,6,5,"div",13),t.qZA()),2&i){const e=o.$implicit,n=o.index;t.xp6(1),t.Q6J("ngIf",n>0),t.xp6(1),t.Q6J("ngForOf",e)}}const Qr=function(){return{orderType:"driver"}};let jr=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u,g,m,v,y){this.routes=e,this.dialog=n,this.activatedRoutes=a,this.MarketEstimationService=r,this.spinner=s,this.pptService=c,this.whatsappService=l,this.toastr=_,this.localStorageService=p,this.reportSectionService=u,this.authService=g,this.SharedAnalyticsService=m,this.excelDownloadService=v,this.segmentService=y,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.allSegments=[],this.base_year="",this.start_year="",this.end_year="",this.pieChartData="",this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.allKeys=[],this.reportDataArray=[],this.selectedSegment="",this.labelX="",this.metric="",this.chart_title=[],this.title="",this.pieChartJson=[],this.colMetaData=[],this.dataStore=[],this.dataForTable=[],this.analyzeDataArray=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend,this.chartOptions=w.barChartOptions,this.chartType=w.barChartType,this.chartLegend=w.barChartLegend,this.chartPlugins=w.barChartPlugins,this.chartLabels=[],this.chartData=[],this.renderBar=!1,this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.bifurcationLevel=1,this.permissions=this.authService.getUserPermissions()}ngOnInit(){this.spinner.show();const e=this.activatedRoutes.snapshot.queryParams;e.phone&&this.localStorageService.set("CURRENT_USER_PHONE",e.phone),e&&e.segmentId&&(this.paramsSegmentId=e.segmentId),this.activatedRoutes.queryParams.subscribe(n=>{if(n&&n.segmentId){this.spinner.show();const a=M.find(this.allSegments,["id",n.segmentId]);a&&this.onSegementSelected(a.id,a.name)}window.scroll(0,0)}),this.dataStore=[],this.dataForTable=[],this.colMetaData=[],this.getReportDetails()}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}sendChartToWhatsApp(){if(!this.permissions.excelExport)return this.authService.showNotSubscribedMsg();this.spinner.show();const e=this.localStorageService.get("CURRENT_USER_PHONE");this.whatsappService.sendWhatsAppMessage(e).subscribe(n=>{this.spinner.hide(),this.toastr.success("Chart sent to WhatsApp successfully","Message")})}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}let a=this.overlaps.filter(r=>"Report"==r.section_name);if(a.length){let r={section:"",data:[]};if(a[0].data&&a[0].data.length&&a[0].section_name){r.section=a[0].section_name;for(let s=0;s<a[0].data.length&&s<2;s++)r.data.push(a[0].data[s])}this.reportConnectData=r}}this.MarketEstimationService.getMeData(this.reportId).subscribe(n=>{console.log("d",n),n&&n.data&&n.data.length&&(this.getReportDetailsSuccess(n),this.segments=n.data[0].me.segment),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){if(e&&e.data&&e.data.length&&(e.data[0].me&&e.data[0].me.segment&&e.data[0].me.segment.length>0&&e.data[0].me.segment.forEach(n=>{"1"==n.pid&&this.allSegments.push(n)}),this.base_year=e.data[0].me.base_year,this.start_year=e.data[0].me.start_year,this.end_year=e.data[0].me.end_year,this.bifurcationLevel=e.data[0].me.bifurcationLevel),this.paramsSegmentId){const n=M.find(this.allSegments,["id",this.paramsSegmentId]);n&&this.onSegementSelected(n.id,n.name)}this.spinner.hide()}onSegementSelected(e,n){this.spinner.show(),this.selectedSegment=n,this.segmentService.getDataBySegment(this.reportId,e).subscribe(a=>{a&&a.data&&this.getSegmentDataSuccess(a),window.scroll(0,0)},a=>{})}getSegmentDataSuccess(e){if(e&&(this.segmentData=e),this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.pieChartJson=[],e.data&&"object"==typeof e.data&&e.data.length){this.chart_title=[],e.data.forEach(a=>{let r="";if(r="Kilo Tons"==a.metric?a.metric:"USD "+(a.metric?a.metric:"Mn"),this.pieData={title:`${this.reportName} Market [${this.base_year}] by ${this.MarketEstimationService.getTitle(a.title,this.segments)} - (${r})`,source:"Wantstats",calType:"BY_VALUE",columns:[]},a.title.includes("BY SUB-SEGMENTS")){let _=a;if(_){this.metric=_.metric&&"Kilo Tons"==_.metric?_.metric:"USD "+(_.metric?_.metric:"Mn"),this.dataStore=[];let p="";_.rowHeaders.forEach(u=>{parseInt(u)||u.includes("%")||(p=u)}),_.value.forEach(u=>{let g=u[this.base_year];isNaN(g)||(g=parseFloat(g).toFixed(2));let m={header:u[p].split("_").join(" "),value:g},v=Object.assign({},u),y=Object.keys(v);y=y.filter(T=>T.includes("%")),y.forEach(T=>{delete v[T]}),delete Object.assign(v,{rowHeader:v[p]})[p],"Total"!=v.rowHeader&&(this.segments.forEach(T=>{let P,N=M.find(this.segments,["id",T.pid]);N&&(P=T.name.replace(N.name,"").replace("_","")),m.header==this.MarketEstimationService.replacedTxtWithSegName(T.name)&&(m.header=m.header.replace(m.header,P))}),this.pieData.columns.push(m))})}this.pieChartData=JSON.stringify(this.pieData)}else this.pieData.columns=[];let s=a;if(s){let _=s.text;this.segments.forEach(u=>{let g,m,v=M.find(this.segments,["id",u.pid]);v&&u.name.includes(v.name+"_")?(m=v.name,g=u.name.replace(v.name,"").replace("_","")):g=u.name,_.toLowerCase().includes(this.MarketEstimationService.replacedTxtWithSegName(u.name.toLowerCase()))&&(g.split(" ").forEach(y=>{_=_.split(this.MarketEstimationService.replacedTxtWithSegName(" "+y.toLowerCase()+" ")).join(" "+y+" ").split(m).join(""),m=""}),_=_.replace(this.reportName,this.reportName.toLowerCase()))}),s.custom_text&&(_=_+"<br><br>"+s.custom_text),this.textData={content:_},this.dataStore=[],this.dataForTable=[];let p="";if(s.value&&s.value.length&&Object.keys(s.value[0]).forEach(u=>{(u.includes("_")||!parseInt(u))&&(u.includes("%")||(p=u))}),s.value&&(s.value.forEach(u=>{let m=Object.assign({},u),v=Object.assign({},u),y=Object.keys(v);y=y.filter(P=>P.includes("%")),y.forEach(P=>{delete v[P]}),y=Object.keys(v),y.includes("rowHeader")||delete Object.assign(v,{rowHeader:v[p]})[p],"Total"!=v.rowHeader&&this.dataStore.push(v),Object.keys(m).forEach(P=>{isNaN(m[P])||(m[P]=parseFloat(m[P]).toFixed(2))}),this.dataForTable.push(m)}),this.colMetaData=[],this.dataStore.length)){let u={},m=Object.keys(this.dataStore[0]);this.colMetaData.push({header:this.reportName+" Market",name:"rowHeader",type:"text"});for(let v of m)this.colMetaData.push({name:v,header:v,type:"number"}),u[v]=""}}if(s&&this.dataStore.length){let _=this.dataStore,p=Object.keys(_[0]),u=[];this.dataForBarChart=[],_.forEach(g=>{let m=g.rowHeader.split("_").join(" ");this.segments.forEach(v=>{let y,T=M.find(this.segments,["id",v.pid]);T&&(y=v.name.replace(T.name,"").replace("_","")),m==this.MarketEstimationService.replacedTxtWithSegName(v.name)&&(m=m.replace(m,y))}),u.push(m)}),p=p.filter(g=>"rowHeader"!==g),p.forEach(g=>{let m={};for(let v=0;v<u.length;v++)m[u[v]]=_[v][g];m.rowHeader=g,this.dataForBarChart.push(m)})}a.title&&a.title.includes("BY SUB-SEGMENTS")?this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.MarketEstimationService.getTitle(a.title,this.segments)):a.title&&this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+this.MarketEstimationService.getTitle(a.title,this.segments));let c="";if(a.title.includes("BY SUB-SEGMENTS"))c=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.MarketEstimationService.getTitle(a.title,this.segments),this.tabSelected=this.selectedSegment,this.subSegmentSelected="";else{let _=this.MarketEstimationService.getTitle(a.title,this.segments);c=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+_,this.title=_;let u=this.title.replace(/ by /gi," by ").split(" by ");this.tabSelected=u[1],this.subSegmentSelected=u[0],"Regions"==this.tabSelected&&(this.tabSelected="Region")}this.analyzeData={reportId:this.reportId,tabSelected:this.tabSelected,subSegmentSelected:this.subSegmentSelected},this.analyzeDataArray.push(this.analyzeData);let l="";if(l=a.metric&&"Kilo Tons"==a.metric?a.metric:"USD "+(a.metric?a.metric:"Mn"),this.barData={title:c,source:"Wantstats",columnMetaData:this.colMetaData,dataStore:this.dataForBarChart,labelY:l},this.allKeys=[],this.dataForTable&&this.dataForTable.length){let _=Object.keys(this.dataForTable[0]);_.forEach(g=>{(g.includes("_")||!parseInt(g))&&(g.includes("%")||this.allKeys.push(g))}),_.forEach(g=>{(!g.includes("_")&&parseInt(g)||g.includes("CAGR (%) ("))&&this.allKeys.push(g)});let p="";p=a.metric&&"Kilo Tons"==a.metric?a.metric:"USD "+(a.metric?a.metric:"Mn");let u="";if(a.title&&a.title.includes("BY SUB-SEGMENTS")?u=`${this.reportName} Market [${this.startYear} - ${this.endYear}] by ${this.MarketEstimationService.getTitle(a.title,this.segments)} - (${p})`:a.title&&(u=`${this.reportName} Market [${this.startYear} - ${this.endYear}], ${this.MarketEstimationService.getTitle(a.title,this.segments)} - (${p})`),u&&(this.tableData={title:u,source:"Wantstats",rows:this.allKeys.length,columns:this.allKeys,dataStore:this.dataForTable}),this.textData.content){let g=this.textData.content;g=g.replace(/%%/g,"%"),this.textData.content=g}this.pieChartJson.push(this.pieData),this.barChartJson.push(JSON.stringify(this.barData)),this.textDataJson.push(this.textData),this.tableDataJson.push(JSON.stringify(this.tableData))}});for(let a=0;a<this.barChartJson.length;a++){let r=[],s=[{data:this.barChartJson[a],order_id:2,type:"BAR"},{data:this.tableDataJson[a],order_id:3,type:"TABLE"},{data:this.textDataJson[a],order_id:4,type:"TEXT"}];this.pieChartJson[a].columns.length&&r.push({data:JSON.stringify(this.pieChartJson[a]),order_id:1,type:"PIE"}),s.forEach(c=>{r.push(c)}),this.reportDataArray.push(this.reportSectionService.convertToReportDataElement(r))}for(let a=0;a<this.reportDataArray.length;a++)this.reportDataArray[a][0].analyze=this.analyzeDataArray[a]}this.rederBarChart(),this.spinner.hide()}rederBarChart(){this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.renderBar=!0}generateImage(e){if(!this.permissions.excelExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e,n){this.SharedAnalyticsService.data=this.analyzeDataArray[n],localStorage.setItem(k.cc.CURRENT_OUTPUT_CHART_AND_STATISTICS_DATA,e);const a={data:e,pieData:this.pieData.columns,barData:JSON.parse(this.tableDataJson[n])};this.dialog.open(ke,{width:"99%",data:a,disableClose:!1}).afterClosed().subscribe(s=>{})}analyze(e){this.SharedAnalyticsService.data=this.analyzeDataArray[e],this.routes.navigateByUrl("/dashboard")}downLoadPieData(){this.excelDownloadService.downloadExcel({type:"PIE",data:{metaDataValue:this.pieData}})}downLoadTableData(e){let n=JSON.parse(this.tableDataJson[e]),a=M.keys(n.dataStore[0]);this.excelDownloadService.generateExcelSheet(a,n.dataStore,n.title,"BAR")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(S.F0),t.Y36(D.uw),t.Y36(S.gz),t.Y36(Tt.L),t.Y36(U.t2),t.Y36(Bt._),t.Y36(kr.C),t.Y36(Ht._W),t.Y36(A.n),t.Y36(L.A),t.Y36(R.e),t.Y36(J.g),t.Y36(X.O),t.Y36(Se.B))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-me-segments"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Tr,5),t.Gf(Dr,5),t.Gf(Pr,5),t.Gf(Rr,5),t.Gf(Ar,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:18,vars:9,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["class","down-header container-fluid",4,"ngIf"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid float-l-width over-flow",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],["class","content-p container-fluid",3,"innerHTML",4,"ngSwitchCase"],[1,"container-fluid","float-l-width","over-flow"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"container-fluid"],[1,"float-l-width","header-background"],[1,"float-right"],[1,"btn-icon","ppt-btn",3,"click"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],["baseChart","",3,"data","labels","chartType","options","plugins","legend"],[1,"mat-caption"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],[1,"content-p","container-fluid",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.ALo(7,"replaceUnderscoreWithSpace"),t.qZA(),t.TgZ(8,"div",4),t.YNc(9,zr,3,2,"div",6),t.qZA()(),t._UZ(10,"div"),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(13,"div",9),t._UZ(14,"img",null,10)(16,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] By ",t.lcZ(7,6,n.selectedSegment),""),t.xp6(3),t.Q6J("ngForOf",n.reportDataArray),t.xp6(3),t.Q6J("suggestion",t.DdM(8,Qr)))},directives:[b.sg,b.O5,b.RF,b.n9,ct,at,it,ot,nt,lt,dt,ht,pt,gt,j.jh,W],pipes:[Sr,Te,De,Pe],styles:[".down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.card-border{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border{border:0!important}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-year-conatiner{position:relative}.outer-year-conatiner .year-container{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner .center{text-align:center}.align-center{color:#0000008a;align-items:center}.tabular2{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading{font-weight:500;font-size:15px;margin:5px 0}.listing{padding:0;list-style:none;display:flex;margin:0}.listing li{margin:0 10px}.mat-raised-button{background:#305497;color:#fff;line-height:30px}.mat-raised-button:hover{opacity:.7}.component-renderer{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer{padding-bottom:20px}div.comment-item{outline:none}.conponent-table{width:100%}.my-sidebar{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div th.mat-header-cell:first-of-type,.seprator-div td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div th.mat-header-cell:last-of-type,.seprator-div td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);background:#305497;color:#fff}.seprator-div td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div tr.mat-header-row{height:20px!important}.seprator-div tr.mat-row{height:32px!important}.main-container{padding:0}.border{border:1px solid #00000033}.margin-20-bottom{margin-bottom:20px}p{padding-left:15px}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.table-caption{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.first-letter-caps{text-transform:capitalize}.over-flow{overflow-x:auto!important}.purchase-notification{border:2px solid black;padding:2px;font-size:1.2em;font-weight:700;text-align:center}\n"],encapsulation:2}),i})();var zt=O(9516);const Vr=["mermaidId"],$r=["screen"],Wr=["canvas"],Kr=["downloadLink"],Xr=["callAPIDialog"];let ts=(()=>{class i{constructor(e,n,a,r,s,c){this.dialogRef=e,this.data=n,this.localStorageService=a,this.sharedAnalyticsService=r,this.routes=s,this.authService=c,this.chainType="",this.chartText="",this.output="",this.svgCode="",this.reportId="",this.portersModules=[]}ngOnInit(){this.sharedAnalyticsService.setReload(!0);const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.mermaidId.nativeElement.innerHTML=this.data.svgCode,this.chainType=this.data.chainType,document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Supply/Value chain",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}ngAfterViewInit(){zt.initialize({theme:"forest",startOnLoad:!1,securityLevel:"loose",cloneCssStyles:!0,flowchart:{htmlLabels:!1,useMaxWidth:!1}})}generateChart(){this.chartText=this.data,this.svgCode="",this.chartText||(this.chartText="graph TD;");const e=this.mermaidId.nativeElement;zt.render("graphDiv",this.chartText,(a,r)=>{e.innerHTML=a})}generateImage(){if(console.log(678),!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(J.g),t.Y36(S.F0),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-supply-chain-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Vr,5),t.Gf($r,5),t.Gf(Wr,5),t.Gf(Kr,5),t.Gf(Xr,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.mermaidId=a.first),t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first),t.iGM(a=t.CRH())&&(n.callAPIDialog=a.first)}},decls:26,vars:4,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-times",3,"click"],[1,"padding10-20","outer-conatiner1","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"align-center"],[1,"mermaid","svg-width1"],["mermaidId",""],[1,"supply-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.doClose()}),t.qZA()()(),t.TgZ(7,"mat-card-content",6,7)(9,"div",8)(10,"p",9)(11,"span",10),t._uU(12,"Title :"),t.qZA(),t._uU(13),t.qZA()(),t.TgZ(14,"div",11),t._UZ(15,"div",12,13),t.qZA(),t.TgZ(17,"p",14)(18,"span",10),t._uU(19,"Source :"),t.qZA(),t._uU(20,"Wantstats "),t.qZA()(),t.TgZ(21,"div",15),t._UZ(22,"img",null,16)(24,"a",null,17),t.qZA()),2&e&&(t.xp6(13),t.HOy("",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[B.dn],styles:[".down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.down-header{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}::ng-deep .mat-select-value,::ng-deep .mat-select-arrow,::ng-deep .mat-select-placeholder{color:#fff!important}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-conatiner1{position:relative;display:block;padding:10px}.align-center{align-items:center}.source{font-size:11px}.mat-head{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.seprator-div{padding:10px 0}.center{text-align:center}foreignObject>div>span{margin:.25rem!important;text-align:justified!important}foreignObject>div>span i{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid .edgeLabel{background-color:#fff;text-align:left;opacity:1!important}.mermaid .label{padding:1rem .25rem!important}foreignObject>div,circle{padding:-10% 0!important}svg{overflow:auto!important;margin-left:auto;margin-right:auto}.svg-width1{width:auto;display:flex;align-items:center;justify-content:center;align-content:space-between;height:34vh}.vendor{font-size:14px;font-weight:500;color:#333;margin-bottom:0}::ng-deep .mat-expansion-panel-spacing{margin:16px 0!important}::ng-deep .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}::ng-deep .mat-expansion-panel-header,::ng-deep .mat-expansion-panel-body{padding:0!important}.conclusion{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.supply-caption{margin-bottom:0;padding-left:0;font-size:14px}.mat-dialog-container{padding:0}\n"],encapsulation:2}),i})();var es=O(2843);let ns=(()=>{class i{constructor(e){this.httpClient=e,this.serviceEndPoint="http://172.16.0.116:8081/api/supplyChainNode",this.kamleshApiServiceEndPoint="http://172.16.0.116:8081/api"}getAll(){return this.httpClient.get(this.serviceEndPoint)}save(e){return""===e._id?this.httpClient.post(this.serviceEndPoint,e):new Vt.y}remove(e){return this.httpClient.delete(`${this.kamleshApiServiceEndPoint}/supply/${e}`)}updateModule(e,n){return""!==e?this.httpClient.put(`${this.kamleshApiServiceEndPoint}/supply/${e}`,n):new Vt.y}saveSupplyChainData(e,n){const a=new Gt.WM({"Content-Type":"application/json"});return this.httpClient.post(k.Ap.ES_API+`/${e}/toc`,[n],{headers:a})}getSupplyChainData(e,n,a){return this.httpClient.get(k.Ap.ES_API+"/"+e+"/toc?msid="+a+"&sid="+n)}handleError(e){return(0,es._)(e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Gt.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var se=O(4905);let ce=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const is=["mermaidId"],as=["screen"],os=["canvas"],rs=["downloadLink"],ss=["callAPIDialog"];function cs(i,o){1&i&&(t.TgZ(0,"p",32),t._uU(1,"Vendors"),t.qZA())}function ls(i,o){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e)}}function ds(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",28),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div"),t._UZ(5,"p",29),t.qZA(),t.TgZ(6,"div"),t.YNc(7,cs,2,0,"p",30),t.TgZ(8,"table",31),t.YNc(9,ls,3,1,"tr",25),t.qZA()()()()),2&i){const e=o.$implicit;t.xp6(2),t.hij(" ",e.title," "),t.xp6(3),t.Q6J("innerHTML",null==e.data[0]?null:e.data[0].info,t.oJD),t.xp6(2),t.Q6J("ngIf",(null==e.data[1]?null:e.data[1].info.length)>0),t.xp6(2),t.Q6J("ngForOf",null==e.data[1]?null:e.data[1].info)}}const ps=function(){return{orderType:"supplychain"}};let hs=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u,g,m){this.supplyChainApiService=e,this.chartService=n,this.portersApiService=a,this.routes=r,this.dialog=s,this.authService=c,this.reportService=l,this.reportSectionService=_,this.spinner=p,this.localStorageService=u,this.sharedAnalyticsService=g,this.activateRoutes=m,this.modules={},this.paths=[],this.chartText="",this.output="",this.svgCode="",this.chainType="",this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]}}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download=this.chainType+", "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Supply/Value chain",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);if(this.localStorageService.get(k.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let a=this.overlaps.filter(s=>"Suuply / Value Chain Analysis"==s.section_name);if(a.length){let s={section:"",data:[]};if(a[0].data&&a[0].data.length&&a[0].section_name){s.section=a[0].section_name;for(let c=0;c<a[0].data.length&&c<2;c++)s.data.push(a[0].data[c])}this.interConnectData=s}let r=this.overlaps.filter(s=>"Report"==s.section_name);if(r.length){let s={section:"",data:[]};if(r[0].data&&r[0].data.length&&r[0].section_name){s.section=r[0].section_name;for(let c=0;c<r[0].data.length&&c<2;c++)s.data.push(r[0].data[c])}this.reportConnectData=s}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,console.log("reportId",this.reportId),this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(a=>{this.getReportDetailsSuccess(a),window.scroll(0,0)},a=>{})}getReportDetailsSuccess(e){console.log("data",e),e.forEach(n=>{"supply-chain"===n.meta_info.section_key&&(this.chainType=n.meta.chain_type,this.chainType=M.upperFirst(M.toLower(this.chainType)),this.getSupplyChainDataSuccess(n.meta.data,n.content))}),this.spinner.hide()}getSupplyChainDataSuccess(e,n){this.paths=e,this.nodes=n,this.generateChart()}ngAfterViewInit(){zt.initialize({theme:"forest",startOnLoad:!1,securityLevel:"loose",cloneCssStyles:!0,flowchart:{htmlLabels:!1,useMaxWidth:!1}}),window.scrollTo(0,0)}generateChart(){let e="graph LR;";for(let r=0;r<this.paths.length;r++){let s=this.paths[r].from.title,c=this.paths[r].to.title;s=s.replace(/(.{20}[^\s]*)/g,"$1<br>"),c=c.replace(/(.{20}[^\s]*)/g,"$1<br>"),e+=this.paths[r].from.order_id+'["'+s+'"] --\x3e'+this.paths[r].to.order_id+'["'+c+'"];'}this.chartText=e,this.svgCode="",this.chartText||(this.chartText="graph TD;");const n=this.mermaidId.nativeElement;console.log("element",n),zt.render("graphDiv",this.chartText,(r,s)=>{n.innerHTML=r,this.svgCode=r,document.getElementById("graphDiv").style.maxWidth=""})}openDroctDialog(){this.dialog.open(ts,{width:"99%",data:{svgCode:this.svgCode,chainType:this.chainType},disableClose:!1}).afterClosed().subscribe(a=>{})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ns),t.Y36(se.f),t.Y36(ce),t.Y36(S.F0),t.Y36(D.uw),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n),t.Y36(J.g),t.Y36(S.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-supply-chain-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(is,5),t.Gf(as,5),t.Gf(os,5),t.Gf(rs,5),t.Gf(ss,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.mermaidId=a.first),t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first),t.iGM(a=t.CRH())&&(n.callAPIDialog=a.first)}},decls:36,vars:11,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row"],[1,"col-9","m8"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"padding20","outer-year-conatiner1","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"row","align-center",2,"height","100%"],[1,"mermaid","svg-width"],["mermaidId",""],[1,"supply-caption"],["id","download",2,"display","flex"],["height","400px","width","400px"],["canvas",""],["downloadLink",""],[1,"down-header"],[1,"accordion"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"mat-head"],[1,"content-p",3,"innerHTML"],["class","vendor",4,"ngIf"],[1,"content-p"],[1,"vendor"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),t.NdJ("click",function(){return n.analyze()}),t._uU(7,"Analyze"),t.qZA()(),t.TgZ(8,"div",7)(9,"i",8),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(10,"i",9),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(11,"mat-card-content",10,11)(13,"div",12)(14,"p",13)(15,"span",14),t._uU(16,"Title\xa0:\xa0"),t.qZA(),t._uU(17),t.qZA()(),t.TgZ(18,"div",15),t._UZ(19,"div",16,17),t.TgZ(21,"p",18)(22,"span",14),t._uU(23,"Source\xa0:\xa0"),t.qZA(),t._uU(24,"Wantstats "),t.qZA()()(),t.TgZ(25,"div",19),t._UZ(26,"img",20,21)(28,"a",null,22),t.qZA(),t.TgZ(30,"div",23),t._uU(31),t.qZA(),t.TgZ(32,"div",24),t.YNc(33,ds,10,4,"div",25),t.qZA()(),t.TgZ(34,"div",26),t._UZ(35,"app-hardcoded-suggestions",27),t.qZA()()()()),2&e&&(t.xp6(17),t.HOy("",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(14),t.HOy(" ",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"] "),t.xp6(2),t.Q6J("ngForOf",n.nodes),t.xp6(2),t.Q6J("suggestion",t.DdM(10,ps)))},directives:[B.dn,b.sg,b.O5,W],styles:[".down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}  .mat-select-value,   .mat-select-arrow,   .mat-select-placeholder{color:#fff!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner1[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.1);display:block;padding:10px 20px 20px}.align-center[_ngcontent-%COMP%]{align-items:center}.source[_ngcontent-%COMP%]{font-size:11px}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window[_ngcontent-%COMP%]{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.center[_ngcontent-%COMP%]{text-align:center}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:.25rem!important;text-align:justified!important}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid[_ngcontent-%COMP%]   .edgeLabel[_ngcontent-%COMP%]{background-color:#fff;text-align:left;opacity:1!important}.mermaid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:1rem .25rem!important}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], circle[_ngcontent-%COMP%]{padding:-10% 0!important}svg[_ngcontent-%COMP%]{overflow:auto!important;margin-left:auto;margin-right:auto}.svg-width[_ngcontent-%COMP%]{width:100%!important;display:flex;align-items:center;justify-content:center}.vendor[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;margin-bottom:0}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}.conclusion[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.supply-caption[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}"]}),i})();const gs=["container1"],us=["screen"],ms=["canvas"],_s=["downloadLink"],fs=["callAPIDialog"];let vs=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialogRef=e,this.data=n,this.localStorageService=a,this.chartService=r,this.sharedAnalyticsService=s,this.routes=c,this.authService=l,this.reportId="",this.portersModules=[]}ngOnInit(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.portersModules=this.data,this.htmlElement=this.element.nativeElement,this.chartService.setup(this.htmlElement),this.chartService.populate(this.portersModules),this.reportId=e._id,window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}generateImage(){if(console.log(45),!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(se.f),t.Y36(J.g),t.Y36(S.F0),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-porters-radar-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(gs,5),t.Gf(us,5),t.Gf(ms,5),t.Gf(_s,5),t.Gf(fs,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.element=a.first),t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first),t.iGM(a=t.CRH())&&(n.callAPIDialog=a.first)}},decls:31,vars:3,consts:[[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"year-container"],[1,"row"],[1,"container"],["container1",""],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1)(6,"div",3),t.TgZ(7,"div",4)(8,"div",5)(9,"i",6),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(10,"i",7),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(11,"mat-card-content",8,9)(13,"div",10)(14,"p",11)(15,"span",12),t._uU(16,"Title :"),t.qZA(),t._uU(17),t.qZA(),t._UZ(18,"div",13),t.qZA(),t.TgZ(19,"div",14),t._UZ(20,"div",15,16),t.TgZ(22,"p",17)(23,"span",12),t._uU(24,"Source :"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()(),t.TgZ(26,"div",18),t._UZ(27,"img",null,19)(29,"a",null,20),t.qZA()),2&e&&(t.xp6(17),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[B.dn],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.mat-dialog-container{padding:0!important}.outer-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block}\n"],encapsulation:2}),i})();const Cs=["porters"],ws=["canvas"],ys=["downloadLink"];function xs(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function bs(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Ms(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Os(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function ks(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}let Re=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialogRef=e,this.data=n,this.localStorageService=a,this.authService=r,this.reportService=s,this.sharedAnalyticsService=c,this.routes=l,this.threatOfNewEntrantsRating=[],this.bargainingPowerOfSuppliersRating=[],this.threatOfSubstitutesRating=[],this.bargainingPowerOfBuyersRating=[],this.segmentRivalryRating=[],this.modulesData=[{bargainingPowerOfBuyersRating:0,bargainingPowerOfSuppliersRating:0,name:"",segmentRivalryRating:0,threatOfNewEntrantsRating:0,threatOfSubstitutesRating:0}],this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.localStorageService.get(k.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(e._id,"MARKET_FACTOR_ANALYSIS").subscribe(a=>{this.getReportDetailsSuccess(a),window.scroll(0,0)},a=>{console.log("error",a)})}getReportDetailsSuccess(e){e.forEach(n=>{"porter"===n.meta_info.section_key&&(this.getPortersDataSuccess(n.meta),n.content&&(this.conclusion=n.content[0].data.content))})}getPortersDataSuccess(e){if(e&&e.data)if(this.result=e.data,this.impact=e.impact,this.result.filter(n=>{let a={name:M.upperFirst(M.toLower(n.name)),type:n.type,rating:n.rating};0!=n.rating&&("Threat of New Entrants"==n.type?this.threatOfNewEntrantsRating.push(a):"Bargaining Power of Suppliers"==n.type?this.bargainingPowerOfSuppliersRating.push(a):"Threat of Substitutes"==n.type?this.threatOfSubstitutesRating.push(a):"Bargaining Power of Buyers"==n.type?this.bargainingPowerOfBuyersRating.push(a):"Segment Rivalry"==n.type&&this.segmentRivalryRating.push(a))}),this.impact&&this.impact.length)this.impact.forEach(n=>{"Threat of New Entrants"==n.name?(this.threats=n.impact,this.modulesData[0].threatOfNewEntrantsRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Suppliers"==n.name?(this.suppliers=n.impact,this.modulesData[0].bargainingPowerOfSuppliersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Threat of Substitutes"==n.name?(this.substitutes=n.impact,this.modulesData[0].threatOfSubstitutesRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Buyers"==n.name?(this.buyers=n.impact,this.modulesData[0].bargainingPowerOfBuyersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Segment Rivalry"==n.name&&(this.segments=n.impact,this.modulesData[0].segmentRivalryRating="high"==n.impact?8:"medium"==n.impact?5:2)});else{let n=0;this.threatOfNewEntrantsRating.forEach(l=>{n+=parseInt(l.rating)}),this.modulesData[0].threatOfNewEntrantsRating=n/this.threatOfNewEntrantsRating.length;let a=0;this.bargainingPowerOfSuppliersRating.forEach(l=>{a+=parseInt(l.rating)}),this.modulesData[0].bargainingPowerOfSuppliersRating=a/this.bargainingPowerOfSuppliersRating.length;let r=0;this.bargainingPowerOfBuyersRating.forEach(l=>{r+=parseInt(l.rating)}),this.modulesData[0].bargainingPowerOfBuyersRating=r/this.bargainingPowerOfBuyersRating.length;let s=0;this.threatOfSubstitutesRating.forEach(l=>{s+=parseInt(l.rating)}),this.modulesData[0].threatOfSubstitutesRating=s/this.threatOfSubstitutesRating.length;let c=0;this.segmentRivalryRating.forEach(l=>{c+=parseInt(l.rating)}),this.modulesData[0].segmentRivalryRating=c/this.segmentRivalryRating.length,this.modulesData[0].name=this.reportName,this.portersModules=this.modulesData,this.threats=this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<=10?this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<8?"medium":"high":"low",this.suppliers=this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<=10?this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<8?"medium":"high":"low",this.segments=this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<=10?this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<8?"medium":"high":"low",this.buyers=this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<=10?this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<8?"medium":"high":"low",this.substitutes=this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<=10?this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<8?"medium":"high":"low"}}generatePortersImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.porters.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="porters.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(R.e),t.Y36(I.r),t.Y36(J.g),t.Y36(S.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-porters5-diagram"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Cs,5),t.Gf(ws,5),t.Gf(ys,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.porters=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:63,vars:22,consts:[[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-6"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[2,"padding","10px 20px"],["porters",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"porters","porters-50"],[1,"flexer","wrapper"],[1,"block",3,"ngClass"],[1,"h6"],[1,"ul"],[4,"ngFor","ngForOf"],[1,"triangle-down",3,"ngClass"],[1,"porters","middle"],[1,"flexer"],[1,"block-v",3,"ngClass"],[1,"triangle-left",3,"ngClass"],[1,"block-o",3,"ngClass"],[1,"block-in"],[1,"triangle-right",3,"ngClass"],[1,"triangle-up",3,"ngClass"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1),t.TgZ(6,"div",3)(7,"div",4)(8,"i",5),t.NdJ("click",function(){return n.generatePortersImage()}),t.qZA(),t.TgZ(9,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(10,"div",7,8)(12,"div",9)(13,"p",10)(14,"span",11),t._uU(15,"Title :"),t.qZA(),t._uU(16),t.qZA()(),t.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),t._uU(21),t.qZA(),t.TgZ(22,"ul",16),t.YNc(23,xs,2,1,"li",17),t.qZA()(),t._UZ(24,"div",18),t.qZA()(),t.TgZ(25,"div",19)(26,"div",20)(27,"div",21)(28,"h6",15),t._uU(29),t.qZA(),t.TgZ(30,"ul",16),t.YNc(31,bs,2,1,"li",17),t.qZA()(),t._UZ(32,"div",22),t.qZA(),t.TgZ(33,"div",23)(34,"div",24)(35,"h6",15),t._uU(36),t.qZA(),t.TgZ(37,"ul",16),t.YNc(38,Ms,2,1,"li",17),t.qZA()()(),t.TgZ(39,"div",20),t._UZ(40,"div",25),t.TgZ(41,"div",21)(42,"h6",15),t._uU(43),t.qZA(),t.TgZ(44,"ul",16),t.YNc(45,Os,2,1,"li",17),t.qZA()()()(),t.TgZ(46,"div",12)(47,"div",13),t._UZ(48,"div",26),t.TgZ(49,"div",14)(50,"h6",15),t._uU(51),t.qZA(),t.TgZ(52,"ul",16),t.YNc(53,ks,2,1,"li",17),t.qZA()()()(),t.TgZ(54,"p",27)(55,"span",11),t._uU(56,"Source :"),t.qZA(),t._uU(57,"Wantstats "),t.qZA()(),t.TgZ(58,"div",28),t._UZ(59,"img",null,29)(61,"a",null,30),t.qZA()),2&e&&(t.xp6(16),t.lnq("Porter's 5 Forces, ",n.reportName," Market, [",n.startYear," - ",n.endYear,"]"),t.xp6(3),t.Q6J("ngClass","low"===n.threats?"green":"medium"===n.threats?"grey":"high"===n.threats?"red":""),t.xp6(2),t.hij("Threat of New Entrants (",n.threats,")"),t.xp6(2),t.Q6J("ngForOf",n.threatOfNewEntrantsRating),t.xp6(1),t.Q6J("ngClass","low"===n.threats?"t-down-green":"medium"===n.threats?"t-down-grey":"high"===n.threats?"t-down-red":""),t.xp6(3),t.Q6J("ngClass","low"===n.suppliers?"green":"medium"===n.suppliers?"grey":"high"===n.suppliers?"red":""),t.xp6(2),t.hij("Bargaining Power of Suppliers (",n.suppliers,")"),t.xp6(2),t.Q6J("ngForOf",n.bargainingPowerOfSuppliersRating),t.xp6(1),t.Q6J("ngClass","low"===n.suppliers?"t-left-green":"medium"===n.suppliers?"t-left-grey":"high"===n.suppliers?"t-left-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.segments?"green":"medium"===n.segments?"grey":"high"===n.segments?"red":""),t.xp6(3),t.hij("Segment Rivalry (",n.segments,")"),t.xp6(2),t.Q6J("ngForOf",n.segmentRivalryRating),t.xp6(2),t.Q6J("ngClass","low"===n.buyers?"t-right-green":"medium"===n.buyers?"t-right-grey":"high"===n.buyers?"t-right-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.buyers?"green":"medium"===n.buyers?"grey":"high"===n.buyers?"red":""),t.xp6(2),t.hij("Bargaining Power of Buyers (",n.buyers,")"),t.xp6(2),t.Q6J("ngForOf",n.bargainingPowerOfBuyersRating),t.xp6(3),t.Q6J("ngClass","low"===n.substitutes?"t-up-green":"medium"===n.substitutes?"t-up-grey":"high"===n.substitutes?"t-up-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.substitutes?"green":"medium"===n.substitutes?"grey":"high"===n.substitutes?"red":""),t.xp6(2),t.hij("Threat of Substitutes (",n.substitutes,")"),t.xp6(2),t.Q6J("ngForOf",n.threatOfSubstitutesRating))},directives:[b.mk,b.sg],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0}.porters[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.porters[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:60%;height:19vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center;overflow-y:auto}.porters[_ngcontent-%COMP%]   .block-v[_ngcontent-%COMP%]{width:50%;height:20vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center;overflow-y:auto}.porters[_ngcontent-%COMP%]   .block-o[_ngcontent-%COMP%]{width:24%;height:31vh;border-radius:50%;background:transparent;margin:10px 0;display:flex;align-items:center;justify-content:center;overflow:auto}.middle[_ngcontent-%COMP%]{align-items:center;justify-content:center}.triangle-left[_ngcontent-%COMP%]{height:0;width:0;border-left:3vw solid transparent;border-right:0px solid transparent;border-bottom:15vh solid transparent;border-top:15vh solid transparent}.triangle-right[_ngcontent-%COMP%]{height:0;width:0;border-right:3vw solid transparent;border-left:0px solid transparent;border-bottom:15vh solid transparent;border-top:15vh solid transparent}.triangle-down[_ngcontent-%COMP%]{height:0;width:0;border-top:3vw solid transparent;border-bottom:0px solid transparent;border-right:20vh solid transparent;border-left:20vh solid transparent}.triangle-up[_ngcontent-%COMP%]{height:0;width:0;border-bottom:3vw solid transparent;border-top:0px solid transparent;border-right:20vh solid transparent;border-left:20vh solid transparent}.flexer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.porters-50[_ngcontent-%COMP%]{width:30%;margin:auto}.block-in[_ngcontent-%COMP%]{width:80%;height:20vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.h6[_ngcontent-%COMP%]{margin:10px;font-size:10px;font-weight:500;color:#fff;text-align:center;display:flex;align-items:center}.ul[_ngcontent-%COMP%]{padding:0 5px 0 10px;list-style:none;font-size:12px;color:#fff;font-weight:100}.ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px}.green[_ngcontent-%COMP%]{background:green!important}.grey[_ngcontent-%COMP%]{background:gray!important}.t-left-green[_ngcontent-%COMP%]{border-left:3vw solid green!important}.t-left-grey[_ngcontent-%COMP%]{border-left:3vw solid gray!important}.t-left-red[_ngcontent-%COMP%]{border-left:3vw solid red!important}.t-right-green[_ngcontent-%COMP%]{border-right:3vw solid green!important}.t-right-grey[_ngcontent-%COMP%]{border-right:3vw solid gray!important}.t-right-red[_ngcontent-%COMP%]{border-right:3vw solid red!important}.t-down-green[_ngcontent-%COMP%]{border-top:3vw solid green!important}.t-down-grey[_ngcontent-%COMP%]{border-top:3vw solid gray!important}.t-down-red[_ngcontent-%COMP%]{border-top:3vw solid red!important}.t-up-green[_ngcontent-%COMP%]{border-bottom:3vw solid green!important}.t-up-grey[_ngcontent-%COMP%]{border-bottom:3vw solid gray!important}.t-up-red[_ngcontent-%COMP%]{border-bottom:3vw solid red!important}.flexer[_ngcontent-%COMP%]{width:250px}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000001a;border-radius:0}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;box-shadow:inset 0 0 6px #0000001a}"]}),i})();const Ss=["screen"],Ts=["canvas"],Ds=["downloadLink"];let Ps=(()=>{class i{constructor(e,n,a,r){this.dialogRef=e,this.data=n,this.localStorageService=a,this.authService=r,this.finalObject=[]}ngOnInit(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.types=this.data.types,this.data&&(this.sectionName=this.data[0].name),this.generateTrees(),document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}generateTrees(){if(this.cnt=0,0==this.cnt){let e=this.data.length;this.cnt=(this.cnt+1+e)%e,this.renderTree(this.data[this.cnt]),this.showYear=this.data[this.cnt].year,this.cnt++,this.cnt>0&&E.interval(()=>{this.data.length>0&&(this.cnt=(this.cnt+1+e)%e,E.select("#driver-container1 svg").remove(),this.renderTree(this.data[this.cnt]),this.showYear=this.data[this.cnt].year)},1e3)}}renderTree(e){var _,s=E.select("#driver-container1").append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),c=0,p=E.tree().size([245,300]);(_=E.hierarchy(e,function(m){return m.children})).x0=122.5,_.y0=0,function g(m){var v=p(_),y=v.descendants(),T=v.descendants().slice(1),P=s.selectAll("g.node").data(y,function(h){return h.id||(h.id=++c)}),N=P.enter().append("g").attr("class","node").attr("transform",function(h){return"translate("+m.y0+","+m.x0+")"});N.append("image").attr("href",function(h){return h.children||h._children?1==h.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(h){return h._children?"lightsteelblue":"#fff"}).style("color","#000"),N.append("text").attr("x",function(h){return 10}).attr("dy",function(h){return h.children||h._children?"-1em":"0.5em"}).attr("text-anchor",function(h){return h.children||h._children?"middle":"start"}).text(function(h){return h.depth>0?h.data.rating>=4&&h.data.rating<=10?h.data.rating>=4&&h.data.rating<=7?h.data.name+" ( medium )":h.data.name+" ( high )":h.depth>0?h.data.name+" ( low )":h.data.name:h.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(h){return h.data.percent>=70?"bold":"normal"});var Y=N.merge(P);Y.attr("transform",function(h){return"translate("+h.y+","+h.x+")"}),Y.select("image").attr("href",function(h){return h.children||h._children?h.data.rating>0?"../../assets/images/"+h.data.rating+".png":1==h.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),Y.select("text").style("fill-opacity",1);var F=P.exit().attr("transform",function(h){return"translate("+m.y+","+m.x+")"}).remove();F.select("circle").attr("r",1e-6),F.select("text").style("fill-opacity",1e-6);var q=s.selectAll("path.link").data(T,function(h){return h.id});function z(h,d){return`M ${h.y} ${h.x}\n            C ${(h.y+d.y)/2} ${h.x},\n              ${(h.y+d.y)/2} ${d.x},\n              ${d.y} ${d.x}`}q.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(h){return.5*h.data.rating+"px"}).attr("stroke",function(h){return h.data.rating>=4&&h.data.rating<=10?h.data.rating>=4&&h.data.rating<8?"#999":"red":"green"}).attr("d",function(h){var d={x:m.x0,y:m.y0};return z(d,d)}).merge(q).attr("d",function(h){return z(h,h.parent)}),q.exit().attr("d",function(h){var d={x:m.x,y:m.y};return z(d,d)}).remove(),y.forEach(function(h){h.x0=h.x,h.y0=h.y})}(_)}doClose(){this.data=[],E.select("#driver-container1").selectAll("svg").remove(),this.dialogRef.close()}clickout(){this.data=[]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-porters-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ss,5),t.Gf(Ts,5),t.Gf(Ds,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.clickout()},!1,t.evT)},decls:29,vars:4,consts:[[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"row"],["id","driver-container1"],[2,"width","100%"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",2),t.TgZ(6,"div",3)(7,"div",4)(8,"i",5),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(9,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(10,"mat-card-content",7,8)(12,"div",9)(13,"p",10)(14,"span",11),t._uU(15,"Title :"),t.qZA(),t._uU(16),t.qZA()(),t.TgZ(17,"div",12),t._UZ(18,"div",13),t.TgZ(19,"div",14)(20,"p",15)(21,"span",11),t._uU(22,"Source :"),t.qZA(),t._uU(23,"Wantstats "),t.qZA()()()()(),t.TgZ(24,"div",16),t._UZ(25,"img",null,17)(27,"a",null,18),t.qZA()),2&e&&(t.xp6(16),t.HOy("",n.sectionName,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[B.dn],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0!important}"]}),i})();const Rs=["screen"],As=["canvas"],Zs=["downloadLink"],Es=["callAPIDialog"];let Ns=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.portersApiService=n,this.routes=a,this.authService=r,this.reportService=s,this.reportSectionService=c,this.localStorageService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.treeArray=[{name:"",children:[],id:""}],this.cnt=0}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(n=>{this.getReportDetailsSuccess(n)})}getReportDetailsSuccess(e){e.forEach(n=>{"porter"===n.meta_info.section_key&&this.getPortersDataSuccess(n.meta.data)})}getPortersDataSuccess(e){this.result=e,this.result.filter(n=>{n.type==this.dataType&&this.treeArray&&(this.treeArray[0].name=this.dataType,0!=n.rating&&this.treeArray[0].children.push(n))}),this.renderChart()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()})}renderChart(){if(0==this.cnt&&(this.cnt=(this.cnt+1+this.treeArray.length)%this.treeArray.length,this.renderTree(this.treeArray[this.cnt]),this.showYear=this.treeArray[this.cnt],this.cnt++,this.cnt>0)){this.cnt=(this.cnt+1+this.treeArray.length)%this.treeArray.length;const e="#driver-container-"+this.chartId+" svg";this.treeArray[0].id=e,E.select(e).remove(),this.renderTree(this.treeArray[this.cnt]),this.showYear=this.treeArray[this.cnt]}}renderTree(e){var p,c=E.select("#driver-container-"+this.chartId).append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),l=0,u=E.tree().size([245,300]);(p=E.hierarchy(e,function(v){return v.children})).x0=122.5,p.y0=0,function m(v){var y=u(p),T=y.descendants(),P=y.descendants().slice(1),N=c.selectAll("g.node").data(T,function(f){return f.id||(f.id=++l)}),Y=N.enter().append("g").attr("class","node").attr("transform",function(f){return"translate("+v.y0+","+v.x0+")"});Y.append("image").attr("href",function(f){return f.children||f._children?1==f.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(f){return f._children?"lightsteelblue":"#fff"}).style("color","#000"),Y.append("text").attr("x",function(f){return 10}).attr("dy",function(f){return f.children||f._children?"-1em":"0.5em"}).attr("text-anchor",function(f){return f.children||f._children?"middle":"start"}).text(function(f){return f.depth>0?f.data.rating>=4&&f.data.rating<=10?f.data.rating>=4&&f.data.rating<=7?f.data.name+" ( medium )":f.data.name+" ( high )":f.depth>0?f.data.name+" ( low )":f.data.name:f.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(f){return f.data.percent>=70?"bold":"normal"}).call(function d(f,Z){f.each(function(){for(var K,st=E.select(this),bt=st.text().split(/\s+/).reverse(),_t=[],le=0,Dt=st.attr("y"),ft=parseFloat(st.attr("dy")),jt=st.text(null).append("tspan").attr("x",0).attr("y",Dt).attr("dy",ft+"em");K=bt.pop();)_t.push(K),jt.text(_t.join(" ")),jt.node().getComputedTextLength()>Z&&(_t.pop(),jt.text(_t.join(" ")),_t=[K],jt=st.append("tspan").attr("x",0).attr("y",Dt).attr("dy",1*++le+ft+"em").text(K))})},380);var F=Y.merge(N);F.attr("transform",function(f){return"translate("+f.y+","+f.x+")"}),F.select("image").attr("href",function(f){return f.children||f._children?f.data.rating>0?"../../assets/images/"+f.data.rating+".png":1==f.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),F.select("text").style("fill-opacity",1);var q=N.exit().attr("transform",function(f){return"translate("+v.y+","+v.x+")"}).remove();q.select("circle").attr("r",1e-6),q.select("text").style("fill-opacity",1e-6);var G=c.selectAll("path.link").data(P,function(f){return f.id});function V(f,Z){return`M ${f.y} ${f.x}\n        C ${(f.y+Z.y)/2} ${f.x},\n          ${(f.y+Z.y)/2} ${Z.x},\n          ${Z.y} ${Z.x}`}G.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(f){return.5*f.data.rating+"px"}).attr("stroke",function(f){return f.data.rating>=4&&f.data.rating<=10?f.data.rating>=4&&f.data.rating<8?"#999":"red":"green"}).attr("d",function(f){var Z={x:v.x0,y:v.y0};return V(Z,Z)}).merge(G).attr("d",function(f){return V(f,f.parent)}),G.exit().attr("d",function(f){var Z={x:v.x,y:v.y};return V(Z,Z)}).remove(),T.forEach(function(f){f.x0=f.x,f.y0=f.y})}(p)}openDroctDialog(){this.dialog.open(Ps,{width:"99%",data:this.treeArray,disableClose:!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(ce),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-porter-driver"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Rs,5),t.Gf(As,5),t.Gf(Zs,5),t.Gf(Es,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first),t.iGM(a=t.CRH())&&(n.callAPIDialog=a.first)}},inputs:{dataType:"dataType",chartId:"chartId"},decls:22,vars:5,consts:[[1,"float-l-width","header-background"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[3,"id"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"i",2),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(3,"i",3),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(4,"div",4,5)(6,"div",6)(7,"p",7)(8,"span",8),t._uU(9,"Title :"),t.qZA(),t._uU(10),t.qZA()(),t.TgZ(11,"div"),t._UZ(12,"div",9),t.TgZ(13,"p",10)(14,"span",8),t._uU(15,"Source :"),t.qZA(),t._uU(16,"Wantstats "),t.qZA()()(),t.TgZ(17,"div",11),t._UZ(18,"img",null,12)(20,"a",null,13),t.qZA()),2&e&&(t.xp6(10),t.HOy("",n.treeArray[0].name,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(2),t.s9C("id","driver-container-"+n.chartId))},styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}"]}),i})();const Is=["container"],Ls=["screen"],Us=["porters"],Ys=["canvas"],qs=["downloadLink"],Hs=["callAPIDialog"];function Fs(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",45),t._uU(2),t.qZA(),t._UZ(3,"app-porter-driver",46),t.qZA()),2&i){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("dataType",e.name)("chartId",e.id)}}function Js(i,o){if(1&i&&(t.TgZ(0,"div")(1,"p",45),t._uU(2,"Conclusion"),t.qZA(),t._UZ(3,"p",47),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("innerHTML",e.conclusion,t.oJD)}}const Bs=function(){return{orderType:"porter"}};let Gs=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p,u,g){this.chartService=e,this.portersApiService=n,this.routes=a,this.authService=r,this.dialog=s,this.reportService=c,this.reportSectionService=l,this.spinner=_,this.localStorageService=p,this.sharedAnalyticsService=u,this.activateRoutes=g,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.conclusion="",this.portersModules=[],this.data=[{id:"1",name:"Threat of New Entrants",children:[]},{id:"2",name:"Bargaining Power of Suppliers",children:[]},{id:"3",name:"Threat of Substitutes",children:[]},{id:"4",name:"Bargaining Power of Buyers",children:[]},{id:"5",name:"Segment Rivalry",children:[]}],this.bargainingPowerOfBuyersRating=[],this.bargainingPowerOfSuppliersRating=[],this.segmentRivalryRating=[],this.threatOfNewEntrantsRating=[],this.threatOfSubstitutesRating=[],this.modulesData=[{bargainingPowerOfBuyersRating:0,bargainingPowerOfSuppliersRating:0,name:"",segmentRivalryRating:0,threatOfNewEntrantsRating:0,threatOfSubstitutesRating:0}],this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.permissions=this.authService.getUserPermissions(),this.spinner.show()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Porters"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let s=0;s<n[0].data.length&&s<2;s++)r.data.push(n[0].data[s])}this.interConnectData=r}let a=this.overlaps.filter(r=>"Report"==r.section_name);if(a.length){let r={section:"",data:[]};if(a[0].data&&a[0].data.length&&a[0].section_name){r.section=a[0].section_name;for(let s=0;s<a[0].data.length&&s<2;s++)r.data.push(a[0].data[s])}this.reportConnectData=r}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}getReportDetailsSuccess(e){e&&e.forEach(n=>{"porter"===n.meta_info.section_key&&(this.getPortersDataSuccess(n.meta),n.content&&(this.conclusion=n.content[0].data.content))}),this.spinner.hide()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Porter's 5 Forces, "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}generatePortersImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.porters.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Porter's 5 Forces, "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}ngOnInit(){this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getPortersDataSuccess(e){if(e&&e.data){if(this.result=e.data,e.impact&&(this.impact=e.impact),this.result.filter(n=>{0!=n.rating&&("Threat of New Entrants"==n.type?this.threatOfNewEntrantsRating.push(n):"Bargaining Power of Suppliers"==n.type?this.bargainingPowerOfSuppliersRating.push(n):"Threat of Substitutes"==n.type?this.threatOfSubstitutesRating.push(n):"Bargaining Power of Buyers"==n.type?this.bargainingPowerOfBuyersRating.push(n):"Segment Rivalry"==n.type&&this.segmentRivalryRating.push(n))}),this.impact&&this.impact.length)this.impact.forEach(n=>{"Threat of New Entrants"==n.name?(this.threats=n.impact,this.modulesData[0].threatOfNewEntrantsRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Suppliers"==n.name?(this.suppliers=n.impact,this.modulesData[0].bargainingPowerOfSuppliersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Threat of Substitutes"==n.name?(this.substitutes=n.impact,this.modulesData[0].threatOfSubstitutesRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Buyers"==n.name?(this.buyers=n.impact,this.modulesData[0].bargainingPowerOfBuyersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Segment Rivalry"==n.name&&(this.segments=n.impact,this.modulesData[0].segmentRivalryRating="high"==n.impact?8:"medium"==n.impact?5:2)});else{let n=0;this.threatOfNewEntrantsRating.forEach(l=>{n+=parseInt(l.rating)}),this.modulesData[0].threatOfNewEntrantsRating=n/this.threatOfNewEntrantsRating.length;let a=0;this.bargainingPowerOfSuppliersRating.forEach(l=>{a+=parseInt(l.rating)}),this.modulesData[0].bargainingPowerOfSuppliersRating=a/this.bargainingPowerOfSuppliersRating.length;let r=0;this.bargainingPowerOfBuyersRating.forEach(l=>{r+=parseInt(l.rating)}),this.modulesData[0].bargainingPowerOfBuyersRating=r/this.bargainingPowerOfBuyersRating.length;let s=0;this.threatOfSubstitutesRating.forEach(l=>{s+=parseInt(l.rating)}),this.modulesData[0].threatOfSubstitutesRating=s/this.threatOfSubstitutesRating.length;let c=0;this.segmentRivalryRating.forEach(l=>{c+=parseInt(l.rating)}),this.modulesData[0].segmentRivalryRating=c/this.segmentRivalryRating.length,this.threats=this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<=10?this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<8?"medium":"high":"low",this.suppliers=this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<=10?this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<8?"medium":"high":"low",this.segments=this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<=10?this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<8?"medium":"high":"low",this.buyers=this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<=10?this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<8?"medium":"high":"low",this.substitutes=this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<=10?this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<8?"medium":"high":"low"}this.modulesData[0].name=this.reportName,this.portersModules=this.modulesData,this.htmlElement=this.element.nativeElement,this.chartService.setup(this.htmlElement),this.chartService.populate(this.portersModules)}}openDroctDialog(){this.dialog.open(vs,{width:"99%",data:this.modulesData,disableClose:!1}).afterClosed().subscribe(n=>{})}openPortersDiagramDialog(){this.dialog.open(Re,{width:"99%",data:"",disableClose:!1}).afterClosed().subscribe(n=>{})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(se.f),t.Y36(ce),t.Y36(S.F0),t.Y36(R.e),t.Y36(D.uw),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n),t.Y36(J.g),t.Y36(S.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-porters-forces-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Is,5),t.Gf(Ls,5),t.Gf(Us,5),t.Gf(Ys,5),t.Gf(qs,5),t.Gf(Hs,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.element=a.first),t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.porters=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first),t.iGM(a=t.CRH())&&(n.callAPIDialog=a.first)}},decls:86,vars:27,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row"],[1,"col-9","m8"],[1,"down-header"],[1,"top-div"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"outer-year-conatiner","float-l-width",2,"height","370px","width","468px"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"height","350px"],[1,"container-fluid"],["container",""],[1,"mat-caption"],[1,"sec-div"],[1,"outer-year-conatiner","float-l-width",2,"height","370px"],["porters",""],[1,"porters","porters-50"],[1,"flexer","wrapper"],[1,"block",3,"ngClass"],[1,"h6"],[1,"triangle-down",3,"ngClass"],[1,"porters","middle"],[1,"flexer"],[1,"block-v",3,"ngClass"],[1,"triangle-left",3,"ngClass"],[1,"block-o",3,"ngClass"],[1,"block-in"],[1,"triangle-right",3,"ngClass"],[1,"triangle-up",3,"ngClass"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"accordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3"],[3,"suggestion"],[1,"mat-head"],[3,"dataType","chartId"],[1,"content-p",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div")(8,"div",6)(9,"div",7)(10,"a",8),t.NdJ("click",function(){return n.analyze()}),t._uU(11,"Analyze"),t.qZA()(),t.TgZ(12,"div",9)(13,"i",10),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(14,"i",11),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(15,"div",12,13)(17,"div",14)(18,"p",15)(19,"span",16),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()(),t.TgZ(22,"div",17),t._UZ(23,"div",18,19),t.TgZ(25,"p",20)(26,"span",16),t._uU(27,"Source\xa0:\xa0"),t.qZA(),t._uU(28,"Wantstats "),t.qZA()()()(),t.TgZ(29,"div",21)(30,"div",6)(31,"div",7)(32,"a",8),t.NdJ("click",function(){return n.analyze()}),t._uU(33,"Analyze"),t.qZA()(),t.TgZ(34,"div",9)(35,"i",10),t.NdJ("click",function(){return n.generatePortersImage()}),t.qZA(),t.TgZ(36,"i",11),t.NdJ("click",function(){return n.openPortersDiagramDialog()}),t.qZA()()(),t.TgZ(37,"div",22,23)(39,"div",14)(40,"p",15)(41,"span",16),t._uU(42,"Title\xa0:\xa0"),t.qZA(),t._uU(43),t.qZA()(),t.TgZ(44,"div",24)(45,"div",25)(46,"div",26)(47,"div",27),t._uU(48),t.qZA()(),t._UZ(49,"div",28),t.qZA()(),t.TgZ(50,"div",29)(51,"div",30)(52,"div",31)(53,"h6",27),t._uU(54),t.qZA()(),t._UZ(55,"div",32),t.qZA(),t.TgZ(56,"div",33)(57,"div",34)(58,"h6",27),t._uU(59),t.qZA()()(),t.TgZ(60,"div",30),t._UZ(61,"div",35),t.TgZ(62,"div",31)(63,"h6",27),t._uU(64),t.qZA()()()(),t.TgZ(65,"div",24)(66,"div",25),t._UZ(67,"div",36),t.TgZ(68,"div",26)(69,"h6",27),t._uU(70),t.qZA()()()(),t.TgZ(71,"div")(72,"p",20)(73,"span",16),t._uU(74,"Source\xa0:\xa0"),t.qZA(),t._uU(75,"Wantstats "),t.qZA()()()()(),t.TgZ(76,"div",37),t._UZ(77,"img",null,38)(79,"a",null,39),t.qZA(),t.TgZ(81,"div",40),t.YNc(82,Fs,4,3,"div",41),t.YNc(83,Js,4,1,"div",42),t.qZA()(),t.TgZ(84,"div",43),t._UZ(85,"app-hardcoded-suggestions",44),t.qZA()()()()),2&e&&(t.xp6(5),t.lnq(" Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"] "),t.xp6(16),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(22),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(3),t.Q6J("ngClass","low"===n.threats?"green":"medium"===n.threats?"grey":"high"===n.threats?"red":""),t.xp6(2),t.hij("Threat of New Entrants (",n.threats,")"),t.xp6(1),t.Q6J("ngClass","low"===n.threats?"t-down-green":"medium"===n.threats?"t-down-grey":"high"===n.threats?"t-down-red":""),t.xp6(3),t.Q6J("ngClass","low"===n.suppliers?"green":"medium"===n.suppliers?"grey":"high"===n.suppliers?"red":""),t.xp6(2),t.hij("Bargaining Power of Suppliers (",n.suppliers,")"),t.xp6(1),t.Q6J("ngClass","low"===n.suppliers?"t-left-green":"medium"===n.suppliers?"t-left-grey":"high"===n.suppliers?"t-left-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.segments?"green":"medium"===n.segments?"grey":"high"===n.segments?"red":""),t.xp6(3),t.hij("Segment Rivalry (",n.segments,")"),t.xp6(2),t.Q6J("ngClass","low"===n.buyers?"t-right-green":"medium"===n.buyers?"t-right-grey":"high"===n.buyers?"t-right-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.buyers?"green":"medium"===n.buyers?"grey":"high"===n.buyers?"red":""),t.xp6(2),t.hij("Bargaining Power of Buyers (",n.buyers,")"),t.xp6(3),t.Q6J("ngClass","low"===n.substitutes?"t-up-green":"medium"===n.substitutes?"t-up-grey":"high"===n.substitutes?"t-up-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.substitutes?"green":"medium"===n.substitutes?"grey":"high"===n.substitutes?"red":""),t.xp6(2),t.hij("Threat of Substitutes (",n.substitutes,")"),t.xp6(12),t.Q6J("ngForOf",n.data),t.xp6(1),t.Q6J("ngIf",n.conclusion),t.xp6(2),t.Q6J("suggestion",t.DdM(26,Bs)))},directives:[b.mk,b.sg,Ns,b.O5,W],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.desc{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.align-center{color:#0000008a;align-items:center}.source{font-size:11px}.mat-head{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.center{text-align:center}foreignObject>div>span{margin:.25rem!important;text-align:justified!important}foreignObject>div>span i{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid .edgeLabel{background-color:#fff;text-align:left;opacity:1!important}.mermaid .label{padding:1rem .25rem!important}foreignObject>div,circle{padding:-10% 0!important}svg{overflow:auto!important;margin-left:auto;margin-right:auto}.vendor{font-size:14px;font-weight:500;color:#333}.mat-expansion-panel-spacing{margin:16px 0!important}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.mat-expansion-panel-header,.mat-expansion-panel-body{padding:0!important}:host,:host .container{width:100%;display:block}svg{margin:0 auto;display:block}.axis text.label{font-size:12px;font-weight:700}.company-tooltip{position:absolute;width:270px;padding:5px;font-size:.8rem;background:#cccccc;border:1px solid;border-radius:5px;pointer-events:none;color:#373a3c}.company-tooltip h3{font-size:.7rem;margin-bottom:.2rem}.company-tooltip .overall{font-style:italic;margin-bottom:.5rem}.company-tooltip .rating{font-size:.7rem}.outer-year-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block}.container-title{display:block;margin-top:16px;margin-bottom:0}.mat-card-content{margin-bottom:0}.conclusion,.conclusion p,b{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.conclusion p,b{font-weight:500}.porters{width:100%;display:flex;justify-content:center}.porters .block{width:48%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-v{width:60%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-o{width:50%;height:12vh;border-radius:50%;background:transparent;margin:10px;display:flex;align-items:center;justify-content:center}.middle{align-items:center;justify-content:center}.triangle-left{height:0;width:0;border-left:1vw solid transparent;border-right:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-right{height:0;width:0;border-right:1vw solid transparent;border-left:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-down{height:0;width:0;border-top:1vw solid transparent;border-bottom:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.triangle-up{height:0;width:0;border-bottom:1vw solid transparent;border-top:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.flexer{display:flex;align-items:center;justify-content:center}.wrapper{flex-wrap:wrap;justify-content:center}.porters-50{width:40%;margin:auto}.block-in{width:80px;height:80px;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.h6{margin:10px;font-size:9px;font-weight:400;color:#fff;text-align:center;display:flex;align-items:center}.ul{padding:0 5px 0 10px;list-style:none;font-size:14px;color:#fff;font-weight:100}.red{background:red!important}.green{background:green!important}.grey{background:gray!important}.t-left-green{border-left:1vw solid green!important}.t-left-grey{border-left:1vw solid gray!important}.t-left-red{border-left:1vw solid red!important}.t-right-green{border-right:1vw solid green!important}.t-right-grey{border-right:1vw solid gray!important}.t-right-red{border-right:1vw solid red!important}.t-down-green{border-top:1vw solid green!important}.t-down-grey{border-top:1vw solid gray!important}.t-down-red{border-top:1vw solid red!important}.t-up-green{border-bottom:1vw solid green!important}.t-up-grey{border-bottom:1vw solid gray!important}.t-up-red{border-bottom:1vw solid red!important}.top-div{display:flex}.sec-div{margin-left:10px}@media screen and (min-width: 600px) and (max-width: 1000px){.top-div{display:flex;flex-direction:column}.sec-div{margin-left:0;height:490px;border:1px solid rgba(0,0,0,.3)}.porters .block{width:100%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.outer-year-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block;overflow-y:hidden;overflow-x:auto}}\n"],encapsulation:2}),i})();const zs=["screenPie"],Qs=["screenBar"],js=["screenImg"],Vs=["canvas"],$s=["downloadLink"];let Ws=(()=>{class i{constructor(e,n,a,r,s,c,l){this.authService=e,this.dialog=n,this.routes=a,this.reportService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.localStorageService.get(k.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(a=>{this.getReportDetailsSuccess(a),window.scroll(0,0)},a=>{console.log("error",a)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"scope"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Scope of the study, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=M.uniq(this.emptyList)}),this.emptyList=M.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let a=!1;this.emptyList=this.emptyList.filter(r=>!(!a&&r==n&&(this.driverList.push(r),a=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(R.e),t.Y36(D.uw),t.Y36(S.F0),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mi-market-study-of-scope"]],viewQuery:function(e,n){if(1&e&&(t.Gf(zs,5),t.Gf(Qs,5),t.Gf(js,5),t.Gf(Vs,5),t.Gf($s,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[St],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const Ks=["screenPie"],Xs=["screenBar"],tc=["screenImg"],ec=["canvas"],nc=["downloadLink"];function ic(i,o){if(1&i&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function ac(i,o){if(1&i&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function oc(i,o){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function rc(i,o){1&i&&(t.ynx(0,26),t.YNc(1,ac,2,1,"th",27),t.YNc(2,oc,2,1,"td",28),t.BQk()),2&i&&t.s9C("matColumnDef",o.$implicit)}function sc(i,o){1&i&&t._UZ(0,"tr",31)}function cc(i,o){1&i&&t._UZ(0,"tr",32)}function lc(i,o){if(1&i&&(t.TgZ(0,"div",18)(1,"p",19)(2,"span",20),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",21),t.YNc(6,rc,3,1,"ng-container",22),t.YNc(7,sc,1,0,"tr",23),t.YNc(8,cc,1,0,"tr",24),t.qZA(),t.TgZ(9,"p",25)(10,"span",20),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function dc(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function pc(i,o){if(1&i&&t._UZ(0,"img",46),2&i){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function hc(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t._UZ(9,"i",39),t.YNc(10,dc,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",41,42)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",43),t.YNc(18,pc,1,1,"img",44),t.qZA(),t.TgZ(19,"p",25)(20,"span",20),t._uU(21,"Source\xa0:\xa0"),t.qZA(),t._uU(22),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function gc(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function uc(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t.TgZ(9,"i",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().downloadExcel(a)}),t.qZA(),t.YNc(10,gc,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",41,48)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",49),t.TgZ(18,"p",25)(19,"span",20),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function mc(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().openDialog(a)}),t.qZA()}}function _c(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t._UZ(9,"i",39),t.YNc(10,mc,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",50,51)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",52)(18,"p",53),t._uU(19),t.qZA(),t._UZ(20,"canvas",54),t.qZA(),t.TgZ(21,"p",19),t._uU(22),t.qZA(),t.TgZ(23,"p",25)(24,"span",20),t._uU(25,"Source\xa0:\xa0"),t.qZA(),t._uU(26),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function fc(i,o){if(1&i&&(t.TgZ(0,"div",12),t.ynx(1,13),t.YNc(2,ic,2,1,"div",14),t.YNc(3,lc,13,6,"div",15),t.YNc(4,hc,23,4,"div",15),t.YNc(5,uc,22,10,"div",15),t.YNc(6,_c,27,11,"div",15),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const vc=function(){return{orderType:"driver"}};let yt=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.authService=a,this.reportService=r,this.reportSectionService=s,this.localStorageService=c,this.excelDownloadService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){if(this.permissions=this.authService.getUserPermissions(),window.scroll(0,0),this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;let e=this.overlaps.filter(a=>"Drivers"==a.section_name);if(e.length){let a={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){a.section=e[0].section_name;for(let r=0;r<e[0].data.length&&r<2;r++)a.data.push(e[0].data[r])}this.interConnectData=a}let n=this.overlaps.filter(a=>"Report"==a.section_name);if(n.length){let a={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){a.section=n[0].section_name;for(let r=0;r<n[0].data.length&&r<2;r++)a.data.push(n[0].data[r])}this.reportConnectData=a}}}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(A.n),t.Y36(X.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-competitive-secondary-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ks,5),t.Gf(Xs,5),t.Gf(tc,5),t.Gf(ec,5),t.Gf(nc,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},inputs:{secondaryOutputModel:"secondaryOutputModel"},decls:17,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p container-fluid",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"content-p","container-fluid"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,fc,7,6,"div",6),t.qZA()(),t._UZ(9,"div"),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(12,"div",9),t._UZ(13,"img",null,10)(15,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("",null==n.secondaryOutputModel?null:n.secondaryOutputModel.heading,", Competitive Landscape, ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.reportName," Market [",null==n.secondaryOutputModel?null:n.secondaryOutputModel.startYear," - ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.endYear,"]"),t.xp6(2),t.Q6J("ngForOf",null==n.secondaryOutputModel?null:n.secondaryOutputModel.mainData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,vc)))},directives:[b.sg,b.RF,b.n9,ct,at,it,ot,nt,lt,dt,ht,pt,gt,b.O5,j.jh,W],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:450px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const Cc=["screenPie"],wc=["screenBar"],yc=["screenImg"],xc=["canvas"],bc=["downloadLink"];let Mc=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.authService=a,this.reportService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"overview"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Competitive Overivew"})}),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-competitive-overview"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Cc,5),t.Gf(wc,5),t.Gf(yc,5),t.Gf(xc,5),t.Gf(bc,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[yt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const Oc=["screenPie"],kc=["screenBar"],Sc=["screenImg"],Tc=["canvas"],Dc=["downloadLink"];let Pc=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.authService=a,this.reportService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"marketAnalysis"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market Share/Strategy/Ranking Analysis"})}),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-competitive-market-analysis-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Oc,5),t.Gf(kc,5),t.Gf(Sc,5),t.Gf(Tc,5),t.Gf(Dc,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[yt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const Rc=["screenPie"],Ac=["screenBar"],Zc=["screenImg"],Ec=["canvas"],Nc=["downloadLink"];let Ic=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.authService=a,this.reportService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.show()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"devAndGrowthStrategies"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Key Developments And Growth Strategies"})}),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-competitive-key-development-strategy-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Rc,5),t.Gf(Ac,5),t.Gf(Zc,5),t.Gf(Ec,5),t.Gf(Nc,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[yt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const Lc=["screenPie"],Uc=["screenBar"],Yc=["screenImg"],qc=["canvas"],Hc=["downloadLink"];let Fc=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.authService=a,this.reportService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"newDevelopment"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"New Product/Service Development"})}),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-competitive-new-development-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Lc,5),t.Gf(Uc,5),t.Gf(Yc,5),t.Gf(qc,5),t.Gf(Hc,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[yt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const Jc=["screenPie"],Bc=["screenBar"],Gc=["screenImg"],zc=["canvas"],Qc=["downloadLink"];let jc=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.authService=a,this.reportService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"mergerAndAquisition"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Merger & Acquisition"})}),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-competitive-merger-and-acquisition-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Jc,5),t.Gf(Bc,5),t.Gf(Gc,5),t.Gf(zc,5),t.Gf(Qc,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[yt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const Vc=["screenPie"],$c=["screenBar"],Wc=["screenImg"],Kc=["canvas"],Xc=["downloadLink"];let tl=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialog=e,this.routes=n,this.authService=a,this.reportService=r,this.reportSectionService=s,this.spinner=c,this.localStorageService=l,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData(),window.scroll(0,0)}getAPIData(){const e=this.localStorageService.get(k.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.show()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"benchMarking"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Competitive benchmarking"})}),this.spinner.hide()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(S.F0),t.Y36(R.e),t.Y36(I.r),t.Y36(L.A),t.Y36(U.t2),t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-competitive-benchmarking-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Vc,5),t.Gf($c,5),t.Gf(Wc,5),t.Gf(Kc,5),t.Gf(Xc,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[yt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),i})();const el=["screenPie"],nl=["screenBar"],il=["screenImg"],al=["canvas"],ol=["downloadLink"];function rl(i,o){if(1&i&&(t.TgZ(0,"div",8),t._UZ(1,"div",9),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function sl(i,o){if(1&i&&(t.TgZ(0,"th",20),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function cl(i,o){if(1&i&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&i){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function ll(i,o){1&i&&(t.ynx(0,17),t.YNc(1,sl,2,1,"th",18),t.YNc(2,cl,2,1,"td",19),t.BQk()),2&i&&t.s9C("matColumnDef",o.$implicit)}function dl(i,o){1&i&&t._UZ(0,"tr",22)}function pl(i,o){1&i&&t._UZ(0,"tr",23)}function hl(i,o){if(1&i&&(t.TgZ(0,"div")(1,"p",10)(2,"span",11),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",12),t.YNc(6,ll,3,1,"ng-container",13),t.YNc(7,dl,1,0,"tr",14),t.YNc(8,pl,1,0,"tr",15),t.qZA(),t.TgZ(9,"p",16)(10,"span",11),t._uU(11,"Source :"),t.qZA(),t._uU(12),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function gl(i,o){if(1&i&&t._UZ(0,"img",36),2&i){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function ul(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().openDialog(a)}),t.qZA()()()(),t.TgZ(11,"div",32,33)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",34),t.YNc(18,gl,1,1,"img",35),t.qZA(),t.TgZ(19,"p",16)(20,"span",11),t._uU(21,"Source:"),t.qZA(),t._uU(22),t.qZA()()()}if(2&i){const e=t.oxw().$implicit;t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function ml(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().openDialog(a)}),t.qZA()()()(),t.TgZ(11,"div",32,37)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",38),t.TgZ(18,"p",16)(19,"span",11),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function _l(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().generateImage(a.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().openDialog(a)}),t.qZA()()()(),t.TgZ(11,"div",39,40)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",41)(18,"p",42),t._uU(19),t.qZA(),t._UZ(20,"canvas",43),t.qZA(),t.TgZ(21,"p",10),t._uU(22),t.qZA(),t.TgZ(23,"p",16)(24,"span",11),t._uU(25,"Source\xa0:\xa0"),t.qZA(),t._uU(26),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function fl(i,o){if(1&i&&(t.TgZ(0,"div",4),t.ynx(1,5),t.YNc(2,rl,2,1,"div",6),t.YNc(3,hl,13,6,"div",7),t.YNc(4,ul,23,3,"div",7),t.YNc(5,ml,22,9,"div",7),t.YNc(6,_l,27,10,"div",7),t.BQk(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}let vl=(()=>{class i{constructor(e,n){this.dialog=e,this.authService=n,this.outputData=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=w.barChartType,this.barChartOptions=w.barChartOptions,this.barChartPlugins=w.barChartPlugins,this.barChartLegend=w.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions()}openDialog(e){this.dialog.open(H.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(a=>{})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?x(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?x(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&x(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.uw),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-company-shared"]],viewQuery:function(e,n){if(1&e&&(t.Gf(el,5),t.Gf(nl,5),t.Gf(il,5),t.Gf(al,5),t.Gf(ol,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.screenBar=a.first),t.iGM(a=t.CRH())&&(n.screenImg=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},inputs:{outputData:"outputData"},decls:6,vars:1,consts:[["class","seprator-div","id","min-div",4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["id","min-div",1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"content-p"],[3,"innerHTML"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["style","margin: 5px 8px !important;","id","min-div","mat-cell","",4,"matCellDef"],["mat-header-cell",""],["id","min-div","mat-cell","",2,"margin","5px 8px !important"],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"responsiveImg",3,"src"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.YNc(0,fl,7,6,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",null,2)(4,"a",null,3),t.qZA()),2&e&&t.Q6J("ngForOf",n.outputData)},directives:[b.sg,b.RF,b.n9,ct,at,it,ot,nt,lt,dt,ht,pt,gt,b.O5,j.jh],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important;font-size:15px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.seprator-div[_ngcontent-%COMP%]   .TableHeader1[_ngcontent-%COMP%]{padding:5px!important}"]}),i})();const Cl=["screen"],wl=["canvas"],yl=["downloadLink"];function xl(i,o){if(1&i&&(t.TgZ(0,"div",15),t._UZ(1,"canvas",16),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("datasets",e.chartData)("labels",e.chartLabels)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend)("chartType",e.chartType)}}let bl=(()=>{class i{constructor(e,n,a,r,s,c,l){this.dialogRef=e,this.data=n,this.localStorageService=a,this.authService=r,this.excelDownloadService=s,this.sharedAnalyticsService=c,this.routes=l,this.chartOptions=w.barChartOptions,this.chartType=w.barChartType,this.chartLegend=w.barChartLegend,this.chartPlugins=w.barChartPlugins,this.dataStore=[],this.chartLabels=[],this.chartData=[],this.render=!1,this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.currentCompany=this.data.cpName,this.renderBarChart(this.data.data),window.scroll(0,0)}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Financial overview",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}renderBarChart(e){this.dataStore=JSON.parse(e.content);const n=this.dataStore.data.dataStore,a=M.pull(M.keys(n[0]),"rowHeader","content"),r=[];a.forEach(p=>{const u={rowHeader:p};n.forEach(g=>{u[g.rowHeader]=g[p]}),r.push(u)}),this.labelX=e.name;const s=this.labelX+"/years";this.colMetaData=[];const c=M.keys(r[0]);this.rowNames=r.map(p=>p.rowHeader),this.colMetaData.push({header:s,name:"rowHeader",type:"text"});for(let p of c)this.colMetaData.push({name:p,header:p,type:"number"}),this.labelY=e.currency+"-"+e.metric;const _=this.colMetaData.map(p=>p.name).filter(p=>"rowHeader"!=p).map(p=>{const u=r.map(g=>g[p]);return{label:p,data:u}});this.chartLabels=this.rowNames,this.chartData=_,this.chartOptions=(0,w.getChartOptions)(this.labelX,this.labelY),this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.render=!0}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="bar chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}downloadExcel(){const e=["year"];this.data.chartData.forEach(a=>{e.push(a.label)}),this.excelDownloadService.generateExcelSheet(e,this.data.excelData,this.data.title,"BAR")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(R.e),t.Y36(X.O),t.Y36(J.g),t.Y36(S.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-company-bar-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Cl,5),t.Gf(wl,5),t.Gf(yl,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:25,vars:5,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[1,"main-swot","float-l-width"],["screen",""],[1,"chart-headers",2,"margin","10px"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],[1,"chart-headers",2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[2,"width","100%","margin-top","10px"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.downloadExcel()}),t.qZA(),t.TgZ(7,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()(),t.TgZ(8,"div",7,8)(10,"mat-card-subtitle",9)(11,"span"),t._uU(12,"Title: "),t.qZA(),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.YNc(15,xl,2,6,"div",10),t.TgZ(16,"mat-card-subtitle",11)(17,"span"),t._uU(18,"Source:"),t.qZA(),t._uU(19," Wantstats "),t.qZA()(),t.TgZ(20,"div",12),t._UZ(21,"img",null,13)(23,"a",null,14),t.qZA()),2&e&&(t.xp6(13),t.AsE("",t.lcZ(14,3,n.currentCompany),", Financial Overview, ",null==n.data?null:n.data.type," "),t.xp6(2),t.Q6J("ngIf",n.render))},directives:[B.$j,b.O5,j.jh],pipes:[b.rS],styles:[".mat-dialog-container{padding:0}"]}),i})();const Ml=["screen"],Ol=["canvas"],kl=["downloadLink"];function Sl(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"/ Company revenue"),t.qZA())}function Tl(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"div",19)(2,"div",20)(3,"button",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().onElementSelect(r)}),t._uU(4),t.YNc(5,Sl,2,0,"span",22),t.qZA()()()()}if(2&i){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngClass",e==n.selectData?"mat-raised-button clicked-btn":"mat-raised-button"),t.xp6(1),t.Oqu(e),t.xp6(1),t.Q6J("ngIf","By SBU"==e)}}function Dl(i,o){1&i&&(t.TgZ(0,"label"),t._uU(1," / Company revenue"),t.qZA())}function Pl(i,o){if(1&i&&(t.TgZ(0,"mat-card-subtitle",23)(1,"span"),t._uU(2,"Title\xa0:\xa0"),t.qZA(),t._uU(3),t.YNc(4,Dl,2,0,"label",22),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.AsE("",e.currentCompany.company_name,", Financial Overview , ",e.selectData,""),t.xp6(1),t.Q6J("ngIf","By SBU"==e.selectData)}}function Rl(i,o){if(1&i&&(t.TgZ(0,"div",24),t._UZ(1,"canvas",25),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("datasets",e.chartData)("labels",e.chartLabels)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend)("chartType",e.chartType)}}function Al(i,o){if(1&i&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.AsE("",n.currentCompany.company_name,", ",e.rowHeader,"")}}function Zl(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Al,2,2,"div",26),t._UZ(2,"p",27),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.content),t.xp6(1),t.Q6J("innerHTML",e.content,t.oJD)}}function El(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Zl,3,2,"div",22),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.textData.length)}}let Nl=(()=>{class i{constructor(e,n,a,r,s,c,l,_,p){this.localStorageService=e,this.companyProfileService=n,this.dialog=a,this.authService=r,this.pptService=s,this.excelDownloadService=c,this.sharedAnalyticsService=l,this.routes=_,this.paramRoute=p,this.bySBU=[],this.contentList=[],this.chartOptions=w.barChartOptions,this.chartType=w.barChartType,this.chartLegend=w.barChartLegend,this.chartPlugins=w.barChartPlugins,this.chartLabels=[],this.chartData=[],this.render=!1,this.byVertical=[],this.byRegion=[],this.rowNames=[],this.dataStore=[],this.textData=[],this.dialogData=[],this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.getReportDetails()})}downloadPpt(e){this.pptService.downloadPPT({type:"BAR",data:{chartData:e,chartLabels:this.chartLabels,metaDataValue:{title:this.currentCompany.company_name+", Financial Overview, "+this.selectData}}})}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Financial overview",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.companyProfileService.getCompanyAllDetails(this.cmpId,"financial_overview,company_name").subscribe(e=>{e&&(this.generateData(e),this.currentCompany=e,window.scroll(0,0))})}generateData(e){e&&e.financial_overview.length&&(this.contentList=[],e.financial_overview.forEach(n=>{n.content&&JSON.parse(n.content).data&&JSON.parse(n.content).data.dataStore&&JSON.parse(n.content).data.dataStore.length&&("SBU"===n.key?(this.contentList.push("By SBU"),this.bySBU=n):"VERTICAL"===n.key?(this.contentList.push("By vertical"),this.byVertical=n):"REGIONAL"===n.key&&(this.contentList.push("By region"),this.byRegion=n))}),this.selectData=this.contentList[0],this.onElementSelect(this.selectData))}renderBarChart(e){this.dataStore=JSON.parse(e.content);const n=this.dataStore.data.dataStore,a=M.pull(M.keys(n[0]),"rowHeader","content"),r=[];a.forEach(p=>{const u={rowHeader:p};n.forEach(g=>{u[g.rowHeader]=g[p]}),r.push(u)}),this.labelX=e.name;const s=this.labelX+"/years";this.colMetaData=[];const c=M.keys(r[0]);this.rowNames=r.map(p=>p.rowHeader),this.colMetaData.push({header:s,name:"rowHeader",type:"text"});for(let p of c)this.colMetaData.push({name:p,header:p,type:"number"}),this.labelY=e.currency+"-"+e.metric;const _=this.colMetaData.map(p=>p.name).filter(p=>"rowHeader"!=p).map(p=>{const u=r.map(g=>g[p]);return{label:p,data:u}});this.chartLabels=this.rowNames,this.chartData=_,this.chartOptions=(0,w.getChartOptions)(this.labelX,this.labelY),this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.render=!0,this.execelData=r}downloadExcel(){const e=["year"];this.chartData.forEach(a=>{e.push(a.label)}),this.excelDownloadService.generateExcelSheet(e,this.execelData,`${this.currentCompany.company_name}_${this.selectData}`,null)}onElementSelect(e){this.selectData=e,"By SBU"===this.selectData?(this.renderBarChart(this.bySBU),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.bySBU):"By vertical"===this.selectData?(this.renderBarChart(this.byVertical),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.byVertical):"By region"===this.selectData&&(this.renderBarChart(this.byRegion),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.byRegion)}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="bar chart.png",this.downloadLink.nativeElement.click()})}openDialog(){this.dialog.open(bl,{width:"99%",data:{data:this.dialogData,chartData:this.chartData,excelData:this.execelData,cpName:this.currentCompany.company_name,type:this.selectData,title:`${this.currentCompany.company_name}_${this.selectData}`},disableClose:!1}).afterClosed().subscribe(a=>{})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.n),t.Y36(qt.t),t.Y36(D.uw),t.Y36(R.e),t.Y36(Bt._),t.Y36(X.O),t.Y36(J.g),t.Y36(S.F0),t.Y36(S.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-financial-overview"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ml,5),t.Gf(Ol,5),t.Gf(kl,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:26,vars:4,consts:[[1,"listing"],[4,"ngFor","ngForOf"],[1,"header-background","float-l-width"],[1,"float-l"],["role","button",1,"btn-link","text-white",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["title","full screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"main-swot","main-swot-bar","float-l-width"],["screen",""],["style","margin: 10px","class","chart-headers",4,"ngIf"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],[1,"chart-headers",2,"width","100%","padding","10px"],[2,"margin-top","20px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"row"],[1,"col-6","desc"],["mat-raised-button","","id","i",3,"ngClass","click"],[4,"ngIf"],[1,"chart-headers",2,"margin","10px"],[2,"width","100%","margin-top","10px"],["height","88vh","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["class","down-header",4,"ngIf"],[2,"font-size","14px",3,"innerHTML"],[1,"down-header"]],template:function(e,n){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,Tl,6,3,"li",1),t.qZA(),t.TgZ(2,"div",2)(3,"div",3)(4,"a",4),t.NdJ("click",function(){return n.analyze()}),t._uU(5,"Analyze"),t.qZA()(),t.TgZ(6,"div",5)(7,"i",6),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(8,"i",7),t.NdJ("click",function(){return n.downloadPpt(n.chartData)}),t.qZA(),t.TgZ(9,"i",8),t.NdJ("click",function(){return n.downloadExcel()}),t.qZA(),t.TgZ(10,"i",9),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(11,"div",10,11),t.YNc(13,Pl,5,3,"mat-card-subtitle",12),t.YNc(14,Rl,2,6,"div",13),t.TgZ(15,"mat-card-subtitle",14)(16,"span"),t._uU(17,"Source\xa0:\xa0"),t.qZA(),t._uU(18," Wantstats "),t.qZA()(),t.TgZ(19,"div",15),t.YNc(20,El,2,1,"div",1),t.qZA(),t.TgZ(21,"div",16),t._UZ(22,"img",null,17)(24,"a",null,18),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.contentList),t.xp6(12),t.Q6J("ngIf",n.currentCompany),t.xp6(1),t.Q6J("ngIf",n.render),t.xp6(6),t.Q6J("ngForOf",n.textData))},directives:[b.sg,b.mk,b.O5,B.$j,j.jh],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}']}),i})();const Il=["screen"],Ll=["canvas"],Ul=["downloadLink"];let Yl=(()=>{class i{constructor(e,n,a,r,s,c){this.dialogRef=e,this.data=n,this.localStorageService=a,this.sharedAnalyticsService=r,this.routes=s,this.authService=c,this.reportId=""}getReportDetails(){this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.currentCompany=this.proData.cpName,this.reportId=this.currentReport._id,window.scroll(0,0)}ngOnInit(){$,this.proData=this.data,this.getReportDetails(),this.orgCharts(),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Product/Services offering",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}orgCharts(){let e=this;var n;(n=$)(function(){n("#chart-container1").orgchart({data:e.proData.datasource,chartClass:"edit-state",zoom:!0,pan:!0,parentNodeSymbol:"fa-th-large"})})}doClose(){this.dialogRef.close()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="product offering.png",this.downloadLink.nativeElement.click()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(J.g),t.Y36(S.F0),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-product-offering-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Il,5),t.Gf(Ll,5),t.Gf(Ul,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:24,vars:1,consts:[[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[1,"main-swot"],["screen",""],[2,"margin","10px"],[1,"org-container",2,"width","100%","margin-top","10px"],["id","chart-container1"],[2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1)(6,"div",3),t.TgZ(7,"div",4)(8,"div",5)(9,"i",6),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(10,"i",7),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(11,"div",8,9)(13,"mat-card-subtitle",10),t._uU(14),t.qZA(),t.TgZ(15,"div",11),t._UZ(16,"div",12),t.qZA(),t.TgZ(17,"mat-card-subtitle",13),t._uU(18,"Source: Wantstats"),t.qZA()(),t.TgZ(19,"div",14),t._UZ(20,"img",null,15)(22,"a",null,16),t.qZA()),2&e&&(t.xp6(14),t.hij("",n.proData.company_name,", Product/Service offering "))},directives:[B.$j],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}.org-container[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex}#chart-container[_ngcontent-%COMP%]{overflow:initial!important;width:100%!important;height:auto!important}.orgchart[_ngcontent-%COMP%]{transform:matrix(.566231,0,0,.566231,-552,-106)!important;cursor:default!important}  .orgchart .node .leftEdge,   .orgchart .node .rightEdge,   .orgchart .node .topEdge{display:none}  .orgchart{transform:matrix(.954721,0,0,.954721,-30,-40);cursor:default!important;background-image:none;display:flex}  .orgchart .node .title{background:#305497;height:25px!important;display:flex!important;align-items:center!important;padding:0 10px!important;width:auto!important}  .orgchart .node .title i{padding-right:10px}  .mat-dialog-container{padding:0}']}),i})();const ql=["screen"],Hl=["canvas"],Fl=["downloadLink"];function Jl(i,o){if(1&i&&(t.TgZ(0,"mat-card-subtitle",17)(1,"span"),t._uU(2,"Title\xa0:\xa0"),t.qZA(),t._uU(3),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",e.currentCompany.company_name,", Product/Service offering ")}}let Bl=(()=>{class i{constructor(e,n,a,r,s,c,l){this.localStorageService=e,this.companyProfileService=n,this.dialog=a,this.authService=r,this.sharedAnalyticsService=s,this.routes=c,this.paramRoute=l,this.treeData=[],this.zoom=0,this.reportId="",this.orgData=[],this.flag=0}ngOnInit(){$,$("#chart-container").empty(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId||e.companyId,this.getReportDetails()}),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Product/Services offering",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.companyProfileService.getCompanyAllDetails(this.cmpId,"product_offering,company_name").subscribe(e=>{e&&(this.data=e,this.currentCompany=e,this.orgCharts(),window.scroll(0,0))})}orgCharts(){this.flag=0,this.orgData=[],$("#chart-container").empty();let e=this;var n,a;n=$,a=JSONLoop,n(function(){e.datasource={name:e.currentCompany.company_name,id:"1",parentId:null,relationship:null,level:0},e.data.product_offering.forEach(function(c,l){c.parentId?new a(e.datasource,"id","children").findNodeById(e.datasource,c.parentId,function(p,u){p?(e.flag=1,console.error(p)):(delete c.parentId,u.children?u.children.push(c):u.children=[c])}):(delete c.parentId,Object.assign(e.datasource,c))}),n("#chart-container").orgchart({data:e.datasource,chartClass:"edit-state",zoom:!0,pan:!0,parentNodeSymbol:"fa-th-large",createNode:function(c,l){e.orgData.push(l)}}),e.flag&&e.onSubmitInfo()})}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="product offering.png",this.downloadLink.nativeElement.click()})}openDialog(){this.dialog.open(Yl,{width:"99%",data:{datasource:this.datasource,company_name:this.currentCompany.company_name},disableClose:!1}).afterClosed().subscribe(a=>{})}zoomin(){this.zoom=this.zoom+1,this.zoom<=9&&(document.getElementById("chart-container").style.transform=`scale(1.${this.zoom})`)}zoomout(){this.zoom>=0&&(this.zoom=this.zoom-1,document.getElementById("chart-container").style.transform=`scale(1.${this.zoom})`)}onSubmitInfo(){this.orgData.map(e=>{e.children&&delete e.children}),this.companyProfileService.saveCompanyProductOffering(this.currentCompany._id,this.orgData).subscribe(e=>{console.log("Company Produce Offering saved successfully")},e=>{console.error("Error occured while saving Company Produce Offering")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.n),t.Y36(qt.t),t.Y36(D.uw),t.Y36(R.e),t.Y36(J.g),t.Y36(S.F0),t.Y36(S.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-product-offering"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ql,5),t.Gf(Hl,5),t.Gf(Fl,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screenPie=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:26,vars:1,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","full screen",1,"btn-icon","fa","fa-expand",3,"click"],["id","zoom",1,"main-swot","main-swot-bar","float-l-width",2,"overflow","auto","height","55vh !important"],["screen",""],["style","margin: 10px","class","chart-headers",4,"ngIf"],[1,"org-container",2,"width","100%","margin-top","10px"],["id","chart-container"],[1,"chart-headers",2,"width","100%","padding","10px"],["title","zoom in",3,"click"],["title","zoom out",3,"click"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"chart-headers",2,"margin","10px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(7,"div",6,7),t.YNc(9,Jl,4,1,"mat-card-subtitle",8),t.TgZ(10,"div",9),t._UZ(11,"div",10),t.qZA(),t.TgZ(12,"mat-card-subtitle",11)(13,"span"),t._uU(14,"Source\xa0:\xa0"),t.qZA(),t._uU(15," Wantstats "),t.qZA()(),t.TgZ(16,"div")(17,"button",12),t.NdJ("click",function(){return n.zoomin()}),t._uU(18,"+"),t.qZA(),t.TgZ(19,"button",13),t.NdJ("click",function(){return n.zoomout()}),t._uU(20,"-"),t.qZA()(),t.TgZ(21,"div",14),t._UZ(22,"img",null,15)(24,"a",null,16),t.qZA()),2&e&&(t.xp6(9),t.Q6J("ngIf",n.currentCompany))},directives:[b.O5,B.$j],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}.org-container[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex}#chart-container[_ngcontent-%COMP%]{overflow:initial!important;width:100%!important;height:auto!important}.orgchart[_ngcontent-%COMP%]{transform:matrix(.566231,0,0,.566231,-552,-106)!important;cursor:default!important}  .orgchart .node .leftEdge,   .orgchart .node .rightEdge,   .orgchart .node .topEdge{display:none}  .orgchart{transform:matrix(.954721,0,0,.954721,-30,-40);cursor:default!important;background-image:none;display:flex}  .orgchart .node .title{background:#305497;height:25px!important;display:flex!important;align-items:center!important;padding:0 10px!important;width:auto!important}  .orgchart .node .title i{padding-right:10px}']}),i})();const Gl=["screen"],zl=["canvas"],Ql=["downloadLink"];function jl(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Vl(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function $l(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Wl(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}let Kl=(()=>{class i{constructor(e,n,a,r,s,c){this.dialogRef=e,this.data=n,this.localStorageService=a,this.sharedAnalyticsService=r,this.routes=s,this.authService=c,this.swotData=[],this.reportId=""}ngOnInit(){this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.swotData=this.data,this.categorizedData(this.swotData),window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"SWOT",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}categorizedData(e){e.swot.map(n=>{"STRENGTH"===n.key&&(this.strength=n.value),"WEAKNESS"===n.key&&(this.weakness=n.value),"OPPORTUNITIES"===n.key&&(this.opportunity=n.value),"THREAT"===n.key&&(this.threat=n.value)})}doClose(){this.dialogRef.close()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="swot.png",this.downloadLink.nativeElement.click()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.so),t.Y36(D.WI),t.Y36(A.n),t.Y36(J.g),t.Y36(S.F0),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-swot-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Gl,5),t.Gf(zl,5),t.Gf(Ql,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},decls:46,vars:10,consts:[[1,""],[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[1,"main-swot"],["screen",""],[2,"margin","10px"],[1,"swot-container"],[1,"swot","bg1"],[4,"ngFor","ngForOf"],[1,"swot","bg2"],[1,"swot","bg3"],[1,"bg5"],[1,"swot","bg4"],[2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.NdJ("click",function(){return n.analyze()}),t._uU(4,"Analyze"),t.qZA()(),t._UZ(5,"div",2)(6,"div",2)(7,"div",4),t.TgZ(8,"div",5)(9,"div",6)(10,"i",7),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(11,"i",8),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(12,"div",9,10)(14,"mat-card-subtitle",11),t._uU(15),t.ALo(16,"titlecase"),t.qZA(),t.TgZ(17,"div",12)(18,"div",13)(19,"p"),t._uU(20,"Strength"),t.qZA(),t.TgZ(21,"ul"),t.YNc(22,jl,2,1,"li",14),t.qZA()(),t.TgZ(23,"div",15)(24,"p"),t._uU(25,"Weakness"),t.qZA(),t.TgZ(26,"ul"),t.YNc(27,Vl,2,1,"li",14),t.qZA()(),t.TgZ(28,"div",16)(29,"p"),t._uU(30,"Opportunity"),t.qZA(),t.TgZ(31,"ul"),t.YNc(32,$l,2,1,"li",14),t.qZA()(),t._UZ(33,"div",17),t.TgZ(34,"div",18)(35,"p"),t._uU(36,"Threat"),t.qZA(),t.TgZ(37,"ul"),t.YNc(38,Wl,2,1,"li",14),t.qZA()()(),t.TgZ(39,"mat-card-subtitle",19),t._uU(40,"Source: Wantstats"),t.qZA()()(),t.TgZ(41,"div",20),t._UZ(42,"img",null,21)(44,"a",null,22),t.qZA()),2&e&&(t.xp6(15),t.HOy("",n.currentReport.title," Market [",n.currentReport.me.start_year," - ",n.currentReport.me.end_year,"], ",t.lcZ(16,8,n.swotData.company_name),", SWOT Analysis "),t.xp6(7),t.Q6J("ngForOf",n.strength),t.xp6(5),t.Q6J("ngForOf",n.weakness),t.xp6(5),t.Q6J("ngForOf",n.opportunity),t.xp6(6),t.Q6J("ngForOf",n.threat))},directives:[B.$j,b.sg],pipes:[b.rS],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}  .mat-dialog-container{padding:0!important}.swot-container[_ngcontent-%COMP%]{width:90%;height:60vh}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{height:30vh}']}),i})();const Xl=["screen"],td=["canvas"],ed=["downloadLink"];function nd(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function id(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function ad(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function od(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}let rd=(()=>{class i{constructor(e,n,a,r,s,c){this.localStorageService=e,this.dialog=n,this.routes=a,this.sharedAnalyticsService=r,this.paramRoute=s,this.authService=c,this.outputData=[],this.swotData=[],this.reportId=""}ngOnInit(){this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.currentProfile=this.outputData.company_name}),this.outputData&&this.categorizedData(this.outputData),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"SWOT",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}categorizedData(e){e.swot.map(n=>{"STRENGTH"===n.key&&(this.strength=n.value),"WEAKNESS"===n.key&&(this.weakness=n.value),"OPPORTUNITIES"===n.key&&(this.opportunity=n.value),"THREAT"===n.key&&(this.threat=n.value)})}openDialog(){this.dialog.open(Kl,{width:"99%",data:this.outputData,disableClose:!1}).afterClosed().subscribe(n=>{})}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();x(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="swot.png",this.downloadLink.nativeElement.click()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.n),t.Y36(D.uw),t.Y36(S.F0),t.Y36(J.g),t.Y36(S.gz),t.Y36(R.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-swot-analysis"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Xl,5),t.Gf(td,5),t.Gf(ed,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.screen=a.first),t.iGM(a=t.CRH())&&(n.canvas=a.first),t.iGM(a=t.CRH())&&(n.downloadLink=a.first)}},inputs:{outputData:"outputData"},decls:55,vars:16,consts:[["id","scroll",1,"main-container"],[1,"row"],[1,"col-12","m8"],[1,""],[1,"down-header"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"main-swot","float-l"],["screen",""],[1,"chart-headers",2,"margin","10px"],[1,"swot-container"],[1,"swot","bg1"],[4,"ngFor","ngForOf"],[1,"swot","bg2"],[1,"swot","bg3"],[1,"bg5"],[1,"swot","bg4"],[1,"chart-headers",2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"a",7),t.NdJ("click",function(){return n.analyze()}),t._uU(13,"Analyze"),t.qZA()(),t.TgZ(14,"div",8)(15,"i",9),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(16,"i",10),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(17,"div",11,12)(19,"mat-card-subtitle",13)(20,"span"),t._uU(21,"Title\xa0:\xa0"),t.qZA(),t._uU(22),t.ALo(23,"titlecase"),t.qZA(),t.TgZ(24,"div",14)(25,"div",15)(26,"p"),t._uU(27,"Strength"),t.qZA(),t.TgZ(28,"ul"),t.YNc(29,nd,2,1,"li",16),t.qZA()(),t.TgZ(30,"div",17)(31,"p"),t._uU(32,"Weakness"),t.qZA(),t.TgZ(33,"ul"),t.YNc(34,id,2,1,"li",16),t.qZA()(),t.TgZ(35,"div",18)(36,"p"),t._uU(37,"Opportunity"),t.qZA(),t.TgZ(38,"ul"),t.YNc(39,ad,2,1,"li",16),t.qZA()(),t._UZ(40,"div",19),t.TgZ(41,"div",20)(42,"p"),t._uU(43,"Threat"),t.qZA(),t.TgZ(44,"ul"),t.YNc(45,od,2,1,"li",16),t.qZA()()(),t.TgZ(46,"mat-card-subtitle",21)(47,"span"),t._uU(48,"Source\xa0:\xa0"),t.qZA(),t._uU(49," Wantstats "),t.qZA()()()()()()(),t.TgZ(50,"div",22),t._UZ(51,"img",null,23)(53,"a",null,24),t.qZA()),2&e&&(t.xp6(6),t.lnq("",n.currentReport.title," Market [",n.currentReport.me.start_year," - ",n.currentReport.me.end_year,"] "),t.xp6(2),t.hij(" ",t.lcZ(9,12,n.outputData.company_name),", SWOT Analysis "),t.xp6(14),t.HOy(" ",n.currentReport.title," Market [",n.currentReport.me.start_year," - ",n.currentReport.me.end_year,"], ",t.lcZ(23,14,n.outputData.company_name),", SWOT Analysis "),t.xp6(7),t.Q6J("ngForOf",n.strength),t.xp6(5),t.Q6J("ngForOf",n.weakness),t.xp6(5),t.Q6J("ngForOf",n.opportunity),t.xp6(6),t.Q6J("ngForOf",n.threat))},directives:[B.$j,b.sg],pipes:[b.rS],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}']}),i})();function sd(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",16),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().onElementSelect(r)}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",e==n.selectEle?"mat-raised-button clicked-btn":"mat-raised-button"),t.xp6(1),t.Oqu(e)}}function cd(i,o){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,null==e.currentCompany?null:e.currentCompany.company_name),", ",e.selectEle," ")}}function ld(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",17),t._uU(2),t.qZA(),t.YNc(3,cd,3,4,"div",18),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.lnq("",e.currentReport.title," Market [",e.currentReport.me.start_year," - ",e.currentReport.me.end_year,"] "),t.xp6(1),t.Q6J("ngIf",e.currentCompany)}}function dd(i,o){if(1&i&&(t.TgZ(0,"div",19),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.companyOverview)}}function pd(i,o){1&i&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-financial-overview"),t.qZA())}function hd(i,o){1&i&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-product-offering"),t.qZA())}function gd(i,o){if(1&i&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.keyDevelopment)}}function ud(i,o){if(1&i&&(t.TgZ(0,"div",22),t._UZ(1,"app-output-swot-analysis",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.swotData)}}function md(i,o){if(1&i&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.strategy)}}const _d=function(i){return{orderType:"topPlayers",interConnect:i}};function fd(i,o){if(1&i&&t._UZ(0,"app-hardcoded-suggestions",23),2&i){const e=t.oxw();t.Q6J("suggestion",t.VKq(1,_d,e.interConnectData))}}const vd=[{path:"market-estimation",component:Oo},{path:"executive-summary",component:fa},{path:"definition",component:Ro},{path:"list-of-assumptions",component:Uo},{path:"market-structure",component:Go},{path:"key-takeaways",component:Ao},{path:"market-insights",component:Yo},{path:"me-segments",component:jr},{path:"me-region",component:Or},{path:"driveroutput",component:Ha},{path:"droctcontainer",component:uo},{path:"supply-chain-output",component:hs},{path:"porters-forces-output",component:Gs},{path:"porter-daigram",component:Re},{path:"scope-of-study",component:Ws},{path:"competitive-overview",component:Mc},{path:"market-share-analysis",component:Pc},{path:"key-development-growth-strategies",component:Ic},{path:"new-product-service-development",component:Fc},{path:"merger-and-acquisition",component:jc},{path:"competitive-benchmarking",component:tl},{path:"output-company",component:(()=>{class i{constructor(e,n,a,r,s,c,l,_){this.companyProfileService=e,this.localStorageService=n,this.reportSectionService=a,this.spinner=r,this.routes=s,this.paramRoute=c,this.reportService=l,this.secEdgarService=_,this.companyEleList=[],this.topCompanies=[],this.fillingConnectData=[]}ngOnInit(){if(this.currentReport=this.localStorageService.get(k.cc.CURRENT_REPORT),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;const e=this.overlaps.filter(n=>"Report"==n.section_name);if(e.length){const n={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){n.section=e[0].section_name;for(let a=0;a<e[0].data.length&&a<2;a++)n.data.push(e[0].data[a])}this.reportConnectData=n}}this.spinner.show(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.getCompanyDetails(),this.getReportMenuItems(this.currentReport._id)})}getCompanyDetails(){this.spinner.show(),this.companyProfileService.getCompanyAllDetails(this.cmpId,"financial_overview,company_name,product_offering").subscribe(e=>{this.getReportSpecificCPdetails(),this.generateList(e),this.currentCompany=e,window.scroll(0,0),this.spinner.hide()})}onElementSelect(e){this.selectEle=e,window.scroll(0,0)}generateList(e){if(e){const n=e;n.financial_overview&&n.financial_overview.length&&n.financial_overview.forEach(a=>{a&&a.content&&JSON.parse(a.content)&&JSON.parse(a.content).data&&JSON.parse(a.content).data.dataStore&&JSON.parse(a.content).data.dataStore.length&&(this.companyEleList.push("Financial overview"),this.companyEleList=M.uniq(this.companyEleList))}),n.product_offering&&n.product_offering.length>1&&this.companyEleList.push("Product/Service offering")}else this.routes.navigate(["output-company-profile"]);this.selectEle=this.companyEleList[0],this.spinner.hide()}getReportSpecificCPdetails(){this.companyEleList=[],this.reportService.getRportCpData(this.currentReport._id).subscribe(e=>{e.data.cp&&e.data.cp.length&&e.data.cp.forEach(n=>{if(n.company_id===this.cmpId&&n.company_overview&&n.company_overview.length&&(this.companyOverview=this.reportSectionService.convertToReportDataElement(n.company_overview),this.companyEleList.push("Company overview")),n.company_id===this.cmpId&&n.swot_analysis&&n.swot_analysis.length){const a=M.flatMap(n.swot_analysis,"value");a&&a.length&&(this.swotData={swot:n.swot_analysis,company_name:this.currentCompany.company_name},this.companyEleList.push("SWOT analysis"))}n.company_id===this.cmpId&&n.strategy&&n.strategy.length&&(this.strategy=this.reportSectionService.convertToReportDataElement(n.strategy),this.companyEleList.push("Strategy")),n.company_id===this.cmpId&&n.key_development&&n.key_development.length&&(this.keyDevelopment=this.reportSectionService.convertToReportDataElement(n.key_development),this.companyEleList.push("Key development"))}),this.selectEle||(this.selectEle=this.companyEleList[0])})}getReportMenuItems(e){this.reportService.getReportMenuItems(e).subscribe(n=>{n&&n.data&&n.data.finalMenuData&&n.data.finalMenuData.length&&(this.appItems=n.data.finalMenuData,this.appItems.forEach(a=>{"Top Players"==a.label&&a.segmentItems.forEach(r=>{if(r.id!=this.cmpId){const s={_id:r.id,section:"Top Players",name:r.name};this.topCompanies.length<5&&this.topCompanies.push(s)}})}),this.interConnectData={data:this.topCompanies,section:"topPlayers"},this.checkAllTopPlayers(this.topCompanies))})}checkAllTopPlayers(e){e.forEach(n=>{this.secEdgarService.getSearchResult(void 0,"All Forms",n.name,void 0,void 0,1).subscribe(a=>{if(console.log("data",a),a&&!a.error){const r=JSON.parse(a);r.data&&r.data.length&&this.fillingConnectData.push({_id:n._id,name:n.name,section:n.section,sec_data:r})}})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(qt.t),t.Y36(A.n),t.Y36(L.A),t.Y36(U.t2),t.Y36(S.F0),t.Y36(S.gz),t.Y36(I.r),t.Y36(xe.M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-output-companies"]],decls:21,vars:10,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,"tabular-company"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngIf"],["style","padding: 15px 10px",4,"ngSwitchCase"],["style","padding-top: 15px 10px",4,"ngSwitchCase"],["style","padding: 15px",4,"ngSwitchCase"],[1,"col-3"],[3,"suggestion",4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["mat-raised-button","",1,"company-btn-option",3,"ngClass","click"],[1,"down-header"],["class","down-header",4,"ngIf"],[2,"padding","15px 10px"],[3,"outputData"],[2,"padding-top","15px 10px"],[2,"padding","15px"],[3,"suggestion"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,sd,3,2,"ng-container",5),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,ld,4,4,"div",7),t.YNc(8,dd,2,1,"div",8),t.YNc(9,pd,2,0,"div",9),t.YNc(10,hd,2,0,"div",9),t.YNc(11,gd,2,1,"div",9),t.YNc(12,ud,2,1,"div",10),t.YNc(13,md,2,1,"div",9),t.qZA()(),t.TgZ(14,"div",11),t.YNc(15,fd,1,3,"app-hardcoded-suggestions",12),t.qZA()()()(),t.TgZ(16,"div",13),t._UZ(17,"img",null,14)(19,"a",null,15),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngForOf",n.companyEleList),t.xp6(1),t.Q6J("ngSwitch",n.selectEle),t.xp6(1),t.Q6J("ngIf","SWOT analysis"!=n.selectEle),t.xp6(1),t.Q6J("ngSwitchCase","Company overview"),t.xp6(1),t.Q6J("ngSwitchCase","Financial overview"),t.xp6(1),t.Q6J("ngSwitchCase","Product/Service offering"),t.xp6(1),t.Q6J("ngSwitchCase","Key development"),t.xp6(1),t.Q6J("ngSwitchCase","SWOT analysis"),t.xp6(1),t.Q6J("ngSwitchCase","Strategy"),t.xp6(2),t.Q6J("ngIf",n.interConnectData))},directives:[b.sg,b.mk,b.RF,b.O5,b.n9,vl,Nl,Bl,rd,W],pipes:[b.rS],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:18px;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.main-container[_ngcontent-%COMP%]{padding:0}.tabular-company[_ngcontent-%COMP%]   .company-btn-option[_ngcontent-%COMP%]{margin:0 10px 10px 0;font-size:12px}.company-container[_ngcontent-%COMP%]{margin-top:20px}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}"]}),i})()}];let Cd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[S.Bz.forChild(vd)],S.Bz]}),i})();var wd=O(7531),yd=O(7261);let xd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[b.ez,Cd,B.QW,j.m9,Gt.JF,wd.c,ln,yd.ZX,U.ef,Oe.g0,Ft.To]]}),i})()}}]);