import{a as e,b as f}from"./chunk-PSNWUR5M.js";import{C as n,Eb as h,F as i,X as l,nb as u,sb as c}from"./chunk-H3JZIXOS.js";var s={position:"bottom-right",duration:2e3},a=class o{constructor(r){this.platformId=r;this.isBrowser=u(this.platformId)}notifier=null;loading=null;isBrowser;loadNotifier(){return this.isBrowser?this.notifier?Promise.resolve(this.notifier):this.loading?this.loading:(this.loading=import("./chunk-YTBYAZBB.js").then(r=>{let t=r.default??r;return this.notifier=new t(s),this.notifier}).catch(r=>(console.error("Failed to load awesome-notifications",r),this.loading=null,null)),this.loading):Promise.resolve(null)}successToast(r){this.isBrowser&&this.loadNotifier().then(t=>t?.success(r,s))}errorToast(r){this.isBrowser&&this.loadNotifier().then(t=>t?.alert(r,s))}warningToast(r){this.isBrowser&&this.loadNotifier().then(t=>t?.warning(r,s))}infoToast(r){this.isBrowser&&this.loadNotifier().then(t=>t?.info(r,s))}tipToast(r){this.isBrowser&&this.loadNotifier().then(t=>t?.tip(r,s))}asyncToast(r){return this.isBrowser?this.loadNotifier().then(t=>t?t.async(Promise.resolve(r)):null):Promise.resolve(null)}asyncBlock(r){return this.isBrowser?this.loadNotifier().then(t=>t?t.asyncBlock(Promise.resolve(r)):null):Promise.resolve(null)}modal(r){this.isBrowser&&this.loadNotifier().then(t=>t?.modal(r))}static \u0275fac=function(t){return new(t||o)(i(l))};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};var p=class o{constructor(r,t,g,v){this.http=r;this.router=t;this.as=g;this.ts=v}login(r){return console.log("Backend URL:",e.url),this.http.post(`${e.url}/auth/login`,r)}resetPassword(r){return console.log("Reset Password URL:",`${e.url}/auth/reset-password`),this.http.post(`${e.url}/auth/reset-password`,r)}requestPasswordReset(r){return console.log("Request Reset URL:",`${e.url}/auth/forgot-password`),this.http.post(`${e.url}/auth/forgot-password`,{email:r})}changePassword(r){return console.log("Change Password URL:",`${e.url}/auth/change-password`),this.http.post(`${e.url}/auth/change-password`,r)}isLoggedIn(){return!!this.ts.getToken()}getCurrentUser(){return JSON.parse(localStorage.getItem("user")||"{}")}logout(){this.as.infoToast("You are logged out."),this.cleanUserData(),this.router.navigate(["/login"])}cleanUserData(){localStorage.removeItem("user"),localStorage.removeItem("Token"),localStorage.removeItem("refreshToken"),this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||o)(i(c),i(h),i(a),i(f))};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{a,p as b};
